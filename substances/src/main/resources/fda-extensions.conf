



# THIS FILE CONTAINS CONFIGRATION THAT WILL NOT WORK WITH 3.1.2+
# WAS NOT GENERALLY USED IN PUBLIC VERSIONS
# TO BE MODIFIED

gsrs.entityProcessors +={
               "entityClassName" = "ix.ginas.models.v1.Substance",
               "processor" = "gsrs.module.substance.processors.UniqueCodeGenerator",
               "with"=  {
                        "useLegacy"=true,
                        "codesystem"="BDNUM",
                       "suffix"="AB",
                       "length"=9,
                       # For BDNUM of 9 chars, max has 7 digits, taking into account the length
                       # of the suffix. Only have max uncommented if useLegacy==false
                       # "max": 9999999,
                       "padding"=true
               }
        }


gsrs.entityProcessors +=
        {
        "entityClassName" = "ix.ginas.models.v1.Substance",
        "processor" = "gsrs.module.substance.processors.ApprovalIdProcessor",
        "parameters" = {
            "codeSystem" = "FDA UNII"
        }
        }

ix.ginas.export.factories.substances = ${ix.ginas.export.factories.substances}[
    #"gsrs.module.substance.ExtraColumnsSpreadsheetExporterFactory",
	"fda.gsrs.substance.exporters.FDANameExporterFactory",
	"fda.gsrs.substance.exporters.FDACodeExporterFactory",
	"fda.gsrs.substance.exporters.SPLValidatorXMLExporterFactory",
	"fda.gsrs.substance.exporters.ExcelSubstanceRelatedApplicationsExporterFactory",
	"fda.gsrs.substance.exporters.ExcelSubstanceRelatedProductsExporterFactory",
	"fda.gsrs.substance.exporters.ExcelSubstanceRelatedClinicalTrialsUSExporterFactory",
	"fda.gsrs.substance.exporters.ExcelSubstanceRelatedClinicalTrialsEuropeExporterFactory",
    # "ix.ginas.exporters.SRSLegacyDictionaryExporterFactory"
]

ix.ginas.approvalIdGenerator.generatorClass=ix.ginas.utils.UNIIGenerator


gsrs.validators.substances += {

                "validatorClass" = "fda.gsrs.substance.validators.BdNumModificationValidator",
                "newObjClass" = "ix.ginas.models.v1.Substance"
        }
