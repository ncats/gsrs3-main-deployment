{"version":3,"mappings":"sWAIMA,iBACCA,iBACCA,eACEA,eACEA,SACFA,QACFA,QACFA,gCAN4CA,qCAEdA,kDACxBA,6DAPVA,eACEA,4CACAA,iBACEA,uBAQFA,QACFA,4BATkDA,+DAUlDA,eACEA,aAAGA,2CAA+BA,QACpCA,SCNK,IAAMC,EAAb,eAAaA,EAAb,0CAME,0CACEC,gBANFC,cAA8C,GAC9CD,cAAuC,GACvCA,mBAAmB,IAAIE,IAGvBF,EANF,uCAWE,WAAQ,WACNG,KAAKC,iBAAiBC,UAAU,YAC9BC,EAAKC,UAAYA,EACK,MAAlBD,EAAKC,WACPD,EAAKE,2BAfb,kCAoBU,WAAoB,WAC1BL,KAAKM,YAAc,GACfN,KAAKI,UAAUN,eAAiBE,KAAKI,UAAUN,cAAcS,OAAS,IACxEP,KAAKI,UAAUN,cAAcU,QAAQ,YACT,2BAAtBC,EAAaC,MACfP,EAAKG,YAAYK,KAAKF,EAAaG,oBAGvCZ,KAAKa,YAAYC,KAAKd,KAAKM,YAAYC,aA5B7CQ,GAAyDC,kDAA5CpB,8BAAmCqB,sSDT9CtB,uBAaAA,8BAbMA,qCAaAA,2iBCJKC,EAAb,yBCMasB,EAAb,eAAaA,KAAbC,iFAAaD,4DARF,CACPE,KACAC,aAAsCzB,GACtC0B,KACAC,QAISL,EAAb","names":["i0","SubstanceConceptDefinitionComponent","c","relationships","Subject","this","substanceUpdated","subscribe","a","substance","getConceptDefinition","definitions","length","forEach","relationship","type","push","relatedSubstance","countUpdate","emit","s","SubstanceCardBase","selectors","SubstanceConceptDefinitionModule","r","CommonModule","DynamicComponentLoaderModule","RouterModule","SubstanceImageModule"],"sources":["./src/app/core/substance-details/substance-concept-definition/substance-concept-definition.component.html","./src/app/core/substance-details/substance-concept-definition/substance-concept-definition.component.ts","./src/app/core/substance-details/substance-concept-definition/substance-concept-definition.module.ts"],"sourcesContent":["\r\n  <div *ngIf=\"definitions.length > 0\">\r\n    This record is a subconcept of\r\n    <div class =\"thumb-row\">\r\n      <div class=\"thumb-col\" *ngFor=\"let definition of definitions\">\r\n       <img class=\"image-thumb\" appSubstanceImage [entityId]=\"definition.refuuid\">\r\n        <div>\r\n          <a class=\"substance-name\" [routerLink]=\"['/substances', definition.refuuid]\" >\r\n            {{definition.refPname}}\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf = \"definitions.length == 0\">\r\n    <i>This is a non-substance concept</i>\r\n  </div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {SubstanceCardBase} from '../substance-card-base';\r\nimport {SubstanceDetail, SubstanceRelated, SubstanceRelationship} from '../../substance/substance.model';\r\nimport {Subject} from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-substance-concept-definition',\r\n  templateUrl: './substance-concept-definition.component.html',\r\n  styleUrls: ['./substance-concept-definition.component.scss']\r\n})\r\nexport class SubstanceConceptDefinitionComponent extends SubstanceCardBase implements OnInit {\r\n  relationships: Array<SubstanceRelationship> = [];\r\n  definitions: Array<SubstanceRelated> = [];\r\n  substanceUpdated = new Subject<SubstanceDetail>();\r\n\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    this.substanceUpdated.subscribe(substance => {\r\n      this.substance = substance;\r\n      if (this.substance != null) {\r\n        this.getConceptDefinition();\r\n      }\r\n    });\r\n  }\r\n\r\n  private getConceptDefinition(): void {\r\n    this.definitions = [];\r\n    if (this.substance.relationships && this.substance.relationships.length > 0) {\r\n      this.substance.relationships.forEach(relationship => {\r\n        if (relationship.type === 'SUBSTANCE->SUB_CONCEPT') {\r\n          this.definitions.push(relationship.relatedSubstance);\r\n        }\r\n      });\r\n      this.countUpdate.emit(this.definitions.length);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SubstanceConceptDefinitionComponent } from './substance-concept-definition.component';\r\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SubstanceImageModule } from '@gsrs-core/substance/substance-image.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    DynamicComponentLoaderModule.forChild(SubstanceConceptDefinitionComponent),\r\n    RouterModule,\r\n    SubstanceImageModule\r\n  ],\r\n  declarations: [SubstanceConceptDefinitionComponent]\r\n})\r\nexport class SubstanceConceptDefinitionModule { }\r\n"],"sourceRoot":"webpack:///","file":"6597.156fe57317ecd262.js"}