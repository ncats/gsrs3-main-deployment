"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[7022],{87022:function(q,f,e){e.r(f),e.d(f,{SubstanceConstituentsModule:function(){return G}});var C=e(1884),v=e(39117),y=e(36362),p=e(98002),O=e(64061),b=e(46751),Z=e(56101),P=e(63169),S=e(50253),T=e(68756),w=e(40104),t=e(86613),d=e(95758),A=e(54244),x=e(44770),h=e(43365),g=e(90587),l=e(97217),U=e(9292),_=e(73430),M=e(26439);function J(n,o){1&n&&(t.TgZ(0,"th",15),t._uU(1," Substance "),t.qZA())}var N=function(o){return["/substances",o]};function Y(n,o){if(1&n&&(t.TgZ(0,"td",16),t.TgZ(1,"div",17),t.TgZ(2,"div"),t._uU(3),t.qZA(),t._UZ(4,"img",18),t.TgZ(5,"div"),t.TgZ(6,"a",19),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){var i=o.$implicit;t.xp6(3),t.Oqu(i.substance.linkingID),t.xp6(1),t.Q6J("entityId",i.substance.refuuid),t.xp6(2),t.Q6J("routerLink",t.VKq(4,N,i.substance.refuuid)),t.xp6(1),t.hij(" ",i.substance.name," ")}}function j(n,o){1&n&&(t.TgZ(0,"th",15),t._uU(1," Role "),t.qZA())}function Q(n,o){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){var i=o.$implicit;t.xp6(1),t.hij(" ",i.role," ")}}function D(n,o){1&n&&(t.TgZ(0,"th",15),t._uU(1," Amount "),t.qZA())}function R(n,o){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){var i=o.$implicit,s=t.oxw();t.xp6(1),t.hij(" ",s.toString(i.amount)," ")}}function z(n,o){1&n&&(t.TgZ(0,"th",15),t._uU(1," References "),t.qZA())}function I(n,o){if(1&n){var i=t.EpF();t.TgZ(0,"h2",22),t._uU(1,"References"),t.qZA(),t.TgZ(2,"div",23),t._UZ(3,"app-references-manager",24),t.qZA(),t.TgZ(4,"div",25),t._UZ(5,"span",1),t.TgZ(6,"button",26),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).close()}),t._uU(7,"Close"),t.qZA(),t.qZA()}if(2&n){var s=t.oxw().$implicit,r=t.oxw();t.xp6(3),t.Q6J("substance",r.substance)("references",s.references)}}function B(n,o){if(1&n){var i=t.EpF();t.TgZ(0,"td",16),t.TgZ(1,"button",20),t.NdJ("click",function(){t.CHM(i);var a=t.MAs(4);return t.oxw().openModal(a)}),t._uU(2,"View"),t.qZA(),t.YNc(3,I,8,2,"ng-template",null,21,t.W1O),t.qZA()}if(2&n){var s=o.$implicit;t.xp6(1),t.Q6J("disabled",!s.references||s.references.length<=0)}}function E(n,o){1&n&&t._UZ(0,"tr",27)}function H(n,o){1&n&&t._UZ(0,"tr",28)}var F=function(){return[5,10,25,100]},L=function(){var n=function(o){(0,b.Z)(s,o);var i=(0,Z.Z)(s);function s(r,a,c,m){var u;return(0,v.Z)(this,s),(u=i.call(this,a)).utilsService=r,u.gaService=a,u.dialog=c,u.overlayContainerService=m,u.substanceUpdated=new S.x,u.displayedColumns=["Substance","Role","Amount","References"],u}return(0,C.Z)(s,[{key:"ngOnInit",value:function(){var a=this;this.substanceUpdated.subscribe(function(c){null!=c&&null!=c.specifiedSubstance&&c.specifiedSubstance.constituents&&(a.constituents=c.specifiedSubstance.constituents,a.filtered=a.substance.specifiedSubstance.constituents,a.pageChange(),a.searchControl.valueChanges.subscribe(function(m){a.filterList(m,a.constituents,a.analyticsEventCategory)},function(m){console.log(m)})),a.countUpdate.emit(a.constituents.length)}),this.overlayContainer=this.overlayContainerService.getContainerElement()}},{key:"toString",value:function(a){return this.utilsService.displayAmount(a)}},{key:"openModal",value:function(a){var c=this;this.gaService.sendEvent(this.analyticsEventCategory,"button","references view");var m=this.dialog.open(a,{minWidth:"40%",maxWidth:"90%"});this.overlayContainer.style.zIndex="1002",m.afterClosed().subscribe(function(u){c.overlayContainer.style.zIndex=null})}},{key:"close",value:function(){this.dialog.closeAll()}}]),s}(T.uJ);return n.\u0275fac=function(i){return new(i||n)(t.Y36(P.FW),t.Y36(w.$),t.Y36(d.uw),t.Y36(A.Xj))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-substance-constituents"]],features:[t.qOj],decls:21,vars:9,consts:[[1,"flex-row"],[1,"middle-fill"],[1,"search",3,"floatLabel"],["matInput","","placeholder","Search",3,"formControl"],[1,"responsive"],["mat-table","",3,"dataSource"],["matColumnDef","Substance"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Role"],["matColumnDef","Amount"],["matColumnDef","References"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","true",3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell",""],["mat-cell",""],[1,"thumb-col"],["appSubstanceImage","",1,"structure-image",3,"entityId"],[1,"substance-name",3,"routerLink"],[1,"mat-raised-button","mat-primary","dialog-close",3,"disabled","click"],["refTemplate",""],["mat-dialog-title",""],["mat-dialog-content",""],[3,"substance","references"],["mat-dialog-actions",""],["mat-dialog-close","",1,"mat-raised-button","mat-primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,s){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.TgZ(2,"mat-form-field",2),t._UZ(3,"input",3),t.qZA(),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"table",5),t.ynx(6,6),t.YNc(7,J,2,0,"th",7),t.YNc(8,Y,8,6,"td",8),t.BQk(),t.ynx(9,9),t.YNc(10,j,2,0,"th",7),t.YNc(11,Q,2,1,"td",8),t.BQk(),t.ynx(12,10),t.YNc(13,D,2,0,"th",7),t.YNc(14,R,2,1,"td",8),t.BQk(),t.ynx(15,11),t.YNc(16,z,2,0,"th",7),t.YNc(17,B,5,1,"td",8),t.BQk(),t.YNc(18,E,1,0,"tr",12),t.YNc(19,H,1,0,"tr",13),t.qZA(),t.qZA(),t.TgZ(20,"mat-paginator",14),t.NdJ("page",function(a){return s.pageChange(a,s.analyticsEventCategory)}),t.qZA()),2&i&&(t.xp6(2),t.Q6J("floatLabel","never"),t.xp6(1),t.Q6J("formControl",s.searchControl),t.xp6(2),t.Q6J("dataSource",s.paged),t.xp6(13),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(1),t.Q6J("length",s.filtered&&s.filtered.length||0)("pageSize",5)("pageSizeOptions",t.DdM(8,F)))},directives:[x.KE,h.Nt,g.Fj,g.JJ,g.oH,l.BZ,l.w1,l.fO,l.ge,l.Dz,l.ev,U.m,p.yS,d.uh,d.xY,_.C,d.H8,d.ZT,l.as,l.XQ,l.nj,l.Gk,M.NW],styles:[".unit-form-container[_ngcontent-%COMP%]{padding:30px 10px 12px;position:relative;display:-ms-flexbox;display:flex}.related-substance[_ngcontent-%COMP%]{max-width:20%;width:20%}  .related-substance img{max-width:125px!important;margin:auto}.structure-image[_ngcontent-%COMP%]{max-width:150px}.full[_ngcontent-%COMP%]{width:100%}.form-container[_ngcontent-%COMP%]{width:80%}.notification-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;display:-ms-flexbox;display:flex;z-index:10;background-color:var(--notif-backdrop-bg-color);-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:30px;font-weight:700;color:var(--notif-backdrop-color)}.form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.form-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .attachment-count[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .connectivity[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .connectivity[_ngcontent-%COMP%]{width:50%}.form-row[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{width:50%;padding-right:15px}.inner-row-top[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.inner-row-top[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.inner-row-top[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .inner-row-top[_ngcontent-%COMP%]   .attachment-count[_ngcontent-%COMP%], .inner-row-top[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.inner-row-top[_ngcontent-%COMP%]   .connectivity[_ngcontent-%COMP%]{width:100%}.inner-row-top[_ngcontent-%COMP%]   .connectivity-container[_ngcontent-%COMP%]{width:50%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.inner-row-top[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{width:50%;padding-right:15px}.inner-row-bottom[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.inner-row-bottom[_ngcontent-%COMP%]   .connectivity[_ngcontent-%COMP%]{width:50%}.inner-row-bottom[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{width:50%;padding-right:15px}.references-container[_ngcontent-%COMP%]{width:100%}.padded[_ngcontent-%COMP%]{padding-right:20px}.amount-display[_ngcontent-%COMP%]{padding-top:11px}.form-actions[_ngcontent-%COMP%]{-ms-flex-pack:start;justify-content:flex-start;margin:5px 0 10px}.form-content[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}.mod-type[_ngcontent-%COMP%], .location-type[_ngcontent-%COMP%], .sites[_ngcontent-%COMP%], .group-access[_ngcontent-%COMP%], .extent[_ngcontent-%COMP%], .amount[_ngcontent-%COMP%]{width:33%}.group[_ngcontent-%COMP%], .access[_ngcontent-%COMP%]{width:45%}"]}),n}(),$=e(11920),W=e(33865),X=e(40089),V=e(64316),k=e(65590),K=e(24054),G=function(){var n=(0,C.Z)(function o(){(0,v.Z)(this,o)});return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[y.ez,p.Bz,O.o.forChild(L),l.p0,$.V,k.Ps,d.Is,M.TU,g.u5,x.lN,g.UX,h.c,W.HT,X.AV,p.Bz,V.JX,K.f]]}),n}()}}]);
//# sourceMappingURL=7022.b9b1b1a61a9b79f6.js.map