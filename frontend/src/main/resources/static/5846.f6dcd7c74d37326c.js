"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[5846],{65846:function(W,h,n){n.r(h),n.d(h,{SubstanceFormOtherLinksModule:function(){return G}});var u=n(1884),m=n(39117),d=n(36362),O=n(75143),b=n(7168),f=n(19975),v=n(65590),p=n(87317),C=n(94673),y=n(44770),g=n(90587),L=n(26439),T=n(43365),k=n(40089),Z=n(31959),S=n(46751),x=n(56101),F=n(79550),D=n(40104),M=n(71896),t=n(86613),A=n(78444),P=n(51279),I=(n(27299),n(63169)),U=n(18291),E=n(39401),J=n(33567),Y=n(95758),N=n(54244),Q=n(16667),V=n(14900);function $(o,a){if(1&o){var i=t.EpF();t.TgZ(0,"div",13),t._uU(1," Deleted\xa0 "),t.TgZ(2,"button",14),t.NdJ("click",function(){return t.CHM(i),t.oxw().undoDelete()}),t._UZ(3,"mat-icon",15),t.qZA(),t.qZA()}}var j=function(){var o=function(){function a(i,e,s,r,c){(0,m.Z)(this,a),this.cvService=i,this.dialog=e,this.utilsService=s,this.overlayContainerService=r,this.substanceFormService=c,this.linkDeleted=new t.vpe,this.subscriptions=[]}return(0,u.Z)(a,[{key:"ngOnInit",value:function(){this.getVocabularies(),this.overlayContainer=this.overlayContainerService.getContainerElement(),this.updateDisplay()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){e.unsubscribe()})}},{key:"link",get:function(){return this.privateLink},set:function(e){this.privateLink=e}},{key:"updateDisplay",value:function(){this.siteDisplay=this.substanceFormService.siteString(this.privateLink.sites)}},{key:"deleteLink",value:function(){var e=this;this.privateLink.$$deletedCode=this.utilsService.newUUID(),this.deleteTimer=setTimeout(function(){e.linkDeleted.emit(e.link),e.substanceFormService.emitOtherLinkUpdate()},2e3)}},{key:"undoDelete",value:function(){clearTimeout(this.deleteTimer),delete this.privateLink.$$deletedCode}},{key:"getVocabularies",value:function(){var e=this,s=this.cvService.getDomainVocabulary("OTHER_LINKAGE_TYPE").subscribe(function(r){e.linkageTypes=r.OTHER_LINKAGE_TYPE.list});this.subscriptions.push(s)}},{key:"openDialog",value:function(){var e=this,s=this.dialog.open(E.r,{data:{card:"other",link:this.privateLink.sites},width:"1040px",panelClass:"subunit-dialog"});this.overlayContainer.style.zIndex="1002";var r=s.afterClosed().subscribe(function(l){e.overlayContainer.style.zIndex=null,l&&(e.privateLink.sites=l,e.substanceFormService.emitOtherLinkUpdate()),e.updateDisplay()});s.backdropClick().subscribe(function(l){}).unsubscribe(),this.subscriptions.push(r)}}]),a}();return o.\u0275fac=function(i){return new(i||o)(t.Y36(U.I),t.Y36(Y.uw),t.Y36(I.FW),t.Y36(N.Xj),t.Y36(J.B))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-other-links-form"]],inputs:{link:"link"},outputs:{linkDeleted:"linkDeleted"},decls:15,vars:4,consts:[[1,"link-form-container"],["class","notification-backdrop",4,"ngIf"],[1,"form-row"],[1,"delete-container"],["mat-icon-button","","matTooltip","Delete link",3,"click"],["svgIcon","delete_forever"],[1,"type"],["domain","OTHER_LINKAGE_TYPE","title","Sequence Type",3,"model","valueChange"],[1,"links"],[1,"label"],["mat-icon-button","","matTooltip","Select sites from display",3,"click"],["svgIcon","edit"],[3,"source"],[1,"notification-backdrop"],["mat-icon-button","","matTooltip","Undo",3,"click"],["svgIcon","undo"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t.YNc(1,$,4,0,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"button",4),t.NdJ("click",function(){return e.deleteLink()}),t._UZ(5,"mat-icon",5),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"app-cv-input",7),t.NdJ("valueChange",function(r){return e.link.linkageType=r}),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t._uU(10,"link"),t.qZA(),t._uU(11),t.TgZ(12,"button",10),t.NdJ("click",function(){return e.openDialog()}),t._UZ(13,"mat-icon",11),t.qZA(),t.qZA(),t.qZA(),t._UZ(14,"app-audit-info",12),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngIf",e.link.$$deletedCode),t.xp6(6),t.Q6J("model",e.link.linkageType),t.xp6(4),t.hij(" ",e.siteDisplay," "),t.xp6(3),t.Q6J("source",e.link))},directives:[d.O5,p.lW,k.gM,v.Hw,Q.S,V.n],styles:[".link-form-container[_ngcontent-%COMP%]{padding:30px 10px 12px;position:relative}.notification-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;display:-ms-flexbox;display:flex;z-index:10;background-color:var(--notif-backdrop-bg-color);-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:30px;font-weight:700;color:var(--notif-backdrop-color)}.form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.form-row[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{width:40%}.selectedSite[_ngcontent-%COMP%]{padding-left:2px;padding-right:2px}"]}),o}();function H(o,a){1&o&&t._UZ(0,"mat-divider",8),2&o&&t.Q6J("inset",!0)}function z(o,a){if(1&o){var i=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"app-other-links-form",6),t.NdJ("linkDeleted",function(l){return t.CHM(i),t.oxw().deleteLink(l)}),t.qZA(),t.YNc(2,H,1,1,"mat-divider",7),t.qZA()}if(2&o){var e=a.$implicit,s=a.last;t.Q6J("id","substance-other-links-"+a.index),t.xp6(1),t.Q6J("link",e),t.xp6(1),t.Q6J("ngIf",!s)}}var X=function(){var o=function(a){(0,S.Z)(e,a);var i=(0,x.Z)(e);function e(s,r,c){var l;return(0,m.Z)(this,e),(l=i.call(this,c)).substanceFormOtherLinksService=s,l.scrollToService=r,l.gaService=c,l.subscriptions=[],l.analyticsEventCategory="substance form otherLinks",l}return(0,u.Z)(e,[{key:"ngOnInit",value:function(){this.canAddItemUpdate.emit(!0),this.menuLabelUpdate.emit("Other Links")}},{key:"ngAfterViewInit",value:function(){var r=this,c=this.substanceFormOtherLinksService.substanceOtherLinks.subscribe(function(l){r.otherLinks=l});this.subscriptions.push(c)}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.emit(),this.subscriptions.forEach(function(r){r.unsubscribe()})}},{key:"addItem",value:function(){this.addOtherLink()}},{key:"addOtherLink",value:function(){var r=this;this.substanceFormOtherLinksService.addSubstanceOtherLink(),setTimeout(function(){r.scrollToService.scrollToElement("substance-other-links-0","center")})}},{key:"deleteLink",value:function(r){this.substanceFormOtherLinksService.deleteSubstanceOtherLink(r)}}]),e}(F.u);return o.\u0275fac=function(i){return new(i||o)(t.Y36(M.X),t.Y36(A.i),t.Y36(D.$))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-substance-form-other-links-card"]],features:[t.qOj],decls:8,vars:1,consts:[[1,"flex-row"],[1,"middle-fill"],["class","alternate-backgrounds","appScrollToTarget","",3,"id",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["svgIcon","add_circle_outline"],["appScrollToTarget","",1,"alternate-backgrounds",3,"id"],[3,"link","linkDeleted"],["class","form-divider",3,"inset",4,"ngIf"],[1,"form-divider",3,"inset"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.qZA(),t.YNc(2,z,3,3,"div",2),t.TgZ(3,"div",0),t._UZ(4,"span",1),t.TgZ(5,"button",3),t.NdJ("click",function(){return e.addOtherLink()}),t._uU(6," Add link "),t._UZ(7,"mat-icon",4),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.Q6J("ngForOf",e.otherLinks))},directives:[d.sg,P.P,j,d.O5,f.d,p.lW,v.Hw],styles:[".mat-divider.mat-divider-inset[_ngcontent-%COMP%]{margin-left:0}.mat-divider[_ngcontent-%COMP%]{border-top-color:var(--box-shadow-color-3)}.code[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--nth-child-color-2)}.code[_ngcontent-%COMP%]:nth-child(odd)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:var(--nth-child-color-3)}.code[_ngcontent-%COMP%]:nth-child(even)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:var(--nth-child-color-1)}.code[_ngcontent-%COMP%]     .mat-expansion-panel, .code[_ngcontent-%COMP%]     .mat-table, .code[_ngcontent-%COMP%]     textarea{background-color:var(--regular-transparent-color)}"]}),o}(),R=n(91434),G=(n(64061),function(){var o=(0,u.Z)(function a(){(0,m.Z)(this,a)});return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,O.o0.forChild(X),b.O,f.t,v.Ps,p.ot,C.w,y.lN,g.UX,g.u5,L.TU,k.AV,Z.vV,T.c,R.LD]]}),o}())}}]);
//# sourceMappingURL=5846.f6dcd7c74d37326c.js.map