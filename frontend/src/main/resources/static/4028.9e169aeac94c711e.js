"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[4028],{94028:function(li,S,a){a.r(S),a.d(S,{SubstanceOverviewModule:function(){return ci}});var m=a(1884),b=a(39117),Z=a(36362),I=a(64061),D=a(46751),N=a(56101),J=a(2756),Q=a(52149),Y=a(24874),M=a(88951),P=a(12570),p=a(90587),x=a(93979),V=a(50253),F=a(18291),E=a(53141),L=a(22544),e=a(86613),$=a(50318),_=a(98002),j=a(93392),k=a(54244),R=a(95758),T=a(87317),q=a(40089),C=a(65590),f=a(82796),H=a(9292),O=a(44770),w=a(91434),z=a(1130),A=a(81196),K=a(73430),B=function(){var i=function(){function s(){(0,b.Z)(this,s)}return(0,m.Z)(s,[{key:"transform",value:function(u,c){var t=u.toLowerCase().replace(" ","");return"chemical"===t?"Chemical":"nucleicacid"===t?"Nucleic Acid":"protein"===t?"Protein":"specifiedsubstanceg1"===t?"Group 1 Specified Substance":"polymer"===t?"Polymer":"structurallydiverse"===t?"Structurally Diverse":"polymer"===t?"Polymer":"concept"===t?"Concept":"specifiedsubstanceg3"===t?"Group 3 Specified Substance":u}}]),s}();return i.\u0275fac=function(n){return new(n||i)},i.\u0275pipe=e.Yjl({name:"classDisplay",type:i,pure:!0}),i}();function W(i,s){if(1&i&&(e.TgZ(0,"a",29),e.TgZ(1,"span",30),e._uU(2,"open in old application in new tab"),e.qZA(),e._UZ(3,"mat-icon",31),e.qZA()),2&i){var n=e.oxw(2);e.Q6J("href",n.oldUrl,e.LSH)}}var G=function(s){return["/substances",s,"edit"]};function X(i,s){if(1&i&&(e.TgZ(0,"span"),e.TgZ(1,"a",32),e._UZ(2,"mat-icon",33),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.Q6J("routerLink",e.VKq(1,G,n.substance.uuid))}}var ee=function(){return["/substances/register"]},ie=function(s){return{stagingID:s}};function ne(i,s){if(1&i&&(e.TgZ(0,"span"),e.TgZ(1,"a",34),e._UZ(2,"mat-icon",33),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.Q6J("routerLink",e.DdM(2,ee))("queryParams",e.VKq(3,ie,n.substance._metadata.recordId))}}function te(i,s){if(1&i&&(e.TgZ(0,"button",36),e._UZ(1,"mat-icon",10),e.qZA()),2&i){e.oxw(2);var n=e.MAs(12);e.Q6J("matMenuTriggerFor",n)}}function se(i,s){if(1&i&&(e.TgZ(0,"a",38),e._UZ(1,"mat-icon",33),e.qZA()),2&i){var n=e.oxw(4);e.Q6J("href",n.baseDomain+n.clasicBaseHref+"substance/"+n.substance.uuid+"/edit",e.LSH)}}function ae(i,s){1&i&&e.YNc(0,se,2,1,"ng-template",null,37,e.W1O)}function oe(i,s){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,te,2,1,"button",35),e.YNc(2,ae,2,0,null,0),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.isEditable)("ngIfElse",n.editClassic),e.xp6(1),e.Q6J("ngIf",n.showlinks&&(!n.substance.$$source||"staging"!==n.substance.$$source))}}function ce(i,s){if(1&i&&(e.TgZ(0,"a",39),e.TgZ(1,"span"),e._uU(2,"Download JSON"),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.MGl("download","",n.substance.approvalID?n.substance.approvalID.toString():n.substance.uuid.toString(),".json"),e.Q6J("href",n.downloadJsonHref,e.LSH)}}function ue(i,s){if(1&i&&(e.TgZ(0,"div",40),e.TgZ(1,"span",41),e._uU(2),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(2),e.hij(" ",n.substance.definitionLevel," DEFINITION ")}}function re(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(2),e.hij("Record ",n.approvalCode?n.approvalCode:"Approval ID",""),e.xp6(2),e.Oqu(n.substance._approvalIDDisplay)}}function ve(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(2),e.Oqu(n.defaultCodeSystem),e.xp6(2),e.Oqu(n.defaultCodes)}}function le(i,s){1&i&&(e.TgZ(0,"span"),e.TgZ(1,"span"),e._uU(2,"Not a public record"),e.qZA(),e._uU(3,"\xa0 "),e._UZ(4,"mat-icon",42),e.qZA())}function de(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,"Public record"),e.qZA(),e._uU(2,"\xa0 "),e._UZ(3,"mat-icon",43))}function pe(i,s){1&i&&(e.TgZ(0,"span",45),e._uU(1,"RECORD IS DEPRECATED"),e.qZA())}function fe(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Record Status"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.YNc(5,pe,2,0,"span",44),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(4),e.hij("","approved"===n.substance.status?n.primaryCode:n.substance.status," "),e.xp6(1),e.Q6J("ngIf",n.substance.deprecated)}}function ge(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Protein Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.protein.proteinType)}}function me(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Protein Sub-type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.protein.proteinSubType.replace("|",", "))}}function be(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Sequence Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.protein.sequenceType)}}function Ze(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Sequence Origin"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.protein.sequenceOrigin)}}function _e(i,s){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,ge,5,1,"div",17),e.YNc(2,me,5,1,"div",17),e.YNc(3,be,5,1,"div",17),e.YNc(4,Ze,5,1,"div",17),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.substance.protein.proteinType),e.xp6(1),e.Q6J("ngIf",n.substance.protein.proteinSubType),e.xp6(1),e.Q6J("ngIf",n.substance.protein.sequenceType),e.xp6(1),e.Q6J("ngIf",n.substance.protein.sequenceOrigin)}}function Te(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Nucleic Acid Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.nucleicAcid.nucleicAcidType)}}function Ae(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Nucleic Acid Sub-type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.nucleicAcid.nucleicAcidSubType.join(", "))}}function he(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Sequence Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.nucleicAcid.sequenceType)}}function ye(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Sequence Origin"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.nucleicAcid.sequenceOrigin)}}function Se(i,s){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,Te,5,1,"div",17),e.YNc(2,Ae,5,1,"div",17),e.YNc(3,he,5,1,"div",17),e.YNc(4,ye,5,1,"div",17),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.substance.nucleicAcid.nucleicAcidType),e.xp6(1),e.Q6J("ngIf",n.substance.nucleicAcid.nucleicAcidSubType&&n.substance.nucleicAcid.nucleicAcidSubType.length>0),e.xp6(1),e.Q6J("ngIf",n.substance.nucleicAcid.sequenceType),e.xp6(1),e.Q6J("ngIf",n.substance.nucleicAcid.sequenceOrigin)}}function xe(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Source Materials Class"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.sourceMaterialClass)}}function qe(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Source Materials Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.sourceMaterialType)}}function Ce(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Source Materials State"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.sourceMaterialState)}}var h=function(s){return["/substances",s]};function Oe(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Source Materials Parent"),e.qZA(),e.TgZ(3,"div",47),e._UZ(4,"img",48),e.TgZ(5,"div"),e.TgZ(6,"a",49),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Q6J("entityId",n.substance.structurallyDiverse.parentSubstance.refuuid),e.xp6(2),e.Q6J("routerLink",e.VKq(3,h,n.substance.structurallyDiverse.parentSubstance.refuuid)),e.xp6(1),e.hij(" ",n.substance.structurallyDiverse.parentSubstance.refPname," ")}}function we(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Organism Family"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.organismFamily)}}function Ue(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Organism Genus"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.organismGenus)}}function Ie(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Organism Species"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.organismSpecies)}}function De(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Organism Infraspecific Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.infraSpecificType)}}function Ne(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Organism Intraspecific Name"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.infraSpecificName)}}function Je(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Organism Author"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.organismAuthor)}}function Qe(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Developmental Stage"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.developmentalStage)}}function Ye(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,", "),e.qZA())}function Me(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,Ye,2,0,"span",0),e.qZA()),2&i){var n=s.$implicit,u=s.last;e.xp6(1),e.hij(" ",n,""),e.xp6(1),e.Q6J("ngIf",!u)}}function Pe(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Part"),e.qZA(),e.TgZ(3,"div",16),e.YNc(4,Me,3,2,"span",50),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",n.substance.structurallyDiverse.part)}}function Ve(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Fraction Materials Type"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.fractionMaterialType)}}function Fe(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Fraction Name"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Oqu(n.substance.structurallyDiverse.fractionName)}}function Ee(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Hybrid Paternal Organism"),e.qZA(),e.TgZ(3,"div",47),e._UZ(4,"img",48),e.TgZ(5,"div"),e.TgZ(6,"a",49),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Q6J("entityId",n.substance.structurallyDiverse.hybridSpeciesPaternalOrganism.refuuid),e.xp6(2),e.Q6J("routerLink",e.VKq(3,h,n.substance.structurallyDiverse.hybridSpeciesPaternalOrganism.refuuid)),e.xp6(1),e.hij(" ",n.substance.structurallyDiverse.hybridSpeciesPaternalOrganism.refPname," ")}}function Le(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Hybrid Maternal Organism"),e.qZA(),e.TgZ(3,"div",47),e._UZ(4,"img",48),e.TgZ(5,"div"),e.TgZ(6,"a",49),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){var n=e.oxw(3);e.xp6(4),e.Q6J("entityId",n.substance.structurallyDiverse.hybridSpeciesMaternalOrganism.refuuid),e.xp6(2),e.Q6J("routerLink",e.VKq(3,h,n.substance.structurallyDiverse.hybridSpeciesMaternalOrganism.refuuid)),e.xp6(1),e.hij(" ",n.substance.structurallyDiverse.hybridSpeciesMaternalOrganism.refPname," ")}}function $e(i,s){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,xe,5,1,"div",17),e.YNc(2,qe,5,1,"div",17),e.YNc(3,Ce,5,1,"div",17),e.YNc(4,Oe,8,5,"div",17),e.YNc(5,we,5,1,"div",17),e.YNc(6,Ue,5,1,"div",17),e.YNc(7,Ie,5,1,"div",17),e.YNc(8,De,5,1,"div",17),e.YNc(9,Ne,5,1,"div",17),e.YNc(10,Je,5,1,"div",17),e.YNc(11,Qe,5,1,"div",17),e.YNc(12,Pe,5,1,"div",17),e.YNc(13,Ve,5,1,"div",17),e.YNc(14,Fe,5,1,"div",17),e.YNc(15,Ee,8,5,"div",17),e.YNc(16,Le,8,5,"div",17),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.sourceMaterialClass),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.sourceMaterialType),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.sourceMaterialState),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.parentSubstance),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.organismFamily),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.organismGenus),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.organismSpecies),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.infraSpecificType),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.infraSpecificName),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.organismAuthor),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.developmentalStage),e.xp6(1),e.Q6J("ngIf",(null==n.substance.structurallyDiverse.part?null:n.substance.structurallyDiverse.part.length)>0),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.fractionMaterialType),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse.fractionName),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse&&n.substance.structurallyDiverse.hybridSpeciesPaternalOrganism),e.xp6(1),e.Q6J("ngIf",n.substance.structurallyDiverse&&n.substance.structurallyDiverse.hybridSpeciesMaternalOrganism)}}function je(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Record Version"),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA(),e.qZA()),2&i){var n=e.oxw(2);e.xp6(4),e.Oqu(n.substance.version)}}function ke(i,s){if(1&i&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&i){var n=s.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",n," ")}}function Re(i,s){if(1&i){var n=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).changeVersion()}),e._uU(1,"View"),e.qZA()}}function He(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._uU(2,"Record Version"),e.qZA(),e.TgZ(3,"mat-form-field",51),e.TgZ(4,"mat-select",52),e.YNc(5,ke,2,2,"mat-option",53),e.qZA(),e.qZA(),e.YNc(6,Re,2,0,"button",54),e.qZA()),2&i){var n=e.oxw(2);e.xp6(4),e.Q6J("formControl",n.versionControl),e.xp6(1),e.Q6J("ngForOf",n.versions),e.xp6(1),e.Q6J("ngIf",n.substance.version!=n.versionControl.value)}}function ze(i,s){if(1&i){var n=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).restoreVersion()}),e._uU(1,"Restore this version"),e.qZA()}}function Ke(i,s){if(1&i&&(e.TgZ(0,"div",57),e._uU(1),e.YNc(2,ze,2,0,"button",54),e.qZA()),2&i){var n=e.oxw(2);e.xp6(1),e.hij(" This is an older version of this substance - Ver. ",n.substance.version," "),e.xp6(1),e.Q6J("ngIf",n.isAdmin)}}function Be(i,s){if(1&i&&(e.TgZ(0,"mat-chip",58),e._uU(1),e.qZA()),2&i){var n=s.$implicit;e.xp6(1),e.hij(" ",n," ")}}function We(i,s){if(1&i){var n=e.EpF();e.TgZ(0,"div",14),e.TgZ(1,"div",15),e.TgZ(2,"a",59),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).toggleReferences()}),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._UZ(5,"mat-icon",60),e.qZA(),e.qZA(),e.qZA()}if(2&i){var u=e.oxw(2);e.xp6(4),e.hij("",!1===u.showDef?"Show":"Hide"," Definitional References"),e.xp6(1),e.s9C("svgIcon",u.defIcon)}}function Ge(i,s){1&i&&(e.TgZ(0,"span"),e.TgZ(1,"span"),e._uU(2,"Not a public definition"),e.qZA(),e._uU(3,"\xa0 "),e._UZ(4,"mat-icon",42),e.qZA())}function Xe(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,"Public definition"),e.qZA(),e._uU(2,"\xa0 "),e._UZ(3,"mat-icon",43))}var U=function(s){return["/substances/register",s]},ei=function(s){return{copy:s}},ii=function(s){return{copy:s,copyType:"definition"}};function ni(i,s){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,W,4,1,"a",2),e.YNc(3,X,3,3,"span",0),e.YNc(4,ne,3,5,"span",0),e.YNc(5,oe,3,3,"span",0),e.TgZ(6,"button",3),e._UZ(7,"mat-icon",4),e.qZA(),e.TgZ(8,"mat-menu",5,6),e.YNc(10,ce,3,2,"a",7),e.qZA(),e.TgZ(11,"mat-menu",5,8),e.TgZ(13,"a",9),e._UZ(14,"mat-icon",10),e.qZA(),e.TgZ(15,"a",11),e._UZ(16,"mat-icon",12),e.qZA(),e.qZA(),e.qZA(),e.YNc(17,ue,3,1,"div",13),e.TgZ(18,"div"),e.TgZ(19,"div",14),e.TgZ(20,"div",15),e._uU(21,"Substance Class"),e.qZA(),e.TgZ(22,"div",16),e._uU(23),e.ALo(24,"classDisplay"),e.qZA(),e.qZA(),e.YNc(25,re,5,2,"div",17),e.YNc(26,ve,5,2,"div",17),e.TgZ(27,"div",14),e.TgZ(28,"div",15),e._uU(29,"Record Protection Status"),e.qZA(),e.TgZ(30,"div",16),e.YNc(31,le,5,0,"span",18),e.YNc(32,de,4,0,"ng-template",null,19,e.W1O),e.qZA(),e.qZA(),e.YNc(34,fe,6,2,"div",17),e.YNc(35,_e,5,4,"div",20),e.YNc(36,Se,5,4,"div",20),e.YNc(37,$e,17,16,"div",20),e.YNc(38,je,5,1,"div",17),e.YNc(39,He,7,3,"div",17),e.YNc(40,Ke,3,2,"div",21),e.TgZ(41,"div",14),e.TgZ(42,"div",15),e._uU(43,"Tags"),e.qZA(),e.TgZ(44,"div",22),e.TgZ(45,"mat-chip-list",23,24),e.YNc(47,Be,2,1,"mat-chip",25),e.qZA(),e.qZA(),e.qZA(),e.YNc(48,We,6,2,"div",17),e.TgZ(49,"div",26),e._UZ(50,"app-references-manager",27),e.qZA(),e.TgZ(51,"div",14),e.TgZ(52,"div",15),e._uU(53,"Definitional Access"),e.qZA(),e.TgZ(54,"div",16),e.YNc(55,Ge,5,0,"span",18),e.YNc(56,Xe,4,0,"ng-template",null,28,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){var n=e.MAs(9),u=e.MAs(33),c=e.MAs(57),t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.showlinks),e.xp6(1),e.Q6J("ngIf",t.canEdit&&!(t.substance.$$source&&"staging"==t.substance.$$source)),e.xp6(1),e.Q6J("ngIf",t.canEdit&&t.substance.$$source&&"staging"==t.substance.$$source),e.xp6(1),e.Q6J("ngIf",t.canEdit&&!(t.substance.$$source&&"staging"==t.substance.$$source)),e.xp6(1),e.Q6J("matMenuTriggerFor",n),e.xp6(4),e.Q6J("ngIf",t.substance.uuid),e.xp6(3),e.Q6J("routerLink",e.VKq(32,U,t.substance.substanceClass))("queryParams",e.VKq(34,ei,t.substance.uuid)),e.xp6(2),e.Q6J("routerLink",e.VKq(36,U,t.substance.substanceClass))("queryParams",e.VKq(38,ii,t.substance.uuid)),e.xp6(2),e.Q6J("ngIf",t.substance.definitionLevel&&"COMPLETE"!==t.substance.definitionLevel),e.xp6(6),e.Oqu(e.lcZ(24,30,t.substance.substanceClass)),e.xp6(2),e.Q6J("ngIf",!t.substance.$$source),e.xp6(1),e.Q6J("ngIf",t.defaultCodes),e.xp6(5),e.Q6J("ngIf",t.substance.access&&t.substance.access.length>0)("ngIfElse",u),e.xp6(3),e.Q6J("ngIf",!t.substance.$$source),e.xp6(1),e.Q6J("ngIf",t.substance.protein),e.xp6(1),e.Q6J("ngIf",t.substance.nucleicAcid),e.xp6(1),e.Q6J("ngIf",t.substance.structurallyDiverse),e.xp6(1),e.Q6J("ngIf",!t.isAdmin&&!t.substance.$$source),e.xp6(1),e.Q6J("ngIf",t.isAdmin&&!t.substance.$$source),e.xp6(1),e.Q6J("ngIf",t.substance.version!=t.latestVersion&&!t.substance.$$source),e.xp6(7),e.Q6J("ngForOf",t.substance.tags),e.xp6(1),e.Q6J("ngIf",(null==t.references?null:t.references.length)>0),e.xp6(1),e.Q6J("hidden",!t.showDef),e.xp6(1),e.Q6J("substance",t.substance)("references",t.references),e.xp6(5),e.Q6J("ngIf",t.defAccess&&t.defAccess.length>0)("ngIfElse",c)}}var ti=function(){var i=function(s){(0,D.Z)(u,s);var n=(0,N.Z)(u);function u(c,t,r,d,l,y,g,v,ui,ri,vi){var o;return(0,b.Z)(this,u),(o=n.call(this)).sanitizer=c,o.utilsService=t,o.gaService=r,o.substanceService=d,o.router=l,o.authService=y,o.cvService=g,o.configService=v,o.loadingService=ui,o.overlayContainerService=ri,o.dialog=vi,o.references=[],o.showDef=!1,o.defIcon="drop_down",o.versionControl=new p.NI("",p.kI.required),o.versions=[],o.isEditable=!1,o.isAdmin=!1,o.substanceUpdated=new V.x,o.defaultCodeSystem="BDNUM",o.primaryCode="Validated (UNII)",o.subscriptions=[],o.showlinks=!1,o.baseDomain=o.configService.configData.apiUrlDomain,o.clasicBaseHref=o.configService.environment.clasicBaseHref,o}return(0,m.Z)(u,[{key:"ngOnInit",value:function(){var t=this,d=(this.authService.hasAnyRolesAsync("updater","superUpdater").subscribe(function(v){t.canEdit=v,t.isEditable=v&&null!=t.substance.substanceClass&&(null!=x.x[t.substance.substanceClass.toLowerCase()]||null!=x.x[t.substance.substanceClass])}),this.authService.hasAnyRolesAsync("admin").subscribe(function(v){t.isAdmin=v}));this.subscriptions.push(d),this.getSubtypeRefs(this.substance);var l=JSON.stringify(this.substance),y=this.sanitizer.bypassSecurityTrustUrl("data:text/json;charset=UTF-8,"+encodeURIComponent(l));if(this.downloadJsonHref=y,this.getVersion(),this.getClassFromCv(),this.oldUrl=this.substanceService.oldSiteRedirect("details",this.substance.uuid),null!=this.configService.configData.defaultCodeSystem&&""!==this.configService.configData.defaultCodeSystem&&(this.defaultCodeSystem=this.configService.configData.defaultCodeSystem),null!=this.configService.configData.approvalCodeName&&""!==this.configService.configData.approvalCodeName&&(this.approvalCode=this.configService.configData.approvalCodeName,this.substance.codes.forEach(function(v){v.codeSystem==t.approvalCode&&(t.substance._approvalIDDisplay=v.code)})),this.configService.configData.primaryCode&&""!==this.configService.configData.primaryCode&&(this.primaryCode="Validated ("+this.configService.configData.primaryCode+")"),this.configService.configData&&this.configService.configData.showOldLinks&&(this.showlinks=!0),this.getDefAccess(),null!=this.substance.codes&&this.substance.codes.length>0){var g=[];this.substance.codes.forEach(function(v){v.codeSystem===t.defaultCodeSystem&&g.push(v.code)}),this.defaultCodes=g.join(", ")}this.overlayContainer=this.overlayContainerService.getContainerElement()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){t.unsubscribe()})}},{key:"ngAfterViewInit",value:function(){var t=this,r=this.substanceUpdated.subscribe(function(d){t.substance=d,t.getVersion()});this.subscriptions.push(r)}},{key:"getDefAccess",value:function(){this.substance.structurallyDiverse?this.defAccess=this.substance.structurallyDiverse.access:this.substance.protein?this.defAccess=this.substance.protein.access:this.substance.structure?this.defAccess=this.substance.structure.access:this.substance.mixture?this.defAccess=this.substance.mixture.access:this.substance.polymer?this.defAccess=this.substance.polymer.access:this.substance.nucleicAcid?this.defAccess=this.substance.nucleicAcid.access:this.substance.specifiedSubstance&&(this.defAccess=this.substance.specifiedSubstance.access)}},{key:"getSubtypeRefs",value:function(t){t.mixture?this.references=t.mixture.references:t.protein?this.references=t.protein.references:t.nucleicAcid?this.references=t.nucleicAcid.references:t.polymer?this.references=t.polymer.references:t.structure?this.references=t.structure.references:t.structurallyDiverse?this.references=t.structurallyDiverse.references:t.specifiedSubstance&&(this.references=t.specifiedSubstance.references)}},{key:"getVersion",value:function(){var t=this;this.substanceService.checkVersion(this.substance.uuid).subscribe(function(r){t.versions=[],t.latestVersion=r,t.setVersionList(),t.versionControl.setValue(t.substance.version)},function(r){console.log(r)})}},{key:"changeVersion",value:function(){var t=this.versionControl.value.toString();this.router.navigate(["/substances/"+this.substance.uuid+"/v/"+t])}},{key:"setVersionList",value:function(){for(var t=1;t<=this.latestVersion;t++)this.versions.push(t.toString())}},{key:"toggleReferences",value:function(){this.gaService.sendEvent(this.analyticsEventCategory,"link-toggle","references",this.showDef?0:1),this.showDef=!this.showDef,this.defIcon=this.showDef?"drop_up":"drop_down"}},{key:"getClassFromCv",value:function(){var t=this;this.cvService.getDomainVocabulary("SUBSTANCE_CLASS").subscribe(function(r){r.SUBSTANCE_CLASS.list.forEach(function(l){l.value===t.substance.substanceClass&&(t.substance.substanceClass=l.display)})})}},{key:"restoreVersion",value:function(){var t=this,r=this.dialog.open(L.h,{data:{substance:this.substance,version:this.substance.version,latest:this.latestVersion.toString()},width:"650px",autoFocus:!1,disableClose:!0});this.overlayContainer.style.zIndex="1002",r.afterClosed().subscribe(function(l){t.overlayContainer.style.zIndex=null,l&&"success"===l&&(t.router.onSameUrlNavigation="reload",t.router.navigate(["/substances/"+t.substance.uuid+"/"]))})}}]),u}(J.B);return i.\u0275fac=function(n){return new(n||i)(e.Y36($.H7),e.Y36(Q.F),e.Y36(Y.$),e.Y36(P.d),e.Y36(_.F0),e.Y36(M.e),e.Y36(F.I),e.Y36(E.E),e.Y36(j.b),e.Y36(k.Xj),e.Y36(R.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-substance-overview"]],features:[e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"options-area"],["mat-icon-button","","target","_blank","matTooltip","view in old application",3,"href",4,"ngIf"],["mat-icon-button","","aria-label","download file","matTooltip","download options","name","download",3,"matMenuTriggerFor"],["svgIcon","get_app"],["xPosition","before"],["downloadMenu","matMenu"],["name","download_json","mat-menu-item","",3,"href","download",4,"ngIf"],["editMenu","matMenu"],["mat-icon-button","","matTooltip","copy substance to new registration form",3,"routerLink","queryParams"],["svgIcon","file_copy"],["mat-icon-button","","matTooltip","copy definition to new registration form",3,"routerLink","queryParams"],["svgIcon","outline-file_copy"],["class","extra-area",4,"ngIf"],[1,"name-value"],[1,"name"],[1,"value","blue-font"],["class","name-value",4,"ngIf"],[4,"ngIf","ngIfElse"],["lockedIndicator",""],["class","diverseWrapper",4,"ngIf"],["class","indent",4,"ngIf"],[1,"value"],["aria-label","Tags","selectable","false"],["tagList",""],["removable","false",4,"ngFor","ngForOf"],[3,"hidden"],[3,"substance","references"],["defIndicator",""],["mat-icon-button","","target","_blank","matTooltip","view in old application",3,"href"],["hidden",""],["svgIcon","open_in_new"],["mat-icon-button","","matTooltip","edit record","name","edit_record","aria-label","edit record",3,"routerLink"],["svgIcon","edit"],["mat-icon-button","","matTooltip","edit record","name","edit_record","aria-label","edit record",3,"routerLink","queryParams"],["mat-icon-button","","name","edit_substance","matTooltip","copy to edit form options","aria-label","copy file",3,"matMenuTriggerFor",4,"ngIf","ngIfElse"],["mat-icon-button","","name","edit_substance","matTooltip","copy to edit form options","aria-label","copy file",3,"matMenuTriggerFor"],["editClassic",""],["mat-icon-button","","name","edit","target","_blank",3,"href"],["name","download_json","mat-menu-item","",3,"href","download"],[1,"extra-area"],[1,"definition-level"],["svgIcon","lock"],["svgIcon","lock_open"],["class","deprecated",4,"ngIf"],[1,"deprecated"],[1,"diverseWrapper"],[1,"thumb-col"],["appSubstanceImage","","size","400",1,"image-thumb",3,"entityId"],[1,"substance-name",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"version-dropdown"],[1,"version-select",3,"formControl"],["class","version-option",3,"value",4,"ngFor","ngForOf"],["mat-button","","class","mat-raised-button mat-primary view-version",3,"click",4,"ngIf"],[1,"version-option",3,"value"],["mat-button","",1,"mat-raised-button","mat-primary","view-version",3,"click"],[1,"indent"],["removable","false"],["tabindex","0","role","link",1,"blue-font","references-link",3,"click"],[3,"svgIcon"]],template:function(n,u){1&n&&e.YNc(0,ni,58,40,"div",0),2&n&&e.Q6J("ngIf",u.substance)},directives:[Z.O5,T.zs,q.gM,C.Hw,_.yS,T.lW,f.p6,f.VK,f.OP,H.m,Z.sg,O.KE,w.gD,p.JJ,p.oH,z.ey,A.qn,A.HS,K.C],pipes:[B],styles:[".references-link[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.version-dropdown[_ngcontent-%COMP%]{width:50px;border:0px;height:20px}.diverseWrapper[_ngcontent-%COMP%]{padding-bottom:20px}.view-version[_ngcontent-%COMP%]{margin-left:10px}.version-dropdown[_ngcontent-%COMP%]     .mat-form-field-infix{border:0px}.options-area[_ngcontent-%COMP%]{float:right;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.pre[_ngcontent-%COMP%]{white-space:pre}.definition-level[_ngcontent-%COMP%]{color:var(--link-color);font-size:16px}.deprecated[_ngcontent-%COMP%]{margin-left:10px;font-size:13px;color:var(--pink-span-color)}.extra-area[_ngcontent-%COMP%]{float:right;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-right:70px}.large-icon[_ngcontent-%COMP%]{height:32px;width:32px}.icon-button[_ngcontent-%COMP%]{padding:5px;height:34px;width:34px;min-width:34px;margin:2px}.indent[_ngcontent-%COMP%]{padding-left:12px;padding-bottom:10px}.standardize[_ngcontent-%COMP%]{padding-right:25px}.overview-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.form-row[_ngcontent-%COMP%]{width:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}"]}),i}(),si=a(38277),ai=a(16531),oi=a(24054),ci=function(){var i=(0,m.Z)(function s(){(0,b.Z)(this,s)});return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[Z.ez,I.o.forChild(ti),si.V,ai.To,C.Ps,_.Bz,O.lN,q.AV,w.LD,p.UX,f.Tx,T.ot,oi.f,A.Hi]]}),i}()}}]);
//# sourceMappingURL=4028.9e169aeac94c711e.js.map