"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[4394],{64394:function(R,C,e){e.r(C),e.d(C,{SubstanceFormMixtureComponentsModule:function(){return X}});var p=e(48047),l=e(78069),c=e(36362),h=e(75143),x=e(7168),f=e(19975),d=e(65590),v=e(87317),M=e(94673),T=e(44770),g=e(90587),b=e(26439),Z=e(43365),y=e(24582),F=e(7318),S=e(79550),U=e(87625),O=e(40104),t=e(76442),A=e(78444),I=e(51279),P=e(63169),D=e(66088),J=e(24459),N=e(16667);function Q(i,r){if(1&i){var o=t.EpF();t.TgZ(0,"div",11),t._uU(1," Deleted\xa0 "),t.TgZ(2,"button",12),t.NdJ("click",function(){return t.CHM(o),t.oxw().undoDelete()}),t._UZ(3,"mat-icon",13),t.qZA(),t.qZA()}}function Y(i,r){1&i&&(t.TgZ(0,"span",14),t._uU(1,"*required"),t.qZA())}var E=function(){var i=function(){function r(o,n){(0,l.Z)(this,r),this.utilsService=o,this.overlayContainerService=n,this.componentDeleted=new t.vpe,this.invalid=!1}return(0,p.Z)(r,[{key:"onFocusout",value:function(){this.invalid=!this.privateComp.type}},{key:"ngOnInit",value:function(){this.overlayContainer=this.overlayContainerService.getContainerElement()}},{key:"component",get:function(){return this.privateComp},set:function(n){this.privateComp=n,this.privateComp.substance&&(this.relatedSubstanceUuid=this.privateComp.substance.refuuid)}},{key:"updateType",value:function(n){this.privateComp.type=n,this.invalid=!this.privateComp.type}},{key:"deleteComponent",value:function(){var n=this;this.privateComp.$$deletedCode=this.utilsService.newUUID(),(!this.privateComp||!this.component)&&(this.deleteTimer=setTimeout(function(){n.componentDeleted.emit(n.privateComp)},1e3))}},{key:"undoDelete",value:function(){clearTimeout(this.deleteTimer),delete this.privateComp.$$deletedCode}},{key:"componentUpdated",value:function(n){this.component.substance={refPname:n._name,name:n._name,refuuid:n.uuid,substanceClass:"reference",approvalID:n.approvalID},this.relatedSubstanceUuid=this.component.substance.refuuid}}]),r}();return i.\u0275fac=function(o){return new(o||i)(t.Y36(P.FW),t.Y36(D.Xj))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-mixture-component-form"]],hostBindings:function(o,n){1&o&&t.NdJ("focusout",function(){return n.onFocusout()})},inputs:{component:"component"},outputs:{componentDeleted:"componentDeleted"},decls:11,vars:6,consts:[[1,"component-form-container","form-row"],["class","notification-backdrop",4,"ngIf"],[1,"delete-container"],["mat-icon-button","","matTooltip","Delete code",3,"click"],["svgIcon","delete_forever"],[1,"related-substance"],[1,"flex-column"],["eventCategory","substanceRelationshipRelatedSub","placeholder","Mixture Component","header","Mixture Component",3,"subuuid","name","selectionUpdated"],[1,"type"],["domain","MIXTURE_TYPE","title","Mixture Component Type *",3,"ngClass","model","valueChange"],["class","invalid-note",4,"ngIf"],[1,"notification-backdrop"],["mat-icon-button","","matTooltip","Undo",3,"click"],["svgIcon","undo"],[1,"invalid-note"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.YNc(1,Q,4,0,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"button",3),t.NdJ("click",function(){return n.deleteComponent()}),t._UZ(4,"mat-icon",4),t.qZA(),t.qZA(),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"app-substance-selector",7),t.NdJ("selectionUpdated",function(a){return n.componentUpdated(a)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.TgZ(9,"app-cv-input",9),t.NdJ("valueChange",function(a){return n.updateType(a)}),t.qZA(),t.YNc(10,Y,2,0,"span",10),t.qZA(),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",n.component.$$deletedCode),t.xp6(6),t.Q6J("subuuid",n.relatedSubstanceUuid)("name",n.component.substance?n.component.substance.name:""),t.xp6(2),t.Q6J("ngClass",n.invalid?"invalid":"")("model",n.component.type),t.xp6(1),t.Q6J("ngIf",n.invalid))},directives:[c.O5,v.lW,d.Hw,J.Q,N.S,c.mk],styles:[".component-form-container[_ngcontent-%COMP%]{padding:30px 10px 12px;position:relative}.form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.form-row[_ngcontent-%COMP%]   .related-substance[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{width:30%;-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{width:30%}  .related-substance img{max-width:125px!important;margin:auto}.invalid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:red}.invalid[_ngcontent-%COMP%]     .mat-form-field-label{color:red}.invalid[_ngcontent-%COMP%]     .mat-select-arrow{color:red}.invalid-note[_ngcontent-%COMP%]{margin-bottom:18px;font-style:italic;font-size:14px;color:red}"]}),i}();function $(i,r){1&i&&t._UZ(0,"mat-divider",8),2&i&&t.Q6J("inset",!0)}function H(i,r){if(1&i){var o=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"app-mixture-component-form",6),t.NdJ("componentDeleted",function(m){return t.CHM(o),t.oxw().deleteComponent(m)}),t.qZA(),t.YNc(2,$,1,1,"mat-divider",7),t.qZA()}if(2&i){var n=r.$implicit,s=r.last;t.Q6J("id","substance-mixture-component-"+r.index),t.xp6(1),t.Q6J("component",n),t.xp6(1),t.Q6J("ngIf",!s)}}var j=function(){var i=function(r){(0,y.Z)(n,r);var o=(0,F.Z)(n);function n(s,a,u){var m;return(0,l.Z)(this,n),(m=o.call(this,u)).substanceFormMixtureComponentsService=s,m.scrollToService=a,m.gaService=u,m.subscriptions=[],m}return(0,p.Z)(n,[{key:"ngOnInit",value:function(){this.canAddItemUpdate.emit(!0),this.menuLabelUpdate.emit("Components"),this.analyticsEventCategory="substance form mixture components"}},{key:"ngAfterViewInit",value:function(){var a=this,u=this.substanceFormMixtureComponentsService.substanceMixtureComponents.subscribe(function(m){a.relationships=m});this.subscriptions.push(u)}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.emit(),this.subscriptions.forEach(function(a){a.unsubscribe()})}},{key:"addItem",value:function(){this.addComponent()}},{key:"addComponent",value:function(){var a=this;this.substanceFormMixtureComponentsService.addSubstanceMixtureComponent(),setTimeout(function(){a.scrollToService.scrollToElement("substance-mixture-component-0","center")})}},{key:"deleteComponent",value:function(a){this.substanceFormMixtureComponentsService.deleteSubstanceMixtureComponent(a)}}]),n}(S.u);return i.\u0275fac=function(o){return new(o||i)(t.Y36(U.b),t.Y36(A.i),t.Y36(O.$))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-substance-form-mixture-components-card"]],features:[t.qOj],decls:12,vars:1,consts:[[1,"flex-row"],[1,"middle-fill"],["class","relationship","appScrollToTarget","",3,"id",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["svgIcon","add_circle_outline"],["appScrollToTarget","",1,"relationship",3,"id"],[3,"component","componentDeleted"],["class","form-divider",3,"inset",4,"ngIf"],[1,"form-divider",3,"inset"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.qZA(),t.YNc(2,H,3,3,"div",2),t.TgZ(3,"div",0),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.addComponent()}),t._uU(5," Add component "),t._UZ(6,"mat-icon",4),t.qZA(),t.qZA(),t.TgZ(7,"div",0),t._UZ(8,"span",1),t.TgZ(9,"button",3),t.NdJ("click",function(){return n.addComponent()}),t._uU(10," Add component "),t._UZ(11,"mat-icon",4),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("ngForOf",n.relationships))},directives:[c.sg,I.P,E,c.O5,f.d,v.lW,d.Hw],styles:[""]}),i}(),k=e(63200),X=(e(64061),function(){var i=(0,p.Z)(function r(){(0,l.Z)(this,r)});return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[c.ez,h.o0.forChild(j),x.O,f.t,d.Ps,v.ot,M.w,T.lN,g.UX,g.u5,b.TU,Z.c,k.U]]}),i}())}}]);
//# sourceMappingURL=4394.9d7f56427461ceb0.js.map