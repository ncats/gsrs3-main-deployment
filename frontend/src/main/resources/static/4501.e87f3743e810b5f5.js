"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[4501],{24501:function(G,f,t){t.r(f),t.d(f,{SubstanceFormMonomersModule:function(){return W}});var d=t(1884),u=t(39117),l=t(36362),b=t(46751),C=t(56101),y=t(79550),x=t(24874),Z=t(21584),e=t(86613),T=t(78444),S=t(51279),O=t(18291),F=t(63169),A=t(27164),U=t(95758),P=t(54244),p=t(87317),v=t(65590),k=t(24459),I=t(16667),g=t(61534),D=t(14900);function J(r,m){if(1&r){var o=e.EpF();e.TgZ(0,"div",20),e._uU(1," Deleted\xa0 "),e.TgZ(2,"button",21),e.NdJ("click",function(){return e.CHM(o),e.oxw().undoDelete()}),e._UZ(3,"mat-icon",22),e.qZA(),e.qZA()}}function N(r,m){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){var o=e.oxw();e.xp6(1),e.hij(" Error retrieving monomer, missing reference uuid for ",o.privateMonomer.monomerSubstance.name," ")}}function Q(r,m){if(1&r&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&r){var o=e.oxw();e.xp6(1),e.hij(" ",o.displayAmount(o.privateMonomer.amount)," ")}}var Y=function(){var r=function(){function m(o,n,i,a){(0,u.Z)(this,m),this.cvService=o,this.dialog=n,this.utilsService=i,this.overlayContainerService=a,this.monomerDeleted=new e.vpe,this.subscriptions=[]}return(0,d.Z)(m,[{key:"ngOnInit",value:function(){this.overlayContainer=this.overlayContainerService.getContainerElement()}},{key:"monomer",get:function(){return this.privateMonomer},set:function(n){this.privateMonomer=n,this.relatedSubstanceUuid=this.privateMonomer.monomerSubstance?this.privateMonomer.monomerSubstance.refuuid:""}},{key:"updateType",value:function(n){this.privateMonomer.type=n}},{key:"definingChange",value:function(n){this.privateMonomer.defining=n.checked}},{key:"ngAfterViewInit",value:function(){}},{key:"deleteComponent",value:function(){var n=this;this.privateMonomer.$$deletedCode=this.utilsService.newUUID(),(!this.privateMonomer||!this.monomer)&&(this.deleteTimer=setTimeout(function(){n.monomerDeleted.emit(n.privateMonomer)},1e3))}},{key:"undoDelete",value:function(){clearTimeout(this.deleteTimer),delete this.privateMonomer.$$deletedCode}},{key:"componentUpdated",value:function(n){null!==n?(this.privateMonomer.monomerSubstance={refPname:n._name,name:n._name,refuuid:n.uuid,substanceClass:"reference",approvalID:n.approvalID},this.relatedSubstanceUuid=this.privateMonomer.monomerSubstance.refuuid):(this.privateMonomer.monomerSubstance=null,this.relatedSubstanceUuid=null)}},{key:"openAmountDialog",value:function(){var n=this;this.privateMonomer.amount||(this.privateMonomer.amount={});var i=this.dialog.open(A.O,{data:{subsAmount:this.privateMonomer.amount},width:"1040px"});this.overlayContainer.style.zIndex="1002";var a=i.afterClosed().subscribe(function(c){n.overlayContainer.style.zIndex=null,n.privateMonomer.amount=c});this.subscriptions.push(a)}},{key:"displayAmount",value:function(n){return this.utilsService.displayAmount(n)}},{key:"formatValue",value:function(n){return n?"object"==typeof n?n.display?n.display:n.value?n.value:null:n:null}}]),m}();return r.\u0275fac=function(o){return new(o||r)(e.Y36(O.I),e.Y36(U.uw),e.Y36(F.FW),e.Y36(P.Xj))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-monomer-form"]],inputs:{monomer:"monomer"},outputs:{monomerDeleted:"monomerDeleted"},decls:22,vars:8,consts:[[1,"component-form-container","form-row"],["class","notification-backdrop",4,"ngIf"],[1,"delete-container"],["mat-icon-button","","matTooltip","Delete monomer",3,"click"],["svgIcon","delete_forever"],[1,"related-substance"],[1,"flex-column"],["eventCategory","substanceRelationshipRelatedSub","placeholder","Monomer Substance","header","Monomer Substance",3,"subuuid","name","selectionUpdated"],[4,"ngIf"],[1,"type"],["domain","MONOMER_TYPE","title","Monomer Type",3,"model","valueChange"],[1,"amount"],[1,"label","padded","amount-label"],["mat-icon-button","","matTooltip","add",3,"click"],["svgIcon","add_circle_outline"],["class","amount-display",4,"ngIf"],[1,"checkbox-container","column-checkbox"],[3,"checked","change"],[1,"form-row"],[3,"source"],[1,"notification-backdrop"],["mat-icon-button","","matTooltip","Undo",3,"click"],["svgIcon","undo"],[1,"amount-display"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,J,4,0,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return n.deleteComponent()}),e._UZ(4,"mat-icon",4),e.qZA(),e.qZA(),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"app-substance-selector",7),e.NdJ("selectionUpdated",function(a){return n.componentUpdated(a)}),e.qZA(),e.YNc(8,N,2,1,"span",8),e.qZA(),e.qZA(),e.TgZ(9,"div",9),e.TgZ(10,"app-cv-input",10),e.NdJ("valueChange",function(a){return n.updateType(a)}),e.qZA(),e.qZA(),e.TgZ(11,"div",11),e.TgZ(12,"div",12),e._uU(13," Amount "),e.TgZ(14,"button",13),e.NdJ("click",function(){return n.openAmountDialog()}),e._UZ(15,"mat-icon",14),e.qZA(),e.qZA(),e.YNc(16,Q,2,1,"div",15),e.qZA(),e.TgZ(17,"div",16),e.TgZ(18,"mat-checkbox",17),e.NdJ("change",function(a){return n.definingChange(a)}),e._uU(19,"Defining"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",18),e._UZ(21,"app-audit-info",19),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.monomer.$$deletedCode),e.xp6(6),e.Q6J("subuuid",n.relatedSubstanceUuid)("name",n.privateMonomer.monomerSubstance?n.privateMonomer.monomerSubstance.name:""),e.xp6(1),e.Q6J("ngIf",n.privateMonomer.monomerSubstance&&n.privateMonomer.monomerSubstance.uuid&&!n.privateMonomer.monomerSubstance.refuuid),e.xp6(2),e.Q6J("model",n.monomer.type),e.xp6(6),e.Q6J("ngIf",n.privateMonomer.amount),e.xp6(2),e.Q6J("checked",n.privateMonomer.defining),e.xp6(3),e.Q6J("source",n.privateMonomer))},directives:[l.O5,p.lW,v.Hw,k.Q,I.S,g.oG,D.n],styles:[".notification-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;display:-ms-flexbox;display:flex;z-index:10;background-color:var(--notif-backdrop-bg-color);-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:30px;font-weight:700;color:var(--notif-backdrop-color)}.component-form-container[_ngcontent-%COMP%]{padding:30px 10px 12px;position:relative}.form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.form-row[_ngcontent-%COMP%]   .related-substance[_ngcontent-%COMP%]{width:30%}.form-row[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{width:25%;-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{min-width:15%}.amount-label[_ngcontent-%COMP%]{padding-bottom:10px}  .related-substance img{max-width:125px!important;margin:auto}.defining[_ngcontent-%COMP%]{padding-bottom:20px}.column-checkbox[_ngcontent-%COMP%]     .mat-checkbox-layout{-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center}.column-checkbox[_ngcontent-%COMP%]     .mat-checkbox-inner-container{margin-right:unset;margin-left:unset}.column-checkbox[_ngcontent-%COMP%]     .mat-checkbox-layout .mat-checkbox-label{padding-left:0;font-size:11px;padding-bottom:7.5px;line-height:11px}.checkbox-container[_ngcontent-%COMP%], .radio-container[_ngcontent-%COMP%]{padding-bottom:16px;padding-right:15px}"]}),r}(),h=t(19975);function j(r,m){1&r&&e._UZ(0,"mat-divider",8),2&r&&e.Q6J("inset",!0)}function E(r,m){if(1&r){var o=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"app-monomer-form",6),e.NdJ("monomerDeleted",function(s){return e.CHM(o),e.oxw().deleteCode(s)}),e.qZA(),e.YNc(2,j,1,1,"mat-divider",7),e.qZA()}if(2&r){var n=m.$implicit,i=m.last;e.Q6J("id","substance-monomer-"+m.index),e.xp6(1),e.Q6J("monomer",n),e.xp6(1),e.Q6J("ngIf",!i)}}var _=function(){var r=function(m){(0,b.Z)(n,m);var o=(0,C.Z)(n);function n(i,a,c){var s;return(0,u.Z)(this,n),(s=o.call(this,c)).substanceFormMonomersService=i,s.scrollToService=a,s.gaService=c,s.subscriptions=[],s.analyticsEventCategory="substance form monomers",s}return(0,d.Z)(n,[{key:"ngOnInit",value:function(){this.canAddItemUpdate.emit(!0),this.menuLabelUpdate.emit("Monomers")}},{key:"ngAfterViewInit",value:function(){var a=this,c=this.substanceFormMonomersService.substanceMonomers.subscribe(function(s){a.monomers=s});this.subscriptions.push(c)}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.emit(),this.subscriptions.forEach(function(a){a.unsubscribe()})}},{key:"addItem",value:function(){this.addMonomer()}},{key:"addMonomer",value:function(){var a=this;this.substanceFormMonomersService.addSubstanceMonomer(),setTimeout(function(){a.scrollToService.scrollToElement("substance-monomer-0","center")})}},{key:"deleteMonomer",value:function(a){this.substanceFormMonomersService.deleteSubstanceMonomer(a)}}]),n}(y.u);return r.\u0275fac=function(o){return new(o||r)(e.Y36(Z.C),e.Y36(T.i),e.Y36(x.$))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-substance-form-monomers-card"]],features:[e.qOj],decls:8,vars:1,consts:[[1,"flex-row"],[1,"middle-fill"],["class","monomer","appScrollToTarget","",3,"id",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["svgIcon","add_circle_outline"],["appScrollToTarget","",1,"monomer",3,"id"],[3,"monomer","monomerDeleted"],["class","form-divider",3,"inset",4,"ngIf"],[1,"form-divider",3,"inset"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"span",1),e.qZA(),e.YNc(2,E,3,3,"div",2),e.TgZ(3,"div",0),e._UZ(4,"span",1),e.TgZ(5,"button",3),e.NdJ("click",function(){return n.addMonomer()}),e._uU(6," Add Monomer "),e._UZ(7,"mat-icon",4),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngForOf",n.monomers))},directives:[l.sg,S.P,Y,l.O5,h.d,p.lW,v.Hw],styles:[".mat-divider.mat-divider-inset[_ngcontent-%COMP%]{margin-left:0}.mat-divider[_ngcontent-%COMP%]{border-top-color:var(--text-color)}.code[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--nth-child-color-2)}.code[_ngcontent-%COMP%]:nth-child(odd)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:var(--nth-child-color-3)}.code[_ngcontent-%COMP%]:nth-child(even)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:var(--nth-child-color-1)}.code[_ngcontent-%COMP%]     .mat-expansion-panel, .code[_ngcontent-%COMP%]     .mat-table, .code[_ngcontent-%COMP%]     textarea{background-color:var(--regular-transparent-color)}.search[_ngcontent-%COMP%]{width:400px;max-width:100%}"]}),r}(),$=t(64061),z=t(7168),V=t(94673),w=t(44770),M=t(90587),H=t(26439),R=t(43365),X=t(63200),W=function(){var r=(0,d.Z)(function m(){(0,u.Z)(this,m)});return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[l.ez,$.o.forChild(_),z.O,h.t,v.Ps,p.ot,V.w,w.lN,M.UX,M.u5,H.TU,R.c,X.U,g.p9]]}),r}()}}]);
//# sourceMappingURL=4501.e87f3743e810b5f5.js.map