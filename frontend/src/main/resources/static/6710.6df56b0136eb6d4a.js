"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[6710],{36710:function(E,m,u){u.r(m),u.d(m,{SubstanceNaSugarsModule:function(){return J}});var f=u(48047),d=u(78069),p=u(36362),h=u(95106),v=u(24582),C=u(7318),b=u(2756),y=u(50253),N=u(18291),t=u(76442),r=u(97217);function Z(n,e){1&n&&(t.TgZ(0,"th",10),t._uU(1," Sugar "),t.qZA())}function T(n,e){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){var s=e.$implicit,c=t.oxw();t.xp6(1),t.hij(" ",c.getSugarDisplay(s.sugar)," ")}}function x(n,e){1&n&&(t.TgZ(0,"th",10),t._uU(1," Structure "),t.qZA())}function D(n,e){if(1&n&&(t.TgZ(0,"td",11),t._UZ(1,"img",12),t.qZA()),2&n){var s=e.$implicit;t.xp6(1),t.Q6J("src",s.structure,t.LSH)}}function A(n,e){1&n&&(t.TgZ(0,"th",10),t._uU(1," Site Range "),t.qZA())}function U(n,e){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){var s=e.$implicit;t.xp6(1),t.hij(" ",s.sitesShorthand," ")}}function Y(n,e){1&n&&(t.TgZ(0,"th",10),t._uU(1," Site Count "),t.qZA())}function R(n,e){if(1&n&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&n){var s=e.$implicit,c=t.oxw();t.xp6(1),t.hij(" ",c.getSiteCount(s.sites)," ")}}function Q(n,e){1&n&&t._UZ(0,"tr",13)}function I(n,e){1&n&&t._UZ(0,"tr",14)}var O=function(){var n=function(e){(0,v.Z)(c,e);var s=(0,C.Z)(c);function c(o){var a;return(0,d.Z)(this,c),(a=s.call(this)).cvService=o,a.displayedColumns=["Sugar","Structure","Site Range","Site Count"],a.substanceUpdated=new y.x,a.subscriptions=[],a}return(0,f.Z)(c,[{key:"ngOnInit",value:function(){var a=this;this.substanceUpdated.subscribe(function(i){if(a.substance=i,null!=a.substance&&null!=a.substance.nucleicAcid&&null!=a.substance.nucleicAcid.sugars&&a.substance.nucleicAcid.sugars.length){a.sugars=a.substance.nucleicAcid.sugars,a.countUpdate.emit(a.sugars.length);var g=a.cvService.getDomainVocabulary("NUCLEIC_ACID_SUGAR").subscribe(function(S){a.vocabulary=S.NUCLEIC_ACID_SUGAR.dictionary,a.sugars.forEach(function(l){l.structure=a.vocabulary[l.sugar]?a.cvService.getStructureUrlFragment(a.vocabulary[l.sugar].fragmentStructure):null})});a.subscriptions.push(g),a.getTotalSites()}})}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(a){a.unsubscribe()})}},{key:"getTotalSites",value:function(){this.siteCount=0;var i,a=(0,h.Z)(this.sugars);try{for(a.s();!(i=a.n()).done;)this.siteCount=this.siteCount+i.value.sites.length}catch(S){a.e(S)}finally{a.f()}}},{key:"getSiteCount",value:function(a){return a.length+"/"+this.siteCount}},{key:"getSugarDisplay",value:function(a){return this.vocabulary&&this.vocabulary[a]&&this.vocabulary[a].display?this.vocabulary[a].display:a}}]),c}(b.B);return n.\u0275fac=function(s){return new(s||n)(t.Y36(N.I))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-substance-na-sugars"]],features:[t.qOj],decls:16,vars:3,consts:[[1,"responsive"],["mat-table","",3,"dataSource"],["matColumnDef","Sugar"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Structure"],["matColumnDef","Site Range"],["matColumnDef","Site Count"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","style","height:145px",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"structure",3,"src"],["mat-header-row",""],["mat-row","",2,"height","145px"]],template:function(s,c){1&s&&(t.TgZ(0,"div",0),t.TgZ(1,"table",1),t.ynx(2,2),t.YNc(3,Z,2,0,"th",3),t.YNc(4,T,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,x,2,0,"th",3),t.YNc(7,D,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,A,2,0,"th",3),t.YNc(10,U,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,Y,2,0,"th",3),t.YNc(13,R,2,1,"td",4),t.BQk(),t.YNc(14,Q,1,0,"tr",8),t.YNc(15,I,1,0,"tr",9),t.qZA(),t.qZA()),2&s&&(t.xp6(1),t.Q6J("dataSource",c.sugars),t.xp6(13),t.Q6J("matHeaderRowDef",c.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",c.displayedColumns))},directives:[r.BZ,r.w1,r.fO,r.ge,r.Dz,r.ev,r.as,r.XQ,r.nj,r.Gk],styles:[".structure[_ngcontent-%COMP%]{margin:-12px}"]}),n}(),j=u(64061),B=u(43365),H=u(26439),M=u(33865),J=function(){var n=(0,f.Z)(function e(){(0,d.Z)(this,e)});return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,j.o.forChild(O),r.p0,M.HT,H.TU,B.c]]}),n}()}}]);
//# sourceMappingURL=6710.6df56b0136eb6d4a.js.map