{"version":3,"mappings":"kVAaQA,gBAAqBA,sBAAUA,QAC/BA,iBACEA,oCAEFA,QACAA,iBACEA,mBACAA,qBAA+DA,iBAAKA,QACtEA,6BAN0BA,wCAAuB,4GAfzDA,eACEA,iBACEA,iBAAkBA,sBAAUA,QAC5BA,iBAAmBA,SAAwDA,QAC7EA,QAEAA,iBACEA,iBAAkBA,sBAAUA,QAC5BA,iBACEA,qBAA2DA,iEAASC,eACYD,iBAAIA,QAEpFA,2CAWFA,QACFA,QACFA,8BAtBuBA,uEAOfA,6FCID,IAAME,EAAb,eAAaA,EAAb,0CAME,WACUC,EACDC,EACCC,GAAyC,6BAEjDC,gBAJQH,SACDG,cACCA,4BARVA,aAAyB,GACzBA,mBAAmB,IAAIC,IAEvBD,QAAQ,EAK2CA,EATrD,uCAcE,WAAQ,WACNE,KAAKC,iBAAiBC,UAAU,YAC9BC,EAAKC,UAAYA,EACK,MAAlBD,EAAKC,WAA4D,MAAvCD,EAAKC,UAAUC,sBACxCF,EAAKC,UAAUC,qBAAqBC,aACvCH,EAAKG,WAAaH,EAAKC,UAAUC,qBAAqBC,WACtDH,EAAKI,MAAQ,GAEfJ,EAAKK,YAAYC,KAAKN,EAAKI,SAE7BP,KAAKU,iBAAmBV,KAAKH,wBAAwBc,wBAxBzD,uBA2BE,SAAUC,GAAW,WAEnBZ,KAAKJ,UAAUiB,UAAUb,KAAKc,uBAAwB,SAAU,mBAEhE,IAAMC,EAAYf,KAAKL,OAAOqB,KAAKJ,EAAa,CAC9CK,SAAU,MACVC,SAAU,QAEZlB,KAAKU,iBAAiBS,MAAMC,OAAS,OAErCL,EAAUM,cAAcnB,UAAU,YAChCoB,EAAKZ,iBAAiBS,MAAMC,OAAS,WAtC3CG,GAAqDC,kDAAxC9B,GAA+BF,6DAA/BE,EAA+B+B,ybDd5CjC,6BAAMA,4JCcOE,EAAb,yBCIagC,EAAb,eAAaA,KAAbC,iFAAaD,4DAVF,CACPE,KACAC,aAAsCnC,GACtCoC,IACAC,SAMSL,EAAb","names":["i0","ctx_r3","SubstanceSsgDefinitionComponent","dialog","gaService","overlayContainerService","o","Subject","this","substanceUpdated","subscribe","i","substance","specifiedSubstanceG3","definition","count","countUpdate","emit","overlayContainer","getContainerElement","templateRef","sendEvent","analyticsEventCategory","dialogRef","open","minWidth","maxWidth","style","zIndex","afterClosed","u","a","SubstanceCardBase","selectors","SubstanceSsgDefinitionModule","f","CommonModule","DynamicComponentLoaderModule","ReferencesManagerModule","MatDialogModule"],"sources":["./src/app/core/substance-details/substance-ssg-definition/substance-ssg-definition.component.html","./src/app/core/substance-details/substance-ssg-definition/substance-ssg-definition.component.ts","./src/app/core/substance-details/substance-ssg-definition/substance-ssg-definition.module.ts"],"sourcesContent":["<div *ngIf=\"substance.specifiedSubstanceG3.definition\">\n  <div class=\"name-value\">\n    <div class=\"name\">Definition</div>\n    <div class=\"value\">{{substance.specifiedSubstanceG3.definition.definition}}</div>\n  </div>\n\n  <div class=\"name-value\">\n    <div class=\"name\">References</div>\n    <div class=\"value\">\n      <button class=\"mat-raised-button mat-primary dialog-close\" (click)=\"openModal(refTemplate)\"\n        [disabled]=\"substance.specifiedSubstanceG3.definition.references.length <= 0\">View</button>\n\n      <ng-template #refTemplate>\n        <h2 mat-dialog-title>References</h2>\n        <div mat-dialog-content>\n          <app-references-manager [substance]=\"substance\"\n            [references]=\"substance.specifiedSubstanceG3.definition.references\"></app-references-manager>\n        </div>\n        <div mat-dialog-actions>\n          <span class=\"middle-fill\"></span>\n          <button class=\"mat-raised-button mat-primary\" mat-dialog-close>Close</button>\n        </div>\n      </ng-template>\n    </div>\n  </div>\n</div>","import { Component, OnInit} from '@angular/core';\nimport { SubstanceCardBase } from '../substance-card-base';\nimport { SubstanceDetail, Definition} from '../../substance/substance.model';\nimport { MatDialog} from '@angular/material/dialog';\nimport { GoogleAnalyticsService } from '../../google-analytics/google-analytics.service';\nimport { Subject } from 'rxjs';\nimport { OverlayContainer } from '@angular/cdk/overlay';\n\n@Component({\n  selector: 'app-substance-ssg-definition',\n  templateUrl: './substance-ssg-definition.component.html',\n  styleUrls: ['./substance-ssg-definition.component.scss']\n})\n\nexport class SubstanceSsgDefinitionComponent extends SubstanceCardBase implements OnInit {\n  definition: Definition = {};\n  substanceUpdated = new Subject<SubstanceDetail>();\n  private overlayContainer: HTMLElement;\n  count = 0;\n\n  constructor(\n    private dialog: MatDialog,\n    public gaService: GoogleAnalyticsService,\n    private overlayContainerService: OverlayContainer\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n    this.substanceUpdated.subscribe(substance => {\n      this.substance = substance;\n      if (this.substance != null && this.substance.specifiedSubstanceG3 != null\n        && this.substance.specifiedSubstanceG3.definition) {\n        this.definition = this.substance.specifiedSubstanceG3.definition;\n        this.count = 1;\n      }\n      this.countUpdate.emit(this.count);\n    });\n    this.overlayContainer = this.overlayContainerService.getContainerElement();\n  }\n\n  openModal(templateRef) {\n\n    this.gaService.sendEvent(this.analyticsEventCategory, 'button', 'references view');\n\n    const dialogRef = this.dialog.open(templateRef, {\n      minWidth: '40%',\n      maxWidth: '90%'\n    });\n    this.overlayContainer.style.zIndex = '1002';\n\n    dialogRef.afterClosed().subscribe(result => {\n      this.overlayContainer.style.zIndex = null;\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SubstanceSsgDefinitionComponent } from './substance-ssg-definition.component';\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\nimport { ReferencesManagerModule } from '../../references-manager/references-manager.module';\nimport { MatDialogModule } from '@angular/material/dialog';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DynamicComponentLoaderModule.forChild(SubstanceSsgDefinitionComponent),\n    ReferencesManagerModule,\n    MatDialogModule\n  ],\n  declarations: [\n    SubstanceSsgDefinitionComponent\n  ]\n})\nexport class SubstanceSsgDefinitionModule { }\n"],"sourceRoot":"webpack:///","file":"2560.df62fa88bd8cd03c.js"}