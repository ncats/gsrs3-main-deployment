{"version":3,"mappings":"6UAkBQA,gBAAqBA,sBAAUA,QAC/BA,iBACEA,oCAEFA,QACAA,iBACEA,mBACAA,qBAA+DA,iBAAKA,QACtEA,6BAN0BA,wCAAuB,uGApBzDA,eACEA,iBACEA,iBAAkBA,sBAAUA,QAC5BA,iBAAmBA,SAA6CA,QAClEA,QAEAA,iBACEA,iBAAkBA,sBAAUA,QAC5BA,iBAAmBA,UAA6CA,QAClEA,QAEAA,kBACEA,kBAAkBA,uBAAUA,QAC5BA,kBACEA,qBAA2DA,iEAASC,eACOD,iBAAIA,QAE/EA,2CAWFA,QACFA,QACFA,8BA3BuBA,4DAKAA,4DAOfA,wFCDD,IAAME,EAAb,eAAaA,EAAb,0CAME,WACUC,EACDC,EACCC,GAAyC,6BAEjDC,gBAJQH,SACDG,cACCA,4BARVA,QAAe,GACfA,mBAAmB,IAAIC,IAEvBD,QAAQ,EAK2CA,EATrD,uCAcE,WAAQ,WACNE,KAAKC,iBAAiBC,UAAU,YAC9BC,EAAKC,UAAYA,EACK,MAAlBD,EAAKC,WAA4D,MAAvCD,EAAKC,UAAUC,sBACxCF,EAAKC,UAAUC,qBAAqBC,QACvCH,EAAKG,MAAQH,EAAKC,UAAUC,qBAAqBC,MACjDH,EAAKI,MAAQ,GAEfJ,EAAKK,YAAYC,KAAKN,EAAKI,SAE7BP,KAAKU,iBAAmBV,KAAKH,wBAAwBc,wBAxBzD,uBA2BE,SAAUC,GAAW,WAEnBZ,KAAKJ,UAAUiB,UAAUb,KAAKc,uBAAwB,SAAU,mBAEhE,IAAMC,EAAYf,KAAKL,OAAOqB,KAAKJ,EAAa,CAC9CK,SAAU,MACVC,SAAU,QAEZlB,KAAKU,iBAAiBS,MAAMC,OAAS,OAErCL,EAAUM,cAAcnB,UAAU,YAChCoB,EAAKZ,iBAAiBS,MAAMC,OAAS,WAtC3CG,GAAgDC,kDAAnC9B,GAA0BF,6DAA1BE,EAA0B+B,obDdvCjC,6BAAMA,uJCcOE,EAAb,yBCIagC,EAAb,eAAaA,KAAbC,iFAAaD,4DAVF,CACPE,KACAC,aAAsCnC,GACtCoC,IACAC,SAMSL,EAAb","names":["i0","ctx_r3","SubstanceSsgGradeComponent","dialog","gaService","overlayContainerService","c","Subject","this","substanceUpdated","subscribe","a","substance","specifiedSubstanceG3","grade","count","countUpdate","emit","overlayContainer","getContainerElement","templateRef","sendEvent","analyticsEventCategory","dialogRef","open","minWidth","maxWidth","style","zIndex","afterClosed","r","i","SubstanceCardBase","selectors","SubstanceSsgGradeModule","g","CommonModule","DynamicComponentLoaderModule","ReferencesManagerModule","MatDialogModule"],"sources":["./src/app/core/substance-details/substance-ssg-grade/substance-ssg-grade.component.html","./src/app/core/substance-details/substance-ssg-grade/substance-ssg-grade.component.ts","./src/app/core/substance-details/substance-ssg-grade/substance-ssg-grade.module.ts"],"sourcesContent":["<div *ngIf=\"substance.specifiedSubstanceG3.grade\">\n  <div class=\"name-value\">\n    <div class=\"name\">Grade Name</div>\n    <div class=\"value\">{{substance.specifiedSubstanceG3.grade.name}}</div>\n  </div>\n\n  <div class=\"name-value\">\n    <div class=\"name\">Grade Type</div>\n    <div class=\"value\">{{substance.specifiedSubstanceG3.grade.type}}</div>\n  </div>\n\n  <div class=\"name-value\">\n    <div class=\"name\">References</div>\n    <div class=\"value\">\n      <button class=\"mat-raised-button mat-primary dialog-close\" (click)=\"openModal(refTemplate)\"\n        [disabled]=\"substance.specifiedSubstanceG3.grade.references.length <= 0\">View</button>\n\n      <ng-template #refTemplate>\n        <h2 mat-dialog-title>References</h2>\n        <div mat-dialog-content>\n          <app-references-manager [substance]=\"substance\"\n            [references]=\"substance.specifiedSubstanceG3.grade.references\"></app-references-manager>\n        </div>\n        <div mat-dialog-actions>\n          <span class=\"middle-fill\"></span>\n          <button class=\"mat-raised-button mat-primary\" mat-dialog-close>Close</button>\n        </div>\n      </ng-template>\n    </div>\n  </div>\n</div>","import { Component, OnInit} from '@angular/core';\nimport { SubstanceCardBase } from '../substance-card-base';\nimport { SubstanceDetail, Grade} from '../../substance/substance.model';\nimport { MatDialog} from '@angular/material/dialog';\nimport { GoogleAnalyticsService } from '../../google-analytics/google-analytics.service';\nimport { Subject } from 'rxjs';\nimport { OverlayContainer } from '@angular/cdk/overlay';\n\n@Component({\n  selector: 'app-substance-ssg-grade',\n  templateUrl: './substance-ssg-grade.component.html',\n  styleUrls: ['./substance-ssg-grade.component.scss']\n})\n\nexport class SubstanceSsgGradeComponent extends SubstanceCardBase implements OnInit {\n  grade: Grade = {};\n  substanceUpdated = new Subject<SubstanceDetail>();\n  private overlayContainer: HTMLElement;\n  count = 0;\n\n  constructor(\n    private dialog: MatDialog,\n    public gaService: GoogleAnalyticsService,\n    private overlayContainerService: OverlayContainer\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n    this.substanceUpdated.subscribe(substance => {\n      this.substance = substance;\n      if (this.substance != null && this.substance.specifiedSubstanceG3 != null\n        && this.substance.specifiedSubstanceG3.grade) {\n        this.grade = this.substance.specifiedSubstanceG3.grade;\n        this.count = 1;\n      }\n      this.countUpdate.emit(this.count);\n    });\n    this.overlayContainer = this.overlayContainerService.getContainerElement();\n  }\n\n  openModal(templateRef) {\n\n    this.gaService.sendEvent(this.analyticsEventCategory, 'button', 'references view');\n\n    const dialogRef = this.dialog.open(templateRef, {\n      minWidth: '40%',\n      maxWidth: '90%'\n    });\n    this.overlayContainer.style.zIndex = '1002';\n\n    dialogRef.afterClosed().subscribe(result => {\n      this.overlayContainer.style.zIndex = null;\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SubstanceSsgGradeComponent } from './substance-ssg-grade.component';\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\nimport { ReferencesManagerModule } from '../../references-manager/references-manager.module';\nimport { MatDialogModule } from '@angular/material/dialog';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DynamicComponentLoaderModule.forChild(SubstanceSsgGradeComponent),\n    ReferencesManagerModule,\n    MatDialogModule\n  ],\n  declarations: [\n    SubstanceSsgGradeComponent\n  ]\n})\nexport class SubstanceSsgGradeModule { }\n"],"sourceRoot":"webpack:///","file":"5783.4f99947958be60ca.js"}