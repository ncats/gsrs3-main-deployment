"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[7022],{87022:function(q,p,e){e.r(p),e.d(p,{SubstanceConstituentsModule:function(){return k}});var C=e(1884),v=e(39117),y=e(36362),f=e(98002),O=e(64061),b=e(46751),Z=e(56101),P=e(63169),S=e(50253),T=e(68756),w=e(40104),t=e(86613),m=e(95758),A=e(54244),x=e(44770),h=e(43365),g=e(90587),c=e(97217),U=e(9292),J=e(73430),M=e(26439);function N(n,o){1&n&&(t.TgZ(0,"th",15),t._uU(1," Substance "),t.qZA())}var Y=function(o){return["/substances",o]};function j(n,o){if(1&n&&(t.TgZ(0,"td",16),t.TgZ(1,"div",17),t.TgZ(2,"div"),t._uU(3),t.qZA(),t._UZ(4,"img",18),t.TgZ(5,"div"),t.TgZ(6,"a",19),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){var a=o.$implicit;t.xp6(3),t.Oqu(a.substance.linkingID),t.xp6(1),t.Q6J("entityId",a.substance.refuuid),t.xp6(2),t.Q6J("routerLink",t.VKq(4,Y,a.substance.refuuid)),t.xp6(1),t.hij(" ",a.substance.name," ")}}function Q(n,o){1&n&&(t.TgZ(0,"th",15),t._uU(1," Role "),t.qZA())}function D(n,o){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){var a=o.$implicit;t.xp6(1),t.hij(" ",a.role," ")}}function R(n,o){1&n&&(t.TgZ(0,"th",15),t._uU(1," Amount "),t.qZA())}function z(n,o){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){var a=o.$implicit,i=t.oxw();t.xp6(1),t.hij(" ",i.toString(a.amount)," ")}}function I(n,o){1&n&&(t.TgZ(0,"th",15),t._uU(1," References "),t.qZA())}function B(n,o){if(1&n&&(t.TgZ(0,"h2",22),t._uU(1,"References"),t.qZA(),t.TgZ(2,"div",23),t._UZ(3,"app-references-manager",24),t.qZA(),t.TgZ(4,"div",25),t._UZ(5,"span",1),t.TgZ(6,"button",26),t._uU(7,"Close"),t.qZA(),t.qZA()),2&n){var a=t.oxw().$implicit,i=t.oxw();t.xp6(3),t.Q6J("substance",i.substance)("references",a.references)}}function _(n,o){if(1&n){var a=t.EpF();t.TgZ(0,"td",16),t.TgZ(1,"button",20),t.NdJ("click",function(){t.CHM(a);var s=t.MAs(4);return t.oxw().openModal(s)}),t._uU(2,"View"),t.qZA(),t.YNc(3,B,8,2,"ng-template",null,21,t.W1O),t.qZA()}if(2&n){var i=o.$implicit;t.xp6(1),t.Q6J("disabled",!i.references||i.references.length<=0)}}function E(n,o){1&n&&t._UZ(0,"tr",27)}function H(n,o){1&n&&t._UZ(0,"tr",28)}var F=function(){return[5,10,25,100]},L=function(){var n=function(o){(0,b.Z)(i,o);var a=(0,Z.Z)(i);function i(d,s,r,u){var l;return(0,v.Z)(this,i),(l=a.call(this,s)).utilsService=d,l.gaService=s,l.dialog=r,l.overlayContainerService=u,l.substanceUpdated=new S.x,l.displayedColumns=["Substance","Role","Amount","References"],l}return(0,C.Z)(i,[{key:"ngOnInit",value:function(){var s=this;this.substanceUpdated.subscribe(function(r){null!=r&&null!=r.specifiedSubstance&&r.specifiedSubstance.constituents&&(s.constituents=r.specifiedSubstance.constituents,s.filtered=s.substance.specifiedSubstance.constituents,s.pageChange(),s.searchControl.valueChanges.subscribe(function(u){s.filterList(u,s.constituents,s.analyticsEventCategory)},function(u){console.log(u)})),s.countUpdate.emit(s.constituents.length)}),this.overlayContainer=this.overlayContainerService.getContainerElement()}},{key:"toString",value:function(s){return this.utilsService.displayAmount(s)}},{key:"openModal",value:function(s){var r=this;this.gaService.sendEvent(this.analyticsEventCategory,"button","references view");var u=this.dialog.open(s,{minWidth:"40%",maxWidth:"90%"});this.overlayContainer.style.zIndex="1002",u.afterClosed().subscribe(function(l){r.overlayContainer.style.zIndex=null})}}]),i}(T.uJ);return n.\u0275fac=function(a){return new(a||n)(t.Y36(P.FW),t.Y36(w.$),t.Y36(m.uw),t.Y36(A.Xj))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-substance-constituents"]],features:[t.qOj],decls:21,vars:9,consts:[[1,"flex-row"],[1,"middle-fill"],[1,"search",3,"floatLabel"],["matInput","","placeholder","Search",3,"formControl"],[1,"responsive"],["mat-table","",3,"dataSource"],["matColumnDef","Substance"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Role"],["matColumnDef","Amount"],["matColumnDef","References"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","true",3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell",""],["mat-cell",""],[1,"thumb-col"],["appSubstanceImage","",1,"structure-image",3,"entityId"],[1,"substance-name",3,"routerLink"],[1,"mat-raised-button","mat-primary","dialog-close",3,"disabled","click"],["refTemplate",""],["mat-dialog-title",""],["mat-dialog-content",""],[3,"substance","references"],["mat-dialog-actions",""],["mat-dialog-close","",1,"mat-raised-button","mat-primary"],["mat-header-row",""],["mat-row",""]],template:function(a,i){1&a&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.TgZ(2,"mat-form-field",2),t._UZ(3,"input",3),t.qZA(),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"table",5),t.ynx(6,6),t.YNc(7,N,2,0,"th",7),t.YNc(8,j,8,6,"td",8),t.BQk(),t.ynx(9,9),t.YNc(10,Q,2,0,"th",7),t.YNc(11,D,2,1,"td",8),t.BQk(),t.ynx(12,10),t.YNc(13,R,2,0,"th",7),t.YNc(14,z,2,1,"td",8),t.BQk(),t.ynx(15,11),t.YNc(16,I,2,0,"th",7),t.YNc(17,_,5,1,"td",8),t.BQk(),t.YNc(18,E,1,0,"tr",12),t.YNc(19,H,1,0,"tr",13),t.qZA(),t.qZA(),t.TgZ(20,"mat-paginator",14),t.NdJ("page",function(s){return i.pageChange(s,i.analyticsEventCategory)}),t.qZA()),2&a&&(t.xp6(2),t.Q6J("floatLabel","never"),t.xp6(1),t.Q6J("formControl",i.searchControl),t.xp6(2),t.Q6J("dataSource",i.paged),t.xp6(13),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",i.filtered&&i.filtered.length||0)("pageSize",5)("pageSizeOptions",t.DdM(8,F)))},directives:[x.KE,h.Nt,g.Fj,g.JJ,g.oH,c.BZ,c.w1,c.fO,c.ge,c.Dz,c.ev,U.m,f.yS,m.uh,m.xY,J.C,m.H8,m.ZT,c.as,c.XQ,c.nj,c.Gk,M.NW],styles:[".unit-form-container[_ngcontent-%COMP%]{padding:30px 10px 12px;position:relative;display:-ms-flexbox;display:flex}.related-substance[_ngcontent-%COMP%]{max-width:20%;width:20%}  .related-substance img{max-width:125px!important;margin:auto}.structure-image[_ngcontent-%COMP%]{max-width:150px}.full[_ngcontent-%COMP%]{width:100%}.form-container[_ngcontent-%COMP%]{width:80%}.notification-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;display:-ms-flexbox;display:flex;z-index:10;background-color:var(--notif-backdrop-bg-color);-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:30px;font-weight:700;color:var(--notif-backdrop-color)}.form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.form-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .attachment-count[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .connectivity[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .connectivity[_ngcontent-%COMP%]{width:50%}.form-row[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{width:50%;padding-right:15px}.inner-row-top[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.inner-row-top[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.inner-row-top[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .inner-row-top[_ngcontent-%COMP%]   .attachment-count[_ngcontent-%COMP%], .inner-row-top[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.inner-row-top[_ngcontent-%COMP%]   .connectivity[_ngcontent-%COMP%]{width:100%}.inner-row-top[_ngcontent-%COMP%]   .connectivity-container[_ngcontent-%COMP%]{width:50%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.inner-row-top[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{width:50%;padding-right:15px}.inner-row-bottom[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.inner-row-bottom[_ngcontent-%COMP%]   .connectivity[_ngcontent-%COMP%]{width:50%}.inner-row-bottom[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{width:50%;padding-right:15px}.references-container[_ngcontent-%COMP%]{width:100%}.padded[_ngcontent-%COMP%]{padding-right:20px}.amount-display[_ngcontent-%COMP%]{padding-top:11px}.form-actions[_ngcontent-%COMP%]{-ms-flex-pack:start;justify-content:flex-start;margin:5px 0 10px}.form-content[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}.mod-type[_ngcontent-%COMP%], .location-type[_ngcontent-%COMP%], .sites[_ngcontent-%COMP%], .group-access[_ngcontent-%COMP%], .extent[_ngcontent-%COMP%], .amount[_ngcontent-%COMP%]{width:33%}.group[_ngcontent-%COMP%], .access[_ngcontent-%COMP%]{width:45%}"]}),n}(),$=e(11920),W=e(33865),X=e(40089),V=e(64316),K=e(65590),G=e(24054),k=function(){var n=(0,C.Z)(function o(){(0,v.Z)(this,o)});return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[y.ez,f.Bz,O.o.forChild(L),c.p0,$.V,K.Ps,m.Is,M.TU,g.u5,x.lN,g.UX,h.c,W.HT,X.AV,f.Bz,V.JX,G.f]]}),n}()}}]);
//# sourceMappingURL=7022.0b76ccb42448b7a7.js.map