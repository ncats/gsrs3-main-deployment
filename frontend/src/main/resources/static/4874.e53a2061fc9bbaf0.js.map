{"version":3,"mappings":"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","names":["i0","ctx_r8","ctx_r14","ctx_r16","CopyDisulfideDialogComponent","dialogRef","subService","data","arguments","this","disableClose","unit","sequence","full","substanceSubunits","subscribe","e","units","resp","selected","showButtons","copyDisulfideLinks","message","setTimeout","f","MAT_DIALOG_DATA","selectors","ctx_r6","ctx_r19","ctx_r21","SubunitFormComponent","substanceFormService","substanceFormLinksService","scrollToService","gaService","cvService","dialog","overlayContainerService","router","a","EventEmitter","allSites","overlayContainer","getContainerElement","subunit","toggle","subunitIndex","definition","substanceType","substanceClass","searchType","getVocabularies","unsubscribe","displaySequenceSubscription","subunitDisplaySequences","newSubunits","subunits","filter","subunitSequence","deepEqual","JSON","stringify","addStyle","subscriptions","push","allSitesSubscription","tempSitelist","forEach","site","changes","subscription","nonStandard","value","display","getDomainVocabulary","key","vocabulary","response","AMINO_ACID_RESIDUE","dictionary","X","validArray","NUCLEIC_ACID_BASE","residue","class","type","unitIndex","unitValue","vocab","undefined","toUpperCase","arr","formatted","modification","other","feature","disulfide","splitDisplay","split","type2","open","width","style","zIndex","afterClosed","id","makeRandom","sessionStorage","setItem","url","window","location","href","replace","serializeUrl","createUrlTree","queryParams","seq_type","source","source_id","text","possible","i","charAt","Math","floor","random","length","input","trim","emitSubunitUpdate","recalculateCysteine","editSequence","preformatSeq","textArea","document","getElementsByClassName","call","area","height","scrollHeight","event","target","subunitDeleted","emit","seq","ret","substr","cleanedSequence","indexOf","char","toString","obj","n","arr2","seqarr","trans","sequenceType","sugarType","sugarsSubscription","substanceSugars","o","sugars","sug","linksSubscription","substanceLinks","links","l","sugar","sites","s","subunitArray","residueIndex","link","linkageArray","linkage","emitSugarUpdate","emitLinkUpdate","ctx","ctx_r3","ctx_r9","ctx_r11","SubstanceFormSubunitsComponent","substanceFormPropertiesService","h","analyticsEventCategory","menuLabelUpdate","canAddItemUpdate","subunitsSubscription","filtered","index","subcount","sendEvent","view","addSubunit","addSubstanceSubunit","next","scrollToElement","deleteSubstanceSubunit","subunitSequences","v","SubunitSelectorDialogComponent","card","panelClass","dialogSubscription","newFeature","addSubstancePropertyFromFeature","alert","siteType","sentFeature","addAnySiteType","SubstanceCardBaseFilteredList","SubstanceFormSubunitsModule","c","CommonModule","DynamicComponentLoaderModule","SubstanceFormModule","MatDividerModule","MatIconModule","MatButtonModule","ScrollToModule","MatFormFieldModule","ReactiveFormsModule","FormsModule","MatPaginatorModule","MatTooltipModule","MatButtonToggleModule","MatInputModule","objectKeys","require","isArguments","is","isRegex","flags","isDate","getTime","Date","prototype","x","copy","slice","module","exports","actual","expected","options","opts","strict","b","isUndefinedOrNull","aIsRegex","bIsRegex","aIsBuffer","isBuffer","bIsBuffer","ka","kb","sort","objEquiv","keys","hasSymbols","Symbol","toStr","Object","concat","Array","origDefineProperty","defineProperty","supportsDescriptors","_","enumerable","arePropertyDescriptorsSupported","object","name","predicate","fn","isFunction","configurable","writable","defineProperties","map","predicates","props","getOwnPropertySymbols","getDay","hasToStringTag","toStringTag","tryDateObject","has","$exec","isRegexMarker","badStringifier","callBound","throwRegexMarker","valueOf","toPrimitive","$toString","gOPD","getOwnPropertyDescriptor","descriptor","numberIsNaN","define","callBind","implementation","getPolyfill","shim","polyfill","keysShim","hasOwnProperty","isArgs","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","constructor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","k","isObject","isString","theKeys","TypeError","skipProto","String","j","skipConstructor","equalsConstructorPrototypeIfNotBuggy","origKeys","originalKeys","keysWorksWithArguments","args","str","callee","$Object","$TypeError","result","hasIndices","global","ignoreCase","multiline","dotAll","unicode","sticky","flagsBound","$gOPD","RegExp","get","TypeErr","getProto","getPrototypeOf","regex","proto"],"sources":["./src/app/core/substance-form/copy-disulfide-dialog/copy-disulfide-dialog.component.html","./src/app/core/substance-form/copy-disulfide-dialog/copy-disulfide-dialog.component.ts","./src/app/core/substance-form/subunit-form/subunit-form.component.html","./src/app/core/substance-form/subunit-form/subunit-form.component.ts","./src/app/core/substance-form/substance-form-subunits/substance-form-subunits.component.html","./src/app/core/substance-form/substance-form-subunits/substance-form-subunits.component.ts","./src/app/core/substance-form/substance-form-subunits/substance-form-subunits.module.ts","./node_modules/deep-equal/index.js","./node_modules/define-properties/index.js","./node_modules/is-date-object/index.js","./node_modules/is-regex/index.js","./node_modules/object-is/implementation.js","./node_modules/object-is/index.js","./node_modules/object-is/polyfill.js","./node_modules/object-is/shim.js","./node_modules/object-keys/implementation.js","./node_modules/object-keys/index.js","./node_modules/object-keys/isArguments.js","./node_modules/regexp.prototype.flags/implementation.js","./node_modules/regexp.prototype.flags/index.js","./node_modules/regexp.prototype.flags/polyfill.js","./node_modules/regexp.prototype.flags/shim.js"],"sourcesContent":["<div mat-dialog-title>\n    Copy Disulfide Links\n    </div>\n  <div mat-dialog-content>\n      <div class = \"form-row desc\">\n        Copy intra-connected disulfide links from one subunit to another with an identical sequence.\n      </div>\n    <span *ngIf = \"showButtons\">\n            <div *ngFor = \"let current of units\" class = \"form-column\">\n                    <div *ngIf = \"current.sequence == sequence\" class = \"option\">\n                          <button  mat-button *ngIf = \"current.subunitIndex !== unit\" (click) = \"select(current.subunitIndex)\">\n                                Copy From Subunit {{current.subunitIndex}}\n                              </button>\n                    </div>\n                    <div *ngIf = \"current.sequence !== sequence\" class = \"option\">\n                          Subunit {{current.subunitIndex}} is not applicable\n                          </div>\n                    \n                </div>\n    </span>\n    \n      \n\n  </div>\n  <div *ngIf = \"selected\" >\n        <div class = \"form-row\">\n\n Are you sure you want to copy the disulfide links from subunit {{selected}} to subunit {{unit}}? Any disulfide links on subunit {{unit}} will be erased and overwritten.\n </div>\n <div class = \"form-row\">\n\n <button mat-button (click) = \"confirm()\">Confirm</button>\n  <span class=\"middle-fill\"></span>\n\n  <button mat-button (click) =\"cancel()\">Cancel</button>\n  </div>\n</div>\n<div *ngIf = 'message'>\n    {{message}}\n</div>\n  <div mat-dialog-actions>\n    <button mat-flat-button color=\"primary\" matDialogClose>Close</button>\n  \n    <span class=\"middle-fill\"></span>\n  \n  </div>","import { Component, OnInit, Inject } from '@angular/core';\nimport { SubstanceFormService } from '@gsrs-core/substance-form/substance-form.service';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-copy-disulfide-dialog',\n  templateUrl: './copy-disulfide-dialog.component.html',\n  styleUrls: ['./copy-disulfide-dialog.component.scss']\n})\nexport class CopyDisulfideDialogComponent implements OnInit {\n  unit: any;\n  units: any;\n  selected: any;\n  sequence: string;\n  message: string;\n  showButtons = true;\n  constructor(\n    public dialogRef: MatDialogRef<CopyDisulfideDialogComponent>,\n    private subService: SubstanceFormService,\n    @Inject(MAT_DIALOG_DATA) public data: any = {}\n  ) {dialogRef.disableClose = true; }\n\n  ngOnInit() {\n    this.unit = this.data.unit;\n    this.sequence = this.data.full.sequence;\n    this.subService.substanceSubunits.subscribe(resp => {\n      this.units = resp;\n    });\n  }\n\n  select(unit: any) {\n    this.selected = unit;\n    this.showButtons = false;\n  }\n\n  confirm() {\n    this.subService.copyDisulfideLinks(this.unit, this.selected);\n    this.selected = null;\n    this.message = 'Copying...';\n    setTimeout(() => {\n      this.message = 'Links successfully copied over.';\n    }, 500);\n\n  }\n\n  cancel() {\n    this.selected = null;\n    this.showButtons = true;\n\n  }\n\n}\n","<div class = \"subunit-container\">\n  <div *ngIf=\"subunit.$$deletedCode\" class=\"notification-backdrop\">\n    Deleted&nbsp;\n\n  </div>\n  <div class = \"form-row\">\n    <div class=\"delete-container\">\n      <button mat-icon-button matTooltip=\"Delete link\" (click)=\"deleteSubunit()\">\n        <mat-icon svgIcon=\"delete_forever\"></mat-icon>\n      </button>\n    </div>\n    <div class = \"subunit-label\">Subunit {{subunit.subunitIndex}}</div>\n    <div class = \"buttons\">\n      <button class = \"mat-button mat-primary action-button\" (click) = 'editSubunit(subunit, editSequence)'>\n        {{toggle[subunit.subunitIndex] ? 'save': 'edit'}}</button>\n      <button class = \"mat-button action-button mat-primary\" (click) = cleanSequence()>\n        clean</button>\n      <span class = \"spacer\"> </span>\n      <button class = \"mat-button action-button mat-primary convert\" matTooltip = \"convert 3 letter sequence to 1 letter\"\n      *ngIf = \"substanceType !== 'nucleicAcid'\"  (click) = convertSequence()>\n        convert</button>\n        \n\n      <a class = \"button-link \" matTooltip =\"search for sequence in a new tab\" (click) = \"search()\">sequence search</a>\n      <button class = \"mat-button action-button mat-primary\" matTooltip = \"copy disulfides from another subunit\"  (click) = copyDisulfides() *ngIf = \"substanceType === 'protein'\">\n          copy disulfide links</button>\n    </div>\n  </div>\n\n<div class=\"subunit-edit\" [ngClass]=\"toggle[subunit.subunitIndex] ? 'show': 'hide'\" >\n  <textarea #sequence cdkAutosizeMinRows=\"3\" placeholder=\"Enter sequence here\"  [(ngModel)] = 'editSequence' (change) = \"editSubunit(subunit, editSequence)\" class = \"sequence-textarea\"  name=\"edit\"></textarea>\n</div>\n<div [ngClass]=\"toggle[subunit.subunitIndex] ? 'hide': 'show'\"  >\n  <div class = \"nest\">\n    <div class=\"subunit\">\n      <div class=\"raw-sequence\">{{subunit.sequence}}</div>\n    </div>\n  </div>\n\n\n  <div class=\"subunit-sequence\" *ngIf = \"subunitSequence\">\n    <div class=\"responsive\">\n      <div *ngFor = \"let set of subunitSequence.subsections;last as last1\"  class=\"sequence-section-group\">\n        <div *ngFor = \"let num of set;last as last2\" class= \"sequence-section\"  [ngClass] = \"last1 && last2? 'last-section' : ''\" >\n          <div class = \"section-number\">{{num[1]}}</div>\n          <div class = section-units-container>\n          <span *ngFor = \"let subunit of subunitSequence.subunits.slice(num[0],num[1])\"  class=\"section-unit\" >\n              <span class = \"selectedSite siteref\" matTooltipClass=\"unit-tooltip\"\n                    matTooltip =\"{{getTooltipMessage(subunitSequence.subunitIndex, subunit.unitIndex, subunit.unitValue,subunit.class || '').join('\\n')}}\"\n                    [ngClass]=\"subunit.class\" >{{subunit.unitValue}}</span>\n        </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n  <div class = 'form-row'>\n    <div *ngIf = \"substanceType === 'nucleicAcid'\">\n      Generate{{sequenceType? 'd':''}} links and sugars for this subunit as a\n      <button mat-button (click) = \"generateSites('DNA')\" [ngClass]=\"sequenceType === 'DNA'?'generated':''\">DNA</button>\n      <button mat-button (click) = \"generateSites('RNA')\" [ngClass]=\"sequenceType === 'RNA'?'generated':''\">RNA</button>\n      sequence\n    </div>\n  </div>\n  <app-audit-info [source] = \"subunit\"></app-audit-info>\n</div>\n","import {\n  AfterViewInit,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Linkage, Site, Subunit, Sugar } from '@gsrs-core/substance';\nimport { ControlledVocabularyService, VocabularyTerm } from '@gsrs-core/controlled-vocabulary';\nimport { SubstanceFormService } from '@gsrs-core/substance-form/substance-form.service';\nimport { Subject, Subscription } from 'rxjs';\nimport { ScrollToService } from '@gsrs-core/scroll-to/scroll-to.service';\nimport { GoogleAnalyticsService } from '@gsrs-core/google-analytics';\nimport * as deepEqual from 'deep-equal';\nimport { SubstanceFormLinksService } from '../links/substance-form-links.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { OverlayContainer } from '@angular/cdk/overlay';\nimport { CopyDisulfideDialogComponent } from '@gsrs-core/substance-form/copy-disulfide-dialog/copy-disulfide-dialog.component';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-subunit-form',\n  templateUrl: './subunit-form.component.html',\n  styleUrls: ['./subunit-form.component.scss']\n})\n\nexport class SubunitFormComponent implements OnInit, OnDestroy, OnChanges, AfterViewInit {\n  @Input() subunit: Subunit;\n  @Input() view: string;\n  @Input() sites?: Array<any>;\n  @Output() subunitDeleted = new EventEmitter<Subunit>();\n  subunitSequence: SubunitSequence;\n  vocabulary: { [vocabularyTermValue: string]: VocabularyTerm } = {};\n  private subscriptions: Array<Subscription> = [];\n  toggle = {};\n  allSites: Array<DisplaySite> = [];\n  features: Array<any> = [];\n  sequenceSites: Array<any> = [];\n  editSequence: string;\n  sugars: Array<Sugar>;\n  links: Array<Linkage>;\n  sequenceType = '';\n  substanceType: string;\n  searchType: string;\n  validArray: Array<string> = [];\n  private overlayContainer: HTMLElement;\n\n\n\n\n  constructor(\n    private substanceFormService: SubstanceFormService,\n    private substanceFormLinksService: SubstanceFormLinksService,\n    private scrollToService: ScrollToService,\n    public gaService: GoogleAnalyticsService,\n    private cvService: ControlledVocabularyService,\n    private dialog: MatDialog,\n    private overlayContainerService: OverlayContainer,\n    private router: Router,\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.allSites = [];\n    this.overlayContainer = this.overlayContainerService.getContainerElement();\n    if (this.subunit.sequence === '') {\n      this.toggle[this.subunit.subunitIndex] = true;\n    }\n    const definitionSubscription = this.substanceFormService.definition.subscribe(definition => {\n      this.substanceType = definition.substanceClass;\n      if (this.substanceType === 'protein') {\n        this.searchType = 'Protein';\n      } else {\n        this.searchType = 'Nucleicacid';\n      }\n      this.getVocabularies();\n    });\n    definitionSubscription.unsubscribe();\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      const displaySequenceSubscription = this.substanceFormService.subunitDisplaySequences.subscribe(subunits => {\n        const newSubunits = subunits.filter(unit => unit.subunitIndex === this.subunit.subunitIndex)[0];\n        if (!this.subunitSequence || !deepEqual(this.subunitSequence, newSubunits)) {\n          if (this.subunitSequence && JSON.stringify(this.subunitSequence) !== JSON.stringify(newSubunits)) {\n            this.subunitSequence = newSubunits;\n            setTimeout(() => {\n              if (this.allSites) {\n                this.addStyle();\n              }\n            });\n          } else {\n            this.subunitSequence = newSubunits;\n          }\n        }\n      });\n      this.subscriptions.push(displaySequenceSubscription);\n\n    });\n\n    const allSitesSubscription = this.substanceFormService.allSites.subscribe(allSites => {\n      const tempSitelist = [];\n      allSites.forEach(site => {\n        if (site.subunit === this.subunit.subunitIndex) {\n          tempSitelist.push(site);\n        }\n      });\n      if (this.allSites && this.allSites !== tempSitelist) {\n        this.allSites = tempSitelist;\n        setTimeout(() => {\n          if (this.subunitSequence) {\n            this.addStyle();\n          }\n        });\n      } else if (!this.allSites) {\n        this.allSites = tempSitelist;\n      }\n\n    }\n    );\n    this.subscriptions.push(allSitesSubscription);\n    setTimeout(() => {\n      if (this.subunitSequence) {\n        // this.addStyle('after subs');\n      }\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(subscription => {\n      subscription.unsubscribe();\n    });\n  }\n\n  getVocabularies(): void {\n    const nonStandard: VocabularyTerm = {\n      'value': 'X',\n      'display': 'Non-standard Residue'\n    };\n    if (this.substanceType === 'protein') {\n      this.cvService.getDomainVocabulary('AMINO_ACID_RESIDUE').subscribe(response => {\n        this.vocabulary = response['AMINO_ACID_RESIDUE'].dictionary;\n        this.vocabulary.X = nonStandard;\n        // eslint-disable-next-line guard-for-in\n        for (const key in this.vocabulary) {\n          this.validArray.push(this.vocabulary[key].value);\n        }\n      }, error => {\n      });\n    } else {\n      this.cvService.getDomainVocabulary('NUCLEIC_ACID_BASE').subscribe(response => {\n        this.vocabulary = response['NUCLEIC_ACID_BASE'].dictionary;\n        this.vocabulary.X = nonStandard;\n        // eslint-disable-next-line guard-for-in\n        for (const key in this.vocabulary) {\n          this.validArray.push(this.vocabulary[key].value);\n        }\n\n      }, error => {\n      });\n\n    }\n\n  }\n\n  addStyle(): void {\n    if (this.subunitSequence && this.subunitSequence.subunits) {\n      this.allSites.forEach(site => {\n        if (this.subunitSequence.subunits) {\n          if (this.subunitSequence.subunits[site.residue - 1].class\n            && this.subunitSequence.subunits[site.residue - 1].class !== site.type) {\n            this.subunitSequence.subunits[site.residue - 1].class = this.subunitSequence.subunits[site.residue - 1].class + ' ' + site.type;\n          } else {\n            this.subunitSequence.subunits[site.residue - 1].class = site.type;\n          }\n        }\n      });\n    }\n  }\n\n  /* getTooltipMessage(subunitIndex: number, unitIndex: number, unitValue: string): string {\n     const vocab = (this.vocabulary[unitValue.toUpperCase()] === undefined ? 'UNDEFINED'\n     : this.vocabulary[unitValue.toUpperCase()].display);\n     return `${subunitIndex} - ${unitIndex}: ${unitValue.toUpperCase()} (${vocab})`;\n   }*/\n\n  getTooltipMessage(subunitIndex: number, unitIndex: number, unitValue: string, type: string): any {\n    const vocab = (this.vocabulary[unitValue.toUpperCase()] === undefined ? 'UNDEFINED' : this.vocabulary[unitValue.toUpperCase()].display);\n    const arr = [];\n    const formatted = {\n      'modification': 'Structural Modification',\n      'other': 'Other Link',\n      'C-Glycosylation': 'C-Glycosylation',\n      'N-Glycosylation': 'N-Glycosylation',\n      'O-Glycosylation': 'O-Glycosylation',\n      'feature': this.substanceType.toUpperCase() + ' Feature',\n      'disulfide': 'Disulfide Link'\n    };\n    arr.push(`${subunitIndex} - ${unitIndex}: ${unitValue.toUpperCase()} (${vocab})`);\n    const splitDisplay = type.split(' ');\n    splitDisplay.forEach(type2 => {\n      arr.push(formatted[type2] || '');\n    });\n    return arr;\n  }\n\n  copyDisulfides() {\n    const dialogRef = this.dialog.open(CopyDisulfideDialogComponent, {\n      data: {'unit': this.subunit.subunitIndex, 'full': this.subunit},\n      width: '600px'\n    });\n    this.overlayContainer.style.zIndex = '1002';\n    const dialogSubscription = dialogRef.afterClosed().subscribe(response => {\n      this.overlayContainer.style.zIndex = null;\n      if (response ) {\n      }\n    });\n  }\n\n  search() {\n    const id = this.makeRandom();\n    sessionStorage.setItem('gsrs_edit_sequence_' + id, JSON.stringify(this.subunit.sequence));\n    const baseUrl = window.location.href.replace(this.router.url, '');\n    const url = baseUrl + this.router.serializeUrl(this.router.createUrlTree(['/sequence-search'],\n     { queryParams: { seq_type: this.searchType, source: 'edit', source_id: id}}));\nwindow.open( url, '_blank');\n\n  }\n\n  makeRandom() {\n    let text = '';\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890';\n    for (let i = 0; i < 6; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n      return text;\n  }\n\n  editSubunit(subunit: Subunit, input: string): void {\n    this.toggle[subunit.subunitIndex] = !this.toggle[subunit.subunitIndex];\n    if (this.toggle[subunit.subunitIndex] === false) {\n      this.subunit.sequence = input.trim().replace(/\\s/g, '');\n      this.substanceFormService.emitSubunitUpdate();\n      this.substanceFormService.recalculateCysteine();\n    } else {\n      this.editSequence = this.preformatSeq(this.subunit.sequence);\n\n      setTimeout(() => {\n        const textArea = document.getElementsByClassName('sequence-textarea');\n        [].forEach.call(textArea, function (area) {\n          area.style.height = (area.scrollHeight + 10) + 'px';\n        });\n      });\n    }\n  }\n  change(event): void {\n    if (this.toggle[this.subunit.subunitIndex] === false) {\n      event.target.value = this.subunit.sequence;\n    }\n  }\n\n  deleteSubunit(): void {\n    this.subunitDeleted.emit(this.subunit);\n  }\n\n  preformatSeq(seq): string {\n    let ret = '';\n    if (seq) {\n      for (let i = 0; i < seq.length; i += 10) {\n        if (i % 50 === 0) {\n          ret += '\\n';\n        }\n        ret += seq.substr(i, 10) + '     ';\n      }\n    }\n    return ret.trim();\n  }\n\n  cleanSequence(): void {\n    if (!this.toggle[this.subunit.subunitIndex]) {\n\n      const toArray = this.subunit.sequence.split('');\n      let cleanedSequence = toArray.filter(char => this.validArray.indexOf(char.toUpperCase()) >= 0).toString().replace(/,/g, '').trim();\n      if (this.toggle[this.subunit.subunitIndex] === false) {\n\n      }\n      if (this.substanceType !== 'protein') {\n          //non-proteins should have sequences be upper-case always\n          cleanedSequence = cleanedSequence.toUpperCase();\n      }\n      if (cleanedSequence !== this.subunit.sequence) {\n        this.subunit.sequence = cleanedSequence;\n        this.substanceFormService.emitSubunitUpdate();\n        this.substanceFormService.recalculateCysteine();\n      }\n    } else {\n      const toArray = this.editSequence.replace(/\\s/g, '').split('');\n      let cleanedSequence = toArray.filter(char => this.validArray.indexOf(char.toUpperCase()) >= 0).toString().replace(/,/g, '').trim();\n      if (this.substanceType !== 'protein') {\n          //non-proteins should have sequences be upper-case always\n          cleanedSequence = cleanedSequence.toUpperCase();\n      }\n      this.editSequence = this.preformatSeq(cleanedSequence);\n    }\n  }\n\n  convertSequence(): void {\n    const dashes = true;\n    const dict = 'A\tAla;C\tCys;D\tAsp;E\tGlu;F\tPhe;G\tGly;H\tHis;I\tIle;K\tLys;L\tLeu;M\tMet;N\tAsn;P\tPro;Q\tGln;R\tArg;S\tSer;T\tThr;V\tVal;W\tTrp;Y\tTyr';\n    let arr = [];\n    const obj = {};\n    let n = '';\n    arr = dict.split(';');\n    for (let i = 0; i < arr.length; i++) {\n      let arr2 = [];\n      arr2 = arr[i].split('\\t');\n      obj[arr2[0]] = arr2[1];\n      obj[arr2[1].toUpperCase()] = arr2[0];\n    }\n    let seqarr = [];\n    if (!this.toggle[this.subunit.subunitIndex]) {\n    seqarr = this.subunit.sequence.replace(/[ ]/g, '-').split('-');\n    } else {\n      seqarr = this.editSequence.replace(/[ ]/g, '-').split('-');\n\n    }\n\n    for (let i = 0; i < seqarr.length; i++) {\n      let trans = obj[seqarr[i].toUpperCase()];\n      if (seqarr[i].length > 3) {\n        n = n + seqarr[i];\n        continue;\n      }\n      if (trans === undefined) {\n        trans = 'X';\n      }\n\n      n = n + trans;\n    }\n    if (!this.toggle[this.subunit.subunitIndex]) {\n    this.subunit.sequence = n;\n    this.substanceFormService.emitSubunitUpdate();\n    this.substanceFormService.recalculateCysteine();\n    } else {\n      this.editSequence = n;\n    }\n  }\n\n\n\n  generateSites(event): void {\n    this.sequenceType = event;\n    const sugarsSubscription = this.substanceFormService.substanceSugars.subscribe(sug => {\n      this.sugars = sug;\n    });\n\n    const linksSubscription = this.substanceFormLinksService.substanceLinks.subscribe(l => {\n      this.links = l;\n    });\n    let sugarType = '';\n    if (event === 'DNA') {\n      sugarType = 'dR';\n    } else {\n      sugarType = 'R';\n    }\n    this.sugars.forEach(sugar => {\n      sugar.sites = sugar.sites.filter(s => s.subunitIndex !== this.subunit.subunitIndex);\n    });\n    const subunitArray = [];\n    if (this.subunit != null && this.subunit.sequence != null) {\n      for (let i = 1; i <= this.subunit.sequence.length; i++) {\n        subunitArray.push({ subunitIndex: this.subunit.subunitIndex, residueIndex: i });\n      }\n    }\n    const newSugar: Sugar = { sugar: sugarType, sites: subunitArray };\n    this.sugars.push(newSugar);\n    this.links.forEach(link => {\n      link.sites = link.sites.filter(s => s.subunitIndex !== this.subunit.subunitIndex);\n    });\n    const linkageArray = [];\n    if (this.subunit != null && this.subunit.sequence != null) {\n      for (let i = 2; i <= this.subunit.sequence.length; i++) {\n        linkageArray.push({ subunitIndex: this.subunit.subunitIndex, residueIndex: i });\n      }\n    }\n    const newLinkage: Linkage = { linkage: 'P', sites: linkageArray };\n    this.links.push(newLinkage);\n    this.substanceFormService.emitSugarUpdate();\n    this.substanceFormService.emitLinkUpdate();\n    linksSubscription.unsubscribe();\n    sugarsSubscription.unsubscribe();\n  }\n\n}\n\ninterface SubunitSequence {\n  subunitIndex?: number;\n  subsections?: Array<any>;\n  subgroups?: Array<any>;\n  subunits?: Array<SequenceUnit>;\n}\n\ninterface SequenceUnit {\n  unitIndex: number;\n  unitValue: string;\n  class: string;\n}\n\ninterface DisplaySite {\n  type: string;\n  subunit: number;\n  residue: number;\n}\n","<div class=\"add-container\">\n    <div class='add-button'>\n      <button mat-button (click)=\"openDialog()\">\n        Add Feature <mat-icon svgIcon=\"add_circle_outline\"></mat-icon>\n      </button>\n    </div>\n    <div class='add-button' *ngIf='substanceType === \"protein\"'>\n      <button mat-button (click)=\"openAnyDialog()\">\n        Add Any Site Type <mat-icon svgIcon=\"add_circle_outline\"></mat-icon>\n      </button>\n    </div>\n    <div class=\"middle-fill\"></div>\n    <div class=\"filters-container\">\n      <mat-button-toggle-group [value]=\"view\" (change)=\"updateView($event)\">\n        <mat-button-toggle value=\"details\">\n          <mat-icon svgIcon=\"list\"></mat-icon>\n        </mat-button-toggle>\n        <mat-button-toggle value=\"raw\">\n          <mat-icon svgIcon=\"view_stream\"></mat-icon>\n        </mat-button-toggle>\n      </mat-button-toggle-group>\n    </div>\n  </div>\n  <div [ngClass]=\"view\">\n    <div *ngFor=\"let subunit of subunits; last as isLast; index as index\" appScrollToTarget\n      [id]=\"'substance-subunit-' + index\">\n      <app-subunit-form [subunit]=\"subunit\" [view]='substanceType' (subunitDeleted)=\"deleteSubunit($event)\">\n      </app-subunit-form>\n      <mat-divider class=\"form-divider\" [inset]=\"true\" *ngIf=\"!isLast\"></mat-divider>\n    </div>\n  \n  </div>\n  <div class=\"add-container-bottom\" *ngIf = \"subunits && subunits.length > 0\">\n      <div class='add-button'>\n        <button mat-button (click)=\"addSubunit()\">\n          Add Subunit <mat-icon svgIcon=\"add_circle_outline\"></mat-icon>\n        </button>\n      </div>\n    </div>","import {AfterViewInit, Component, OnDestroy, OnInit} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {SubstanceFormService} from '@gsrs-core/substance-form/substance-form.service';\nimport {ScrollToService} from '@gsrs-core/scroll-to/scroll-to.service';\nimport {GoogleAnalyticsService} from '@gsrs-core/google-analytics';\nimport {Linkage, Site, Subunit, Sugar} from '@gsrs-core/substance';\nimport {SubstanceCardBaseFilteredList} from '@gsrs-core/substance-form/base-classes/substance-form-base-filtered-list';\nimport {ControlledVocabularyService, VocabularyTerm} from '@gsrs-core/controlled-vocabulary';\nimport {SubunitSelectorDialogComponent} from '@gsrs-core/substance-form/subunit-selector-dialog/subunit-selector-dialog.component';\nimport {MatDialog} from '@angular/material/dialog';\nimport {OverlayContainer} from '@angular/cdk/overlay';\nimport {DisplaySite, SubunitSequence} from '@gsrs-core/substance-form/substance-form.model';\nimport { SubstanceFormPropertiesService } from '../properties/substance-form-properties.service';\n\n@Component({\n  selector: 'app-substance-form-subunits',\n  templateUrl: './substance-form-subunits.component.html',\n  styleUrls: ['./substance-form-subunits.component.scss']\n})\nexport class SubstanceFormSubunitsComponent extends SubstanceCardBaseFilteredList<Subunit> implements OnInit, AfterViewInit, OnDestroy {\n  subunits: Array<Subunit> = [];\n  subunitSequences: Array<SubunitSequence> = [];\n  vocabulary: { [vocabularyTermValue: string]: VocabularyTerm } = {};\n  private subscriptions: Array<Subscription> = [];\n  toggle = {};\n  view = 'details';\n  sequenceType = '';\n  substanceType: string;\n  private overlayContainer: HTMLElement;\n  features: any;\n  allSites: Array<Array<DisplaySite>> = [];\n  subcount = 0;\n  sequenceSites: Array<any> = [];\n  sugars: Array<Sugar>;\n  links: Array<Linkage>;\n\n  constructor(\n    private substanceFormService: SubstanceFormService,\n    private scrollToService: ScrollToService,\n    public gaService: GoogleAnalyticsService,\n    private cvService: ControlledVocabularyService,\n    private dialog: MatDialog,\n    private overlayContainerService: OverlayContainer,\n    private substanceFormPropertiesService: SubstanceFormPropertiesService\n  ) {\n    super(gaService);\n    this.analyticsEventCategory = 'substance form subunits';\n  }\n\n  ngOnInit() {\n    this.menuLabelUpdate.emit('Subunits');\n    this.overlayContainer = this.overlayContainerService.getContainerElement();\n\n  }\n\n  ngAfterViewInit(): void {\n\n    const definitionSubscription = this.substanceFormService.definition.subscribe( definition => {\n      this.substanceType = definition.substanceClass;\n    });\n    definitionSubscription.unsubscribe();\n    this.canAddItemUpdate.emit(true);\n    const subunitsSubscription = this.substanceFormService.substanceSubunits.subscribe(subunits => {\n      this.subunits = subunits;\n      this.filtered = subunits;\n\n\n      this.subunits.forEach(unit => {\n        this.allSites[unit.subunitIndex] = [];\n      });\n    });\n    this.subscriptions.push(subunitsSubscription);\n  }\n\n  getSites(index: number): Array<DisplaySite> {\n    this.subcount = this.subcount + 1;\n    return this.allSites[index];\n  }\n\n    ngOnDestroy() {\n      this.subscriptions.forEach(subscription => {\n        subscription.unsubscribe();\n      });\n    }\n\n  updateView(event): void {\n    this.gaService.sendEvent(this.analyticsEventCategory, 'button:view-update', event.value);\n    this.view = event.value;\n  }\n\n  addItem(): void {\n    this.addSubunit();\n  }\n\n  addSubunit(): void {\n    this.substanceFormService.addSubstanceSubunit();\n    const next = 'substance-subunit-' + (this.subunits.length - 1);\n    setTimeout(() => {\n      this.scrollToService.scrollToElement(next, 'center');\n    });\n    this.substanceFormService.emitSubunitUpdate();\n  }\n\n  deleteSubunit(subunit: Subunit): void {\n    this.substanceFormService.deleteSubstanceSubunit(subunit);\n  }\n\n  getSequence(index: number): any {\n    let sequence = {};\n    this.subunitSequences.forEach(v => {\n      if (v.subunitIndex === (index + 1)) {\n        sequence = v;\n      }\n    });\n    return sequence;\n\n  }\n\n  openDialog(): void {\n    const dialogRef = this.dialog.open(SubunitSelectorDialogComponent, {\n      data: {'card': 'feature', 'link': []},\n      width: '1040px',\n      panelClass: 'subunit-dialog'\n    });\n    this.overlayContainer.style.zIndex = '1002';\n    const dialogSubscription = dialogRef.afterClosed().subscribe(newFeature => {\n      if (newFeature) {\n        this.substanceFormPropertiesService.addSubstancePropertyFromFeature(newFeature);\n        setTimeout(() => {\n          // this.scrollToService.scrollToElement(`substance-property-0`, 'center');\n          alert('Feature added under \"Properties\"');\n        });\n      }\n      this.overlayContainer.style.zIndex = null;\n    });\n    this.subscriptions.push(dialogSubscription);\n  }\n\n  openAnyDialog(): void {\n    const dialogRef = this.dialog.open(SubunitSelectorDialogComponent, {\n      data: {'card': 'any', 'link': []},\n      width: '1040px',\n      panelClass: 'subunit-dialog'\n    });\n    this.overlayContainer.style.zIndex = '1002';\n    const dialogSubscription = dialogRef.afterClosed().subscribe(response => {\n      if (response) {\n        if (response.siteType === 'feature') {\n          this.substanceFormPropertiesService.addSubstancePropertyFromFeature(response.sentFeature);\n        } else {\n          this.substanceFormService.addAnySiteType(response);\n        }\n      }\n      }\n    );\n    this.subscriptions.push(dialogSubscription);\n  }\n\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {DynamicComponentLoaderModule} from '@gsrs-core/dynamic-component-loader';\nimport {SubstanceFormSubunitsComponent} from '@gsrs-core/substance-form/substance-form-subunits/substance-form-subunits.component';\nimport {SubstanceFormModule} from '@gsrs-core/substance-form/substance-form.module';\nimport {MatDividerModule} from '@angular/material/divider';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatButtonModule} from '@angular/material/button';\nimport {ScrollToModule} from '@gsrs-core/scroll-to';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {MatPaginatorModule} from '@angular/material/paginator';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DynamicComponentLoaderModule.forChild(SubstanceFormSubunitsComponent),\n    SubstanceFormModule,\n    MatDividerModule,\n    MatIconModule,\n    MatButtonModule,\n    ScrollToModule,\n    MatFormFieldModule,\n    ReactiveFormsModule,\n    FormsModule,\n    MatPaginatorModule,\n    MatTooltipModule,\n    MatButtonToggleModule,\n    MatInputModule\n  ],\n  exports: [\n  ],\n  declarations: [\n    SubstanceFormSubunitsComponent\n  ]\n})\nexport class SubstanceFormSubunitsModule { }\n","var objectKeys = require('object-keys');\nvar isArguments = require('is-arguments');\nvar is = require('object-is');\nvar isRegex = require('is-regex');\nvar flags = require('regexp.prototype.flags');\nvar isDate = require('is-date-object');\n\nvar getTime = Date.prototype.getTime;\n\nfunction deepEqual(actual, expected, options) {\n  var opts = options || {};\n\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (opts.strict ? is(actual, expected) : actual === expected) {\n    return true;\n  }\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object', equivalence is determined by ==.\n  if (!actual || !expected || (typeof actual !== 'object' && typeof expected !== 'object')) {\n    return opts.strict ? is(actual, expected) : actual == expected;\n  }\n\n  /*\n   * 7.4. For all other Object pairs, including Array objects, equivalence is\n   * determined by having the same number of owned properties (as verified\n   * with Object.prototype.hasOwnProperty.call), the same set of keys\n   * (although not necessarily the same order), equivalent values for every\n   * corresponding key, and an identical 'prototype' property. Note: this\n   * accounts for both named and indexed properties on Arrays.\n   */\n  // eslint-disable-next-line no-use-before-define\n  return objEquiv(actual, expected, opts);\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer(x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') {\n    return false;\n  }\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') {\n    return false;\n  }\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  /* eslint max-statements: [2, 50] */\n  var i, key;\n  if (typeof a !== typeof b) { return false; }\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b)) { return false; }\n\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) { return false; }\n\n  if (isArguments(a) !== isArguments(b)) { return false; }\n\n  var aIsRegex = isRegex(a);\n  var bIsRegex = isRegex(b);\n  if (aIsRegex !== bIsRegex) { return false; }\n  if (aIsRegex || bIsRegex) {\n    return a.source === b.source && flags(a) === flags(b);\n  }\n\n  if (isDate(a) && isDate(b)) {\n    return getTime.call(a) === getTime.call(b);\n  }\n\n  var aIsBuffer = isBuffer(a);\n  var bIsBuffer = isBuffer(b);\n  if (aIsBuffer !== bIsBuffer) { return false; }\n  if (aIsBuffer || bIsBuffer) { // && would work too, because both are true or both false here\n    if (a.length !== b.length) { return false; }\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) { return false; }\n    }\n    return true;\n  }\n\n  if (typeof a !== typeof b) { return false; }\n\n  try {\n    var ka = objectKeys(a);\n    var kb = objectKeys(b);\n  } catch (e) { // happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates hasOwnProperty)\n  if (ka.length !== kb.length) { return false; }\n\n  // the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  // ~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i]) { return false; }\n  }\n  // equivalent values for every corresponding key, and ~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) { return false; }\n  }\n\n  return true;\n}\n\nmodule.exports = deepEqual;\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\torigDefineProperty(obj, 'x', { enumerable: false, value: obj });\n\t\t// eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\t\tfor (var _ in obj) { // jscs:ignore disallowUnusedVariables\n\t\t\treturn false;\n\t\t}\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateGetDayCall(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","'use strict';\n\nvar callBound = require('call-bind/callBound');\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar has;\nvar $exec;\nvar isRegexMarker;\nvar badStringifier;\n\nif (hasToStringTag) {\n\thas = callBound('Object.prototype.hasOwnProperty');\n\t$exec = callBound('RegExp.prototype.exec');\n\tisRegexMarker = {};\n\n\tvar throwRegexMarker = function () {\n\t\tthrow isRegexMarker;\n\t};\n\tbadStringifier = {\n\t\ttoString: throwRegexMarker,\n\t\tvalueOf: throwRegexMarker\n\t};\n\n\tif (typeof Symbol.toPrimitive === 'symbol') {\n\t\tbadStringifier[Symbol.toPrimitive] = throwRegexMarker;\n\t}\n}\n\nvar $toString = callBound('Object.prototype.toString');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar regexClass = '[object RegExp]';\n\nmodule.exports = hasToStringTag\n\t// eslint-disable-next-line consistent-return\n\t? function isRegex(value) {\n\t\tif (!value || typeof value !== 'object') {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar descriptor = gOPD(value, 'lastIndex');\n\t\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\t\tif (!hasLastIndexDataProperty) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\t$exec(value, badStringifier);\n\t\t} catch (e) {\n\t\t\treturn e === isRegexMarker;\n\t\t}\n\t}\n\t: function isRegex(value) {\n\t\t// In older browsers, typeof regex incorrectly returns 'function'\n\t\tif (!value || (typeof value !== 'object' && typeof value !== 'function')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn $toString(value) === regexClass;\n\t};\n","'use strict';\n\nvar numberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t}\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (numberIsNaN(a) && numberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Object);\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.is === 'function' ? Object.is : implementation;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimObjectIs() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { is: polyfill }, {\n\t\tis: function testObjectIs() {\n\t\t\treturn Object.is !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar $Object = Object;\nvar $TypeError = TypeError;\n\nmodule.exports = function flags() {\n\tif (this != null && this !== $Object(this)) {\n\t\tthrow new $TypeError('RegExp.prototype.flags getter called on non-object');\n\t}\n\tvar result = '';\n\tif (this.hasIndices) {\n\t\tresult += 'd';\n\t}\n\tif (this.global) {\n\t\tresult += 'g';\n\t}\n\tif (this.ignoreCase) {\n\t\tresult += 'i';\n\t}\n\tif (this.multiline) {\n\t\tresult += 'm';\n\t}\n\tif (this.dotAll) {\n\t\tresult += 's';\n\t}\n\tif (this.unicode) {\n\t\tresult += 'u';\n\t}\n\tif (this.sticky) {\n\t\tresult += 'y';\n\t}\n\treturn result;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar flagsBound = callBind(getPolyfill());\n\ndefine(flagsBound, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = flagsBound;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar $gOPD = Object.getOwnPropertyDescriptor;\n\nmodule.exports = function getPolyfill() {\n\tif (supportsDescriptors && (/a/mig).flags === 'gim') {\n\t\tvar descriptor = $gOPD(RegExp.prototype, 'flags');\n\t\tif (descriptor && typeof descriptor.get === 'function' && typeof (/a/).dotAll === 'boolean') {\n\t\t\treturn descriptor.get;\n\t\t}\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar getPolyfill = require('./polyfill');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar defineProperty = Object.defineProperty;\nvar TypeErr = TypeError;\nvar getProto = Object.getPrototypeOf;\nvar regex = /a/;\n\nmodule.exports = function shimFlags() {\n\tif (!supportsDescriptors || !getProto) {\n\t\tthrow new TypeErr('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');\n\t}\n\tvar polyfill = getPolyfill();\n\tvar proto = getProto(regex);\n\tvar descriptor = gOPD(proto, 'flags');\n\tif (!descriptor || descriptor.get !== polyfill) {\n\t\tdefineProperty(proto, 'flags', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tget: polyfill\n\t\t});\n\t}\n\treturn polyfill;\n};\n"],"sourceRoot":"webpack:///","file":"4874.e53a2061fc9bbaf0.js"}