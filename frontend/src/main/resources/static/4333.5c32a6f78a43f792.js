"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[4333],{94333:function($,p,r){r.r(p),r.d(p,{StructureDetailsModule:function(){return V}});var Z=r(1884),S=r(39117),m=r(36362),C=r(46751),x=r(56101),A=r(1790),y=r(2756),b=r(52149),I=r(24874),w=r(50253),v=r(59295),q=r(53141),e=r(86613),_=r(50318),U=r(95758),M=r(54244),T=r(65590),O=r(9292),D=r(73430),h=r(26131);function N(n,a){if(1&n&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2,"Additional stereochemistry"),e.qZA(),e.TgZ(3,"div",14),e._uU(4),e.qZA(),e.qZA()),2&n){var s=e.oxw(2);e.xp6(4),e.Oqu(s.structure.atropisomerism)}}function J(n,a){if(1&n&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e._uU(2,"Stereo Comments"),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA(),e.qZA()),2&n){var s=e.oxw(2);e.xp6(4),e.Oqu(s.structure.stereoComments)}}function P(n,a){if(1&n){var s=e.EpF();e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.TgZ(2,"a",25),e.NdJ("click",function(){return e.CHM(s),e.oxw(2).toggleReferences()}),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._UZ(5,"mat-icon",26),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=e.oxw(2);e.xp6(4),e.hij("",!1===t.showDef?"Show":"Hide"," References"),e.xp6(1),e.s9C("svgIcon",t.defIcon)}}function H(n,a){if(1&n){var s=e.EpF();e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.TgZ(2,"a",25),e.NdJ("click",function(){return e.CHM(s),e.oxw(2).toggleSmiles()}),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._UZ(5,"mat-icon",26),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=e.oxw(2);e.xp6(4),e.hij("",!1===t.showSmiles?"Show":"Hide"," SMILES / InChi"),e.xp6(1),e.s9C("svgIcon",t.smilesIcon)}}function k(n,a){if(1&n){var s=e.EpF();e.TgZ(0,"a",29),e.NdJ("click",function(){return e.CHM(s),e.oxw(3).toggleNames()}),e.TgZ(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"mat-icon",26),e.qZA()}if(2&n){var t=e.oxw(3);e.xp6(2),e.hij("",!1===t.showNames?"Show":"Hide"," Systematic Names"),e.xp6(1),e.s9C("svgIcon",t.nameIcon)}}function Q(n,a){1&n&&(e.TgZ(0,"span",30),e._uU(1,"No Systematic Names"),e.qZA())}function E(n,a){if(1&n&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.YNc(2,k,4,2,"a",27),e.YNc(3,Q,2,0,"span",28),e.qZA(),e.qZA()),2&n){var s=e.oxw(2);e.xp6(2),e.Q6J("ngIf",s.systematic.length>0),e.xp6(1),e.Q6J("ngIf",s.systematic.length<1)}}function Y(n,a){if(1&n){var s=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",8),e.TgZ(2,"div"),e.TgZ(3,"div",9),e.TgZ(4,"div",10),e._uU(5,"Stereochemistry"),e.qZA(),e.TgZ(6,"div",11),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"div",9),e.TgZ(9,"div",10),e._uU(10,"Molecular Formula"),e.qZA(),e._UZ(11,"div",12),e.qZA(),e.TgZ(12,"div",9),e.TgZ(13,"div",10),e._uU(14,"Molecular Weight"),e.qZA(),e.TgZ(15,"div",13),e._uU(16),e.ALo(17,"number"),e.qZA(),e.qZA(),e.TgZ(18,"div",9),e.TgZ(19,"div",10),e._uU(20,"Optical Activity"),e.qZA(),e.TgZ(21,"div",14),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"div",9),e.TgZ(24,"div",10),e._uU(25,"Defined Stereocenters"),e.qZA(),e.TgZ(26,"div",14),e._uU(27),e.qZA(),e.qZA(),e.TgZ(28,"div",9),e.TgZ(29,"div",10),e._uU(30,"E/Z Centers"),e.qZA(),e.TgZ(31,"div",14),e._uU(32),e.qZA(),e.qZA(),e.TgZ(33,"div",9),e.TgZ(34,"div",10),e._uU(35,"Charge"),e.qZA(),e.TgZ(36,"div",14),e._uU(37),e.qZA(),e.qZA(),e.YNc(38,N,5,1,"div",15),e.YNc(39,J,5,1,"div",15),e.YNc(40,P,6,2,"div",15),e.YNc(41,H,6,2,"div",15),e.YNc(42,E,4,2,"div",15),e.qZA(),e.TgZ(43,"div",16),e.TgZ(44,"div",17),e.TgZ(45,"a",18),e._UZ(46,"mat-icon",19),e.qZA(),e.TgZ(47,"a",20),e._UZ(48,"mat-icon",21),e.qZA(),e.qZA(),e.TgZ(49,"img",22),e.NdJ("click",function(){e.CHM(s);var i=e.oxw(),c=e.MAs(25);return i.openModal(c)}),e.qZA(),e._UZ(50,"br"),e.TgZ(51,"button",23),e.NdJ("click",function(){return e.CHM(s),e.oxw().toggleStereo()}),e._uU(52),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=e.oxw();e.xp6(7),e.Oqu(t.structure.stereochemistry),e.xp6(4),e.Q6J("innerHTML",t.structure.formula,e.oJD),e.xp6(5),e.Oqu(e.xi3(17,21,t.structure.mwt,t.rounding)),e.xp6(6),e.Oqu(t.structure.opticalActivity),e.xp6(5),e.AsE("",t.structure.definedStereo," / ",t.structure.stereoCenters,""),e.xp6(5),e.Oqu(t.structure.ezCenters),e.xp6(5),e.Oqu(t.structure.charge),e.xp6(1),e.Q6J("ngIf",t.structure.atropisomerism),e.xp6(1),e.Q6J("ngIf",t.structure.stereoComments),e.xp6(1),e.Q6J("ngIf",(null==t.structure.references?null:t.structure.references.length)>0),e.xp6(1),e.Q6J("ngIf",t.structure.smiles),e.xp6(1),e.Q6J("ngIf",t.systematic),e.xp6(3),e.MGl("download","",t.substance.approvalID?t.substance.approvalID.toString():t.substance.uuid.toString(),".mol"),e.Q6J("href",t.molfileHref,e.LSH),e.xp6(2),e.Q6J("href",t.searchHref,e.LSH),e.xp6(2),e.Q6J("entityId",t.structure.id)("stereo",t.showStereo)("version",t.substance.version),e.xp6(2),e.Q6J("disabled",0==t.structure.definedStereo),e.xp6(1),e.hij("",!1===t.showStereo?"Show":"Hide"," Stereo")}}function F(n,a){if(1&n&&(e.TgZ(0,"mat-list-item"),e._uU(1),e.qZA()),2&n){var s=a.$implicit;e.xp6(1),e.hij(" ",s," ")}}function R(n,a){if(1&n&&(e.TgZ(0,"div",31),e._UZ(1,"img",32),e.qZA()),2&n){var s=e.oxw();e.xp6(1),e.Q6J("entityId",s.structure.id)("stereo",s.showStereo)("version",s.substance.version)}}var z=function(){var n=function(a){(0,C.Z)(t,a);var s=(0,x.Z)(t);function t(u,i,c,g,d,l,f){var o;return(0,S.Z)(this,t),(o=s.call(this)).utilService=u,o.structureService=i,o.gaService=c,o.sanitizer=g,o.dialog=d,o.overlayContainerService=l,o.configService=f,o.showDef=!1,o.showSmiles=!1,o.defIcon="drop_down",o.smilesIcon="drop_down",o.nameIcon="drop_down",o.showStereo=!1,o.substanceUpdated=new w.x,o.showNames=!1,o.rounding="1.0-2",o}return(0,Z.Z)(t,[{key:"ngOnInit",value:function(){var i=this;if(null!=this.substance){this.getSysNames(),this.structure=this.substance.structure,this.structure.smiles&&(this.structureService.getInchi(this.substance.uuid).pipe((0,v.q)(1)).subscribe(function(l){i.inchi=l.replace(/\"/g,"")}),this.structureService.getOtherInchi(this.substance.uuid).pipe((0,v.q)(1)).subscribe(function(l){i.otherInchi=l.replace(/\"/g,"")})),this.structure.formula=this.structureService.formatFormula(this.structure);var d=this.sanitizer.bypassSecurityTrustUrl("data:text;charset=UTF-8,"+encodeURIComponent(this.structure.molfile));this.molfileHref=d,this.searchHref="structure-search?structure="+this.structure.id}this.overlayContainer=this.overlayContainerService.getContainerElement(),this.configService.configData&&this.configService.configData.molWeightRounding&&(this.rounding="1.0-"+this.configService.configData.molWeightRounding)}},{key:"getSysNames",value:function(){var i=this;this.substance&&this.substance.names&&(this.systematic=[],this.substance.names.forEach(function(c){"sys"===c.type&&i.systematic.push(c.name)}))}},{key:"openModal",value:function(i){var c=this,g=this.dialog.open(i,{width:"650px",panelClass:"structure-image-panel"});this.overlayContainer.style.zIndex="1002",g.afterClosed().subscribe(function(d){c.overlayContainer.style.zIndex=null})}},{key:"ngAfterViewInit",value:function(){var i=this;this.substanceUpdated.subscribe(function(c){if(i.substance=c,!i.structure||i.structure.id!==i.substance.structure.id||i.structure.molfile!==i.substance.structure.molfile){i.getSysNames(),i.structure.smiles&&(i.structureService.getInchi(i.substance.uuid).pipe((0,v.q)(1)).subscribe(function(o){i.inchi=o.replace(/\"/g,"")}),i.structureService.getOtherInchi(i.substance.uuid).pipe((0,v.q)(1)).subscribe(function(o){i.otherInchi=o.replace(/\"/g,"")})),i.structure=i.substance.structure;var f=i.sanitizer.bypassSecurityTrustUrl("data:text;charset=UTF-8,"+encodeURIComponent(i.structure.molfile));i.molfileHref=f}})}},{key:"toggleReferences",value:function(){this.gaService.sendEvent(this.analyticsEventCategory,"link-toggle","references",this.showDef?0:1),this.showDef=!this.showDef,this.defIcon=this.showDef?"drop_up":"drop_down"}},{key:"toggleNames",value:function(){this.showNames=!this.showNames,this.nameIcon=this.showNames?"drop_up":"drop_down"}},{key:"toggleSmiles",value:function(){this.gaService.sendEvent(this.analyticsEventCategory,"link-toggle","smiles",this.showSmiles?0:1),this.showSmiles=!this.showSmiles,this.smilesIcon=this.showSmiles?"drop_up":"drop_down"}},{key:"toggleStereo",value:function(){this.gaService.sendEvent(this.analyticsEventCategory,"link-toggle","stereo",this.showStereo?0:1),this.showStereo=!this.showStereo}}]),t}(y.B);return n.\u0275fac=function(s){return new(s||n)(e.Y36(b.F),e.Y36(A.D),e.Y36(I.$),e.Y36(_.H7),e.Y36(U.uw),e.Y36(M.Xj),e.Y36(q.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-structure-details"]],features:[e.qOj],decls:26,vars:10,consts:[[4,"ngIf"],[2,"width","100%"],[2,"min-width","50%",3,"hidden"],[3,"substance","references"],[2,"width","100%",3,"hidden"],[1,"indent"],[4,"ngFor","ngForOf"],["structureTemplate",""],[1,"structure-card-content"],[1,"name-value"],[1,"name"],[1,"value","black-pill"],[1,"value","blue-font",3,"innerHTML"],[1,"value","blue-font"],[1,"value","gray-pill"],["class","name-value",4,"ngIf"],[1,"structure-image-container","text-center"],[1,"float-right"],["title","Download molfile",1,"mat-icon-button",3,"href","download"],["svgIcon","get_app"],["title","Structure Search",1,"mat-icon-button",3,"href"],["svgIcon","search"],["appSubstanceImage","","size","250",1,"structure-img",3,"entityId","stereo","version","click"],[1,"mat-raised-button","mat-primary",3,"disabled","click"],[1,"value","stereo-comments"],["tabindex","0","role","link",1,"blue-font","references-link",3,"click"],[3,"svgIcon"],["class","blue-font references-link",3,"click",4,"ngIf"],["class","disabled",4,"ngIf"],[1,"blue-font","references-link",3,"click"],[1,"disabled"],["mat-dialog-content",""],["appSubstanceImage","","size","250",1,"structure-img-big",3,"entityId","stereo","version"]],template:function(s,t){1&s&&(e.YNc(0,Y,53,24,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h3"),e._uU(4,"References"),e.qZA(),e._UZ(5,"app-references-manager",3),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"h3"),e._uU(8,"SMILES:"),e.qZA(),e.TgZ(9,"p",5),e._uU(10),e.qZA(),e.TgZ(11,"h3"),e._uU(12,"InChiKey:"),e.qZA(),e.TgZ(13,"p",5),e._uU(14),e.qZA(),e.TgZ(15,"h3"),e._uU(16,"InChi:"),e.qZA(),e.TgZ(17,"p",5),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"div",4),e.TgZ(20,"h3"),e._uU(21,"Systematic Names:"),e.qZA(),e.TgZ(22,"mat-list"),e.YNc(23,F,2,1,"mat-list-item",6),e.qZA(),e.qZA(),e.YNc(24,R,2,3,"ng-template",null,7,e.W1O),e.qZA()),2&s&&(e.Q6J("ngIf",t.structure),e.xp6(2),e.Q6J("hidden",!t.showDef),e.xp6(3),e.Q6J("substance",t.substance)("references",t.structure.references),e.xp6(1),e.Q6J("hidden",!t.showSmiles),e.xp6(4),e.Oqu(t.structure.smiles),e.xp6(4),e.Oqu(t.inchi),e.xp6(4),e.Oqu(t.otherInchi),e.xp6(1),e.Q6J("hidden",!t.showNames),e.xp6(4),e.Q6J("ngForOf",t.systematic))},directives:[m.O5,T.Hw,O.m,D.C,h.i$,m.sg,h.Tg],pipes:[m.JJ],styles:[".structure-card-content[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.structure-image-container[_ngcontent-%COMP%]{padding-left:20px;-ms-flex-positive:1;flex-grow:1}.structure-image-container[_ngcontent-%COMP%]   .structure-img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in}.structure-img-big[_ngcontent-%COMP%]{width:100%;height:500px!important}.blue-font[_ngcontent-%COMP%]     sub{margin-bottom:-10px}.content-fix[_ngcontent-%COMP%]{min-height:250px;padding:15px 20px}.src-column[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:50%}.actions[_ngcontent-%COMP%]{height:75px}.fixActionRow[_ngcontent-%COMP%]{height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.spacer[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}  .mat-dialog-container{height:unset!important;max-height:90%}.black-pill[_ngcontent-%COMP%], .gray-pill[_ngcontent-%COMP%]{color:var(--regular-white-color);padding:1px 7px;border-radius:11px}.black-pill[_ngcontent-%COMP%]{background-color:var(--regular-black-color)}.gray-pill[_ngcontent-%COMP%]{background-color:var(--regular-grey-color)}.name[_ngcontent-%COMP%]{min-width:175px}@media (max-width: 700px){.structure-card-content[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column}}.references-link[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.float-right[_ngcontent-%COMP%]{float:right}.icon-button[_ngcontent-%COMP%]{padding:5px;height:34px;width:34px;min-width:34px;margin:2px}.indent[_ngcontent-%COMP%]{padding-left:15px;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.stereo-comments[_ngcontent-%COMP%]{max-width:175px}"]}),n}(),j=r(64061),L=r(38277),W=r(24054),V=function(){var n=(0,Z.Z)(function a(){(0,S.Z)(this,a)});return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.ez,j.o.forChild(z),T.Ps,L.V,W.f,h.ie]]}),n}()}}]);
//# sourceMappingURL=4333.5c32a6f78a43f792.js.map