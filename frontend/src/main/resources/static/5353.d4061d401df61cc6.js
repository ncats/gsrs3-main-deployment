"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[5353],{55353:function(W,p,r){r.r(p),r.d(p,{SubstanceFormReferencesModule:function(){return V}});var g=r(48047),v=r(78069),m=r(36362),T=r(24582),x=r(7318),Z=r(79550),I=r(91770),J=r(24874),O=r(24936),e=r(76442),M=r(95758),A=r(78444),N=r(66088),h=r(44770),C=r(43365),d=r(90587),S=r(26439),Q=r(51279),z=r(95465),b=r(19975),F=r(87317),R=r(65590);function E(n,c){if(1&n&&(e.TgZ(0,"mat-form-field",6),e._UZ(1,"input",7),e.qZA()),2&n){var o=e.oxw();e.Q6J("floatLabel","never"),e.xp6(1),e.Q6J("formControl",o.searchControl)}}var y=function(){return[5,10,25,100]};function Y(n,c){if(1&n){var o=e.EpF();e.TgZ(0,"mat-paginator",8),e.NdJ("page",function(a){e.CHM(o);var i=e.oxw();return i.pageChange(a,i.analyticsEventCategory)}),e.qZA()}if(2&n){var t=e.oxw();e.Q6J("length",t.filtered&&t.filtered.length||0)("pageIndex",t.page)("pageSize",5)("pageSizeOptions",e.DdM(4,y))}}function D(n,c){1&n&&e._UZ(0,"mat-divider",12),2&n&&e.Q6J("inset",!0)}function U(n,c){if(1&n){var o=e.EpF();e.TgZ(0,"div",9),e.TgZ(1,"app-reference-form",10),e.NdJ("referenceDeleted",function(i){return e.CHM(o),e.oxw().deleteReference(i)}),e.qZA(),e.YNc(2,D,1,1,"mat-divider",11),e.qZA()}if(2&n){var t=c.$implicit,f=c.last;e.Q6J("id",t.uuid),e.xp6(1),e.Q6J("reference",t),e.xp6(1),e.Q6J("ngIf",!f)}}function P(n,c){if(1&n){var o=e.EpF();e.TgZ(0,"mat-paginator",8),e.NdJ("page",function(a){e.CHM(o);var i=e.oxw();return i.pageChange(a,i.analyticsEventCategory)}),e.qZA()}if(2&n){var t=e.oxw();e.Q6J("length",t.filtered&&t.filtered.length||0)("pageIndex",t.page)("pageSize",5)("pageSizeOptions",e.DdM(4,y))}}function L(n,c){if(1&n){var o=e.EpF();e.TgZ(0,"div",13),e._UZ(1,"span",2),e.TgZ(2,"button",14),e.NdJ("click",function(){return e.CHM(o),e.oxw().addSubstanceReference()}),e._uU(3," Add reference "),e._UZ(4,"mat-icon",15),e.qZA(),e.qZA()}}var H=function(){var n=function(c){(0,T.Z)(t,c);var o=(0,x.Z)(t);function t(f,a,i,l,u){var s;return(0,v.Z)(this,t),(s=o.call(this,l)).substanceFormReferencesService=f,s.dialog=a,s.scrollToService=i,s.gaService=l,s.overlayContainerService=u,s.subscriptions=[],s.analyticsEventCategory="substance form references",s}return(0,g.Z)(t,[{key:"ngOnInit",value:function(){this.canAddItemUpdate.emit(!0),this.menuLabelUpdate.emit("References"),this.overlayContainer=this.overlayContainerService.getContainerElement()}},{key:"ngAfterViewInit",value:function(){var a=this,i=this.substanceFormReferencesService.substanceReferences.subscribe(function(l){a.references=l,a.filtered=l;var u=a.searchControl.valueChanges.subscribe(function(s){a.filterList(s,a.references,a.analyticsEventCategory)},function(s){console.log(s)});a.subscriptions.push(u),a.page=0,a.pageChange()});this.subscriptions.push(i)}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.emit(),this.subscriptions.forEach(function(a){a.unsubscribe()})}},{key:"openReferenceFormDialog",value:function(){var a=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{access:[]},l=this.dialog.open(I.n,{data:i,width:"900px"});this.overlayContainer.style.zIndex="1002";var u=l.afterClosed().subscribe(function(s){a.overlayContainer.style.zIndex=null,null!=s&&s.doctype&&s.citation&&a.substanceFormReferencesService.addSubstanceReference(s)});this.subscriptions.push(u)}},{key:"addItem",value:function(){this.addSubstanceReference()}},{key:"addSubstanceReference",value:function(){var a=this,i=this.substanceFormReferencesService.addSubstanceReference({});setTimeout(function(){a.scrollToService.scrollToElement(i.uuid,"center")},10)}},{key:"deleteReference",value:function(a){this.substanceFormReferencesService.deleteSubstanceReference(a)}}]),t}(Z.u);return n.\u0275fac=function(o){return new(o||n)(e.Y36(O.v),e.Y36(M.uw),e.Y36(A.i),e.Y36(J.$),e.Y36(N.Xj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-substance-form-references-card"]],features:[e.qOj],decls:7,vars:5,consts:[[1,"flex-row"],["class","search",3,"floatLabel",4,"ngIf"],[1,"middle-fill"],["showFirstLastButtons","true",3,"length","pageIndex","pageSize","pageSizeOptions","page",4,"ngIf"],["class","reference","appScrollToTarget","",3,"id",4,"ngFor","ngForOf"],["style","display: flex;",4,"ngIf"],[1,"search",3,"floatLabel"],["matInput","","placeholder","Search",3,"formControl"],["showFirstLastButtons","true",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["appScrollToTarget","",1,"reference",3,"id"],[3,"reference","referenceDeleted"],["class","form-divider",3,"inset",4,"ngIf"],[1,"form-divider",3,"inset"],[2,"display","flex"],["mat-button","",3,"click"],["svgIcon","add_circle_outline"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.YNc(1,E,2,2,"mat-form-field",1),e._UZ(2,"span",2),e.qZA(),e.YNc(3,Y,1,5,"mat-paginator",3),e.YNc(4,U,3,3,"div",4),e.YNc(5,P,1,5,"mat-paginator",3),e.YNc(6,L,5,0,"div",5)),2&o&&(e.xp6(1),e.Q6J("ngIf",t.references&&t.references.length>t.pageSize),e.xp6(2),e.Q6J("ngIf",t.references&&t.references.length>5),e.xp6(1),e.Q6J("ngForOf",t.paged),e.xp6(1),e.Q6J("ngIf",t.references&&t.references.length>5),e.xp6(1),e.Q6J("ngIf",t.references&&t.references.length>0))},directives:[m.O5,h.KE,C.Nt,d.Fj,d.JJ,d.oH,S.NW,m.sg,Q.P,z.b,b.d,F.lW,R.Hw],styles:[".mat-divider.mat-divider-inset[_ngcontent-%COMP%]{margin-left:0}.mat-divider[_ngcontent-%COMP%]{border-top-color:#00000080}.reference[_ngcontent-%COMP%]:nth-child(odd){background-color:#448aff12}.reference[_ngcontent-%COMP%]:nth-child(odd)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:#448aff26}.reference[_ngcontent-%COMP%]:nth-child(even)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:#80808026}.search[_ngcontent-%COMP%]{width:400px;max-width:100%}"]}),n}(),j=r(64061),B=r(7168),X=r(94673),V=function(){var n=(0,g.Z)(function c(){(0,v.Z)(this,c)});return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.ez,j.o.forChild(H),B.O,b.t,X.w,R.Ps,F.ot,h.lN,d.UX,d.u5,S.TU,C.c]]}),n}()}}]);
//# sourceMappingURL=5353.d4061d401df61cc6.js.map