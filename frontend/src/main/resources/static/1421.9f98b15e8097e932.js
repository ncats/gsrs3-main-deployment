"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[1421],{41421:function(Wa,L,_){_.r(L),_.d(L,{SubstanceProductsModule:function(){return Ha}});var C=_(1884),S=_(39117),b=_(36362),B=_(75143),x=_(46751),T=_(56101),N=_(40104),j=_(42154),H=_(68756),t=_(86613),P=function(){var e=function(a){(0,x.Z)(r,a);var i=(0,T.Z)(r);function r(c,n){var o;return(0,S.Z)(this,r),(o=i.call(this,c)).gaService=c,o.service=n,o.results=[],o.isAdmin=!1,o}return(0,C.Z)(r,[{key:"ngOnInit",value:function(){}},{key:"setPageEvent",value:function(n){null!=n&&(this.page=n.pageIndex,this.pageSize=n.pageSize)}},{key:"setResultData",value:function(n,o){this.results=n,this.filtered=n,this.totalRecords=this.service.totalRecords,this.pageChangeFda()}},{key:"pageChangeFda",value:function(n,o){if(this.paged=[],this.filtered)for(var u=0;u<this.filtered.length&&null!=this.filtered[u];u++)this.paged.push(this.filtered[u])}}]),r}(H.uJ);return e.\u0275fac=function(i){t.$Z()},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e}(),M=_(53141),O=_(44250),k=_(59295),w=_(35096),G=_(51674),h=_(98002),q=_(93392),Y=_(95758),I=_(12379),A=_(87317),Z=_(65590),y=_(74742),d=_(97217),g=_(64316),E=_(26439),W=_(63322),J=_(48968),K=_(4096);function X(e,a){1&e&&(t.TgZ(0,"div"),t._UZ(1,"br"),t.TgZ(2,"div",3),t.TgZ(3,"b"),t._uU(4,"No Application Found"),t.qZA(),t.qZA(),t._UZ(5,"br"),t.qZA())}function V(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"span",22),t.TgZ(1,"button",23),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).export()}),t._UZ(2,"mat-icon",24),t._uU(3," Export All Applications "),t.qZA(),t.qZA()}}function tt(e,a){1&e&&(t.TgZ(0,"div",25),t._UZ(1,"mat-progress-spinner",26),t.qZA())}function et(e,a){1&e&&(t.TgZ(0,"th",27),t._uU(1," Application Type "),t.qZA())}var nt=function(a){return["/application",a,"edit"]};function at(e,a){if(1&e&&(t.TgZ(0,"a",31),t._UZ(1,"mat-icon",32),t.qZA()),2&e){var i=t.oxw(2).$implicit;t.Q6J("routerLink",t.VKq(1,nt,i.id))}}var it=function(a){return["/application",a]};function ot(e,a){if(1&e&&(t.TgZ(0,"span"),t.TgZ(1,"a",29),t._uU(2),t.qZA(),t._uU(3," \xa0\xa0 "),t.YNc(4,at,2,3,"a",30),t.qZA()),2&e){var i=t.oxw().$implicit,r=t.oxw(2);t.xp6(1),t.Q6J("routerLink",t.VKq(3,it,i.id)),t.xp6(1),t.Oqu(i.appType),t.xp6(2),t.Q6J("ngIf",r.isAdmin)}}var rt=function(a,i){return["/application-darrts",a,i]};function st(e,a){if(1&e&&(t.TgZ(0,"span"),t.TgZ(1,"a",29),t._uU(2),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"span",33),t._uU(5,"(Integrity)"),t.qZA(),t.qZA()),2&e){var i=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",t.WLB(2,rt,i.appType,i.appNumber)),t.xp6(1),t.Oqu(i.appType)}}function ct(e,a){if(1&e&&(t.TgZ(0,"td",28),t.YNc(1,ot,5,5,"span",0),t.YNc(2,st,6,5,"span",0),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngIf",i.fromTable&&"GSRS"===i.fromTable),t.xp6(1),t.Q6J("ngIf",i.fromTable&&"GSRS"!==i.fromTable)}}function ut(e,a){1&e&&(t.TgZ(0,"th",27),t._uU(1," Application Number "),t.qZA())}function lt(e,a){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.appNumber," ")}}function pt(e,a){1&e&&(t.TgZ(0,"th",27),t._uU(1," Product Name "),t.qZA())}function dt(e,a){if(1&e&&(t.TgZ(0,"div",36),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.productName," ")}}function mt(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,dt,2,1,"div",35),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngForOf",i.applicationProductNameList)}}function _t(e,a){if(1&e&&(t.TgZ(0,"td",28),t.YNc(1,mt,2,1,"div",34),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngForOf",i.applicationProductList)}}function vt(e,a){1&e&&(t.TgZ(0,"th",27),t._uU(1," Sponsor Name "),t.qZA())}function ft(e,a){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.sponsorName," ")}}function gt(e,a){1&e&&(t.TgZ(0,"th",27),t._uU(1," Application Status "),t.qZA())}function bt(e,a){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.appStatus," ")}}function ht(e,a){1&e&&(t.TgZ(0,"th",27),t._uU(1," Application Sub Type "),t.qZA())}function Ct(e,a){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.appSubType," ")}}function St(e,a){1&e&&t._UZ(0,"tr",37)}function xt(e,a){1&e&&t._UZ(0,"tr",38)}var Tt=function(){return[5,10,25,100]};function At(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"mat-tab",4),t.TgZ(1,"div",5),t.TgZ(2,"b"),t._uU(3),t.qZA(),t._uU(4," \xa0\xa0\xa0 "),t.TgZ(5,"span",6),t._uU(6),t.qZA(),t._uU(7," \xa0\xa0\xa0 "),t.YNc(8,V,4,0,"span",7),t.qZA(),t.TgZ(9,"div",8),t.YNc(10,tt,2,0,"div",9),t.TgZ(11,"table",10),t.NdJ("matSortChange",function(o){return t.CHM(i),t.oxw().sortData(o)}),t.ynx(12,11),t.YNc(13,et,2,0,"th",12),t.YNc(14,ct,3,2,"td",13),t.BQk(),t.ynx(15,14),t.YNc(16,ut,2,0,"th",12),t.YNc(17,lt,2,1,"td",13),t.BQk(),t.ynx(18,15),t.YNc(19,pt,2,0,"th",12),t.YNc(20,_t,2,1,"td",13),t.BQk(),t.ynx(21,16),t.YNc(22,vt,2,0,"th",12),t.YNc(23,ft,2,1,"td",13),t.BQk(),t.ynx(24,17),t.YNc(25,gt,2,0,"th",12),t.YNc(26,bt,2,1,"td",13),t.BQk(),t.ynx(27,18),t.YNc(28,ht,2,0,"th",12),t.YNc(29,Ct,2,1,"td",13),t.BQk(),t.YNc(30,St,1,0,"tr",19),t.YNc(31,xt,1,0,"tr",20),t.qZA(),t.qZA(),t.TgZ(32,"mat-paginator",21),t.NdJ("page",function(o){return t.CHM(i),t.oxw().getApplicationBySubstanceKeyCenter(o)}),t.qZA(),t.qZA()}if(2&e){var r=a.$implicit,c=t.oxw();t.s9C("label",r),t.xp6(3),t.hij(" ",r,""),t.xp6(3),t.Oqu(c.loadingStatus),t.xp6(2),t.Q6J("ngIf",c.isAdmin&&c.totalRecords>0),t.xp6(2),t.Q6J("ngIf",c.showSpinner),t.xp6(1),t.Q6J("dataSource",c.paged),t.xp6(19),t.Q6J("matHeaderRowDef",c.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",c.displayedColumns),t.xp6(1),t.Q6J("length",c.totalRecords)("pageSize",5)("pageSizeOptions",t.DdM(11,Tt))}}var Zt=function(){var e=function(a){(0,x.Z)(r,a);var i=(0,T.Z)(r);function r(c,n,o,u,p,m,l){var s;return(0,S.Z)(this,r),(s=i.call(this,u,p)).router=c,s.authService=n,s.loadingService=o,s.gaService=u,s.applicationService=p,s.generalService=m,s.dialog=l,s.applicationCount=0,s.totalApplication=0,s.centerList=[],s.centerListOriginal=[],s.center="",s.fromTable="",s.loadingStatus="",s.showSpinner=!1,s.foundCenterList=!1,s.loadingComplete=!1,s.privateExport=!1,s.disableExport=!1,s.etag="",s.etagAllExport="",s.countApplicationOut=new t.vpe,s.sortValues=K.R,s.order="$root_appNumber",s.ascDescDir="desc",s.displayedColumns=["appType","appNumber","productName","sponsorName","appStatus","applicationSubType"],s}return(0,C.Z)(r,[{key:"ngOnInit",value:function(){var n=this;this.authService.hasAnyRolesAsync("Admin","Updater","SuperUpdater").pipe((0,k.q)(1)).subscribe(function(o){n.isAdmin=o}),this.bdnum&&(this.getApplicationCenterList(),this.privateSearch="root_applicationProductList_applicationIngredientList_substanceKey:"+this.bdnum,this.getApplicationBySubstanceKeyCenter(null,"initial"))}},{key:"getApplicationCenterList",value:function(){var n=this;this.applicationService.getApplicationCenterList(this.bdnum).subscribe(function(o){n.centerListOriginal=o,n.centerList=o,n.centerList&&n.centerList.length>0&&(n.foundCenterList=!0),n.loadingComplete=!0})}},{key:"applicationTabSelected",value:function(n){if(n){var u=n.tab.textLabel;if(null!=u){this.loadingStatus="Loading data...";var p=u.indexOf(" ");this.center=u.slice(0,p),this.fromTable=u.slice(p+1,u.length)}this.paged=[],this.privateSearch="root_applicationProductList_applicationIngredientList_substanceKey:"+this.bdnum+" AND root_center:"+this.center+" AND root_fromTable: "+this.fromTable,this.getApplicationBySubstanceKeyCenter()}}},{key:"getApplicationBySubstanceKeyCenter",value:function(n,o){var u=this;this.setPageEvent(n),this.showSpinner=!0;var m=this.applicationService.getApplicationAll(this.order,this.page*this.pageSize,this.pageSize,this.privateSearch,this.privateFacetParams).subscribe(function(l){o&&"initial"===o?u.etagAllExport=l.etag:(u.applicationService.totalRecords=l.total,u.applicationCount=l.total,u.setResultData(l.content),u.etag=l.etag,u.countApplicationOut.emit(u.applicationCount))},function(l){u.showSpinner=!1,console.log("error")},function(){u.showSpinner=!1,m.unsubscribe()});this.loadingStatus=""}},{key:"export",value:function(){var n=this;if(this.etagAllExport){var o="xlsx",u=this.getApiExportUrl(this.etagAllExport,o);""!==this.authService.getUser()&&this.dialog.open(w.L,{width:"700px",data:{extension:o,type:"substanceApplication",entity:"applications",hideOptionButtons:!0}}).afterClosed().subscribe(function(m){var l=m.name,s=m.id;l&&""!==l&&(n.loadingService.setLoading(!0),n.authService.startUserDownload(u,n.privateExport,l+"."+o,s).subscribe(function(v){n.loadingService.setLoading(!1),n.router.navigate(["/user-downloads/",v.id])},function(v){return n.loadingService.setLoading(!1)}))})}}},{key:"getApiExportUrl",value:function(n,o){return this.applicationService.getAppAllApiExportUrl(n,o)}},{key:"updateApplicationUrl",get:function(){return this.applicationService.getUpdateApplicationUrl()}},{key:"applicationListExportUrl",value:function(){null!=this.bdnum&&(this.exportUrl=this.applicationService.getApplicationListExportUrl(this.bdnum))}},{key:"sortData",value:function(n){var o=this;if(n.active){var u=this.displayedColumns.indexOf(n.active).toString();this.ascDescDir=n.direction,this.sortValues.forEach(function(p){p.displayedColumns&&p.direction&&o.displayedColumns[u]===p.displayedColumns&&o.ascDescDir===p.direction&&(o.order=p.value)}),this.getApplicationBySubstanceKeyCenter()}}}]),r}(P);return e.\u0275fac=function(i){return new(i||e)(t.Y36(h.F0),t.Y36(O.e),t.Y36(q.b),t.Y36(N.$),t.Y36(W.I),t.Y36(J.m),t.Y36(Y.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-substance-application"]],inputs:{bdnum:"bdnum"},outputs:{countApplicationOut:"countApplicationOut"},features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf"],[3,"selectedTabChange"],[3,"label",4,"ngFor","ngForOf"],[1,"padleft25px","colorblue"],[3,"label"],[1,"padtop5px","padleft25px","font15px","colorblue"],[1,"colorred"],["class","export",4,"ngIf"],[1,"responsive","mat-table-style"],["class","spinnerstyle",4,"ngIf"],["mat-table","","matSort","","matSortActive","ptCount","matSortDirection","desc","matSortDisableClear","",1,"font12px",3,"dataSource","matSortChange"],["matColumnDef","appType"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","appNumber"],["matColumnDef","productName"],["matColumnDef","sponsorName"],["matColumnDef","appStatus"],["matColumnDef","applicationSubType"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","true",3,"length","pageSize","pageSizeOptions","page"],[1,"export"],["matTooltip","Export Search Results","mat-button","",1,"mat-button","export-button","mat-raised-button",3,"click"],["svgIcon","get_app"],[1,"spinnerstyle"],["diameter","80","color","warn","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["target","_blank",3,"routerLink"],["target","_blank","matTooltip","Edit GSRS Application Record",3,"routerLink",4,"ngIf"],["target","_blank","matTooltip","Edit GSRS Application Record",3,"routerLink"],["svgIcon","edit"],[1,"font10px","colorgray"],[4,"ngFor","ngForOf"],["class","row",4,"ngFor","ngForOf"],[1,"row"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(t.YNc(0,X,6,0,"div",0),t.TgZ(1,"mat-tab-group",1),t.NdJ("selectedTabChange",function(n){return r.applicationTabSelected(n)}),t.YNc(2,At,33,12,"mat-tab",2),t.qZA()),2&i&&(t.Q6J("ngIf",!0===r.loadingComplete&&!1===r.foundCenterList&&0===r.applicationCount),t.xp6(2),t.Q6J("ngForOf",r.centerList))},directives:[b.O5,I.SP,b.sg,I.uX,A.lW,Z.Hw,y.Ou,d.BZ,g.YE,d.w1,d.fO,d.ge,g.nU,d.Dz,d.ev,h.yS,d.as,d.XQ,d.nj,d.Gk,E.NW],styles:[".mat-table-style[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{vertical-align:top;font-size:12px}.font9px[_ngcontent-%COMP%]{font:size 10px}.font10px[_ngcontent-%COMP%]{font-size:10px}.font12px[_ngcontent-%COMP%]{font-size:12px}.font15px[_ngcontent-%COMP%]{font-size:15px}.padleft25px[_ngcontent-%COMP%]{padding-left:25px}.padtop5px[_ngcontent-%COMP%]{padding-top:5px}.colorblue[_ngcontent-%COMP%]{color:var(--deep-purple-color)}.colorgray[_ngcontent-%COMP%]{color:var(--regular-grey-color)}.colorred[_ngcontent-%COMP%]{color:var(--regular-red-color)}.spinnerstyle[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:var(--spinner-bg-color);z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:top;align-items:top;-ms-flex-pack:center;justify-content:center}"]}),e}(),R=_(69638),F=[{value:"default",display:"Relevance"},{value:"^root_trialNumber",display:"NCT Number, Ascending",displayedColumns:"trialNumber",direction:"asc"},{value:"$root_trialNumber",display:"NCT Number, Descending",displayedColumns:"trialNumber",direction:"desc"},{value:"^root_title",display:"Title, Ascending",displayedColumns:"title",direction:"asc"},{value:"$root_title",display:"Title, Descending",displayedColumns:"title",direction:"desc"},{value:"^root_sponsor",display:"Sponsor Name, Ascending",displayedColumns:"sponsor",direction:"asc"},{value:"$root_sponsor",display:"Sponsor Name, Descending",displayedColumns:"sponsor",direction:"desc"},{value:"^root_sponsorName",display:"Sponsor Name, Ascending",displayedColumns:"sponsorName",direction:"asc"},{value:"$root_sponsorName",display:"Sponsor Name, Descending",displayedColumns:"sponsorName",direction:"desc"},{value:"^root_conditions",display:"Conditions, Ascending",displayedColumns:"conditions",direction:"asc"},{value:"$root_conditions",display:"Conditions, Descending",displayedColumns:"conditions",direction:"desc"},{value:"^root_clinicalTrialEuropeMeddraList_meddraTerm",display:"Conditions, Ascending",displayedColumns:"conditionsEU",direction:"asc"},{value:"$root_clinicalTrialEuropeMeddraList_meddraTerm",display:"Conditions, Descending",displayedColumns:"conditionsEU",direction:"desc"}];function yt(e,a){1&e&&(t.TgZ(0,"div",2),t.TgZ(1,"b"),t._uU(2,"No Clinical Trial US Found"),t.qZA(),t.qZA())}function Et(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"span",19),t.TgZ(1,"button",20),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).export()}),t._UZ(2,"mat-icon",21),t._uU(3," Export CTs "),t.qZA(),t.qZA()}}function Dt(e,a){1&e&&(t.TgZ(0,"div",22),t._UZ(1,"mat-progress-spinner",23),t.qZA())}function Ut(e,a){1&e&&t._UZ(0,"th",24)}function Nt(e,a){if(1&e&&(t.TgZ(0,"td",25),t.TgZ(1,"a",26),t._UZ(2,"mat-icon",27),t.qZA(),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("href","edit-clinical-trial/"+i.trialNumber,t.LSH)}}function Pt(e,a){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Trial Number"),t.qZA())}function Ot(e,a){if(1&e&&(t.TgZ(0,"td",25),t.TgZ(1,"a",29),t._uU(2),t.qZA(),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("href","https://clinicaltrials.gov/ct2/show/"+i.trialNumber,t.LSH),t.xp6(1),t.Oqu(i.trialNumber)}}function wt(e,a){1&e&&(t.TgZ(0,"th",28),t._uU(1," Title "),t.qZA())}function qt(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.title," ")}}function Yt(e,a){1&e&&(t.TgZ(0,"th",28),t._uU(1," Sponsor Name "),t.qZA())}function It(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.sponsor," ")}}function Mt(e,a){1&e&&(t.TgZ(0,"th",28),t._uU(1," Conditions "),t.qZA())}function kt(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.conditions," ")}}function Qt(e,a){1&e&&(t.TgZ(0,"th",24),t._uU(1," Outcome Measures "),t.qZA())}function Lt(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.outcomeMeasures," ")}}function Jt(e,a){1&e&&t._UZ(0,"tr",30)}function Rt(e,a){1&e&&t._UZ(0,"tr",31)}var Ft=function(){return[5,10,25,100]};function $t(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",2),t.TgZ(2,"b"),t._uU(3,"Clinical Trials US"),t.qZA(),t._uU(4," \xa0\xa0\xa0 "),t.qZA(),t.TgZ(5,"div"),t.YNc(6,Et,4,0,"span",3),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,Dt,2,0,"div",5),t.TgZ(9,"table",6),t.NdJ("matSortChange",function(n){return t.CHM(i),t.oxw().sortData(n)}),t.ynx(10,7),t.YNc(11,Ut,1,0,"th",8),t.YNc(12,Nt,3,1,"td",9),t.BQk(),t.ynx(13,10),t.YNc(14,Pt,2,0,"th",11),t.YNc(15,Ot,3,2,"td",9),t.BQk(),t.ynx(16,12),t.YNc(17,wt,2,0,"th",11),t.YNc(18,qt,2,1,"td",9),t.BQk(),t.ynx(19,13),t.YNc(20,Yt,2,0,"th",11),t.YNc(21,It,2,1,"td",9),t.BQk(),t.ynx(22,14),t.YNc(23,Mt,2,0,"th",11),t.YNc(24,kt,2,1,"td",9),t.BQk(),t.ynx(25,15),t.YNc(26,Qt,2,0,"th",8),t.YNc(27,Lt,2,1,"td",9),t.BQk(),t.YNc(28,Jt,1,0,"tr",16),t.YNc(29,Rt,1,0,"tr",17),t.qZA(),t.qZA(),t.TgZ(30,"mat-paginator",18),t.NdJ("page",function(n){return t.CHM(i),t.oxw().getSubstanceClinicalTrials(n)}),t.qZA(),t.qZA()}if(2&e){var r=t.oxw();t.xp6(6),t.Q6J("ngIf",r.isAdmin),t.xp6(2),t.Q6J("ngIf",r.showSpinner),t.xp6(1),t.Q6J("dataSource",r.paged),t.xp6(19),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("length",r.totalRecords)("pageSize",5)("pageSizeOptions",t.DdM(8,Ft))}}var zt=function(){var e=function(a){(0,x.Z)(r,a);var i=(0,T.Z)(r);function r(c,n,o,u,p,m,l){var s;return(0,S.Z)(this,r),(s=i.call(this,c,n)).gaService=c,s.clinicalTrialService=n,s.configService=o,s.authService=u,s.loadingService=p,s.router=m,s.dialog=l,s.clinicalTrialCount=0,s.showSpinner=!1,s.subscriptions=[],s.privateExport=!1,s.disableExport=!1,s.etag="",s.etagAllExport="",s.loadingStatus="",s.sortValues=F,s.order="$root_trialNumber",s.ascDescDir="desc",s.countClinicalTrialOut=new t.vpe,s.displayedColumns=["edit","trialNumber","title","sponsor","conditions","outcomemeasures"],s}return(0,C.Z)(r,[{key:"ngOnInit",value:function(){var n=this;this.loadedComponents=this.configService.configData.loadedComponents||null,this.authService.hasAnyRolesAsync("Admin","Updater","SuperUpdater").pipe((0,k.q)(1)).subscribe(function(o){n.isAdmin=o}),this.substanceUuid&&this.getSubstanceClinicalTrials(null,"initial")}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(n){n.unsubscribe()})}},{key:"getSubstanceClinicalTrials",value:function(n,o){var u=this;this.setPageEvent(n);var p=this.page*this.pageSize;this.showSpinner=!0;var m=this.clinicalTrialService.getClinicalTrials({searchTerm:this.substanceUuid,cutoff:null,type:"substanceKey",order:this.order,pageSize:this.pageSize,facets:this.privateFacetParams,skip:p}).subscribe(function(l){o&&"initial"===o&&(u.etagAllExport=l.etag),u.clinicalTrialService.totalRecords=l.total,u.setResultData(l.content),u.clinicalTrialCount=l.total,u.etag=l.etag,u.countClinicalTrialOut.emit(u.clinicalTrialCount),u.showSpinner=!1});this.subscriptions.push(m)}},{key:"export",value:function(){var n=this;if(this.etagAllExport){var o="ctus.xlsx",u=this.getApiExportUrl(this.etagAllExport,o);""!==this.authService.getUser()&&this.dialog.open(w.L,{width:"700px",data:{extension:o,type:"substanceClinicalTrialUS",entity:"clinicaltrialsus",hideOptionButtons:!0}}).afterClosed().subscribe(function(m){var l=m.name,s=m.id;l&&""!==l&&(n.loadingService.setLoading(!0),n.authService.startUserDownload(u,n.privateExport,l+"."+o,s).subscribe(function(v){n.loadingService.setLoading(!1),n.router.navigate(["/user-downloads/",v.id])},function(v){return n.loadingService.setLoading(!1)}))})}}},{key:"getApiExportUrl",value:function(n,o){return this.clinicalTrialService.getApiExportUrl(n,o)}},{key:"clinicalTrialListExportUrl",value:function(){null!=this.substanceUuid&&(this.exportUrl=this.clinicalTrialService.getClinicalTrialListExportUrl(this.substanceUuid))}},{key:"sortData",value:function(n){var o=this;if(n.active){var u=this.displayedColumns.indexOf(n.active).toString();this.ascDescDir=n.direction,this.sortValues.forEach(function(p){p.displayedColumns&&p.direction&&o.displayedColumns[u]===p.displayedColumns&&o.ascDescDir===p.direction&&(o.order=p.value)}),this.getSubstanceClinicalTrials()}}}]),r}(P);return e.\u0275fac=function(i){return new(i||e)(t.Y36(N.$),t.Y36(R.m),t.Y36(M.E),t.Y36(O.e),t.Y36(q.b),t.Y36(h.F0),t.Y36(Y.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-substance-clinical-trials"]],inputs:{substanceUuid:"substanceUuid"},outputs:{countClinicalTrialOut:"countClinicalTrialOut"},features:[t.qOj],decls:2,vars:2,consts:[["class","padtop5px padleft25px font15px colorblue",4,"ngIf"],[4,"ngIf"],[1,"padtop5px","padleft25px","font15px","colorblue"],["class","export",4,"ngIf"],[1,"responsive","mat-table-style"],["class","spinnerstyle",4,"ngIf"],["mat-table","","matSort","","matSortActive","nctNumber","matSortDirection","desc","matSortDisableClear","",3,"dataSource","matSortChange"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","trialNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","title"],["matColumnDef","sponsor"],["matColumnDef","conditions"],["matColumnDef","outcomemeasures"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","true",3,"length","pageSize","pageSizeOptions","page"],[1,"export"],["matTooltip","Export Search Results","mat-button","",1,"mat-button","export-button","mat-raised-button",3,"click"],["svgIcon","get_app"],[1,"spinnerstyle"],["diameter","80","color","warn","mode","indeterminate"],["mat-header-cell",""],["mat-cell",""],["target","_blank","title","Edit in new tab",1,"clinical-trials-browse-edit1",3,"href"],["svgIcon","edit",2,"width","20px","height","20px"],["mat-header-cell","","mat-sort-header",""],["target","_blank","title","see clinicaltrials.gov",3,"href"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(t.YNc(0,yt,3,0,"div",0),t.YNc(1,$t,31,9,"div",1)),2&i&&(t.Q6J("ngIf",!r.clinicalTrialCount),t.xp6(1),t.Q6J("ngIf",r.clinicalTrialCount&&r.clinicalTrialCount>0))},directives:[b.O5,A.lW,Z.Hw,y.Ou,d.BZ,g.YE,d.w1,d.fO,d.ge,d.Dz,d.ev,g.nU,d.as,d.XQ,d.nj,d.Gk,E.NW],styles:[".clinical-trials-browse-edit1[_ngcontent-%COMP%], .clinical-trials-browse-edit2[_ngcontent-%COMP%]{text-decoration:none}.clinical-trials-browse-edit1[_ngcontent-%COMP%], .clinical-trials-browse-edit2[_ngcontent-%COMP%]{padding-left:.5em;padding-right:.5em}.mat-table-style[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{vertical-align:top;font-size:12px}.font10px[_ngcontent-%COMP%]{font-size:10px}.font15px[_ngcontent-%COMP%]{font-size:15px}.colorgray[_ngcontent-%COMP%]{color:var(--regular-grey-color)}.padleft25px[_ngcontent-%COMP%]{padding-left:25px}.padtop5px[_ngcontent-%COMP%]{padding-top:5px}.colorblue[_ngcontent-%COMP%]{color:var(--deep-purple-color)}.colorred[_ngcontent-%COMP%]{color:var(--regular-red-color)}.btn1[_ngcontent-%COMP%]{color:var(--maroon-color);background-color:var(--light-yellow-color-3);border-radius:10px 0 0 10px;font-size:16px}.spinnerstyle[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:var(--spinner-bg-color);z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:top;align-items:top;-ms-flex-pack:center;justify-content:center}"]}),e}(),Bt=_(92938);function jt(e,a){1&e&&(t.TgZ(0,"div",2),t.TgZ(1,"b"),t._uU(2,"No Clinical Trial Europe Found"),t.qZA(),t.qZA())}function Ht(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"span",16),t.TgZ(1,"button",17),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).export()}),t._UZ(2,"mat-icon",18),t._uU(3," Export CTs "),t.qZA(),t.qZA()}}function Gt(e,a){1&e&&(t.TgZ(0,"div",19),t._UZ(1,"mat-progress-spinner",20),t.qZA())}function Wt(e,a){1&e&&(t.TgZ(0,"th",21),t._uU(1,"Eudract Number"),t.qZA())}function Kt(e,a){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"a",23),t._uU(2),t.qZA(),t.qZA()),2&e){var i=t.oxw().$implicit;t.xp6(1),t.s9C("href",i.url,t.LSH),t.xp6(1),t.Oqu(i.trialNumber)}}function Xt(e,a){if(1&e&&(t.TgZ(0,"td",22),t.YNc(1,Kt,3,2,"div",1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngIf",i.trialNumber)}}function Vt(e,a){1&e&&(t.TgZ(0,"th",21),t._uU(1," Title "),t.qZA())}function te(e,a){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.title," ")}}function ee(e,a){1&e&&(t.TgZ(0,"th",21),t._uU(1," Sponsor Name "),t.qZA())}function ne(e,a){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.sponsorName," ")}}function ae(e,a){1&e&&(t.TgZ(0,"th",21),t._uU(1,"Conditions"),t.qZA())}function ie(e,a){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){var i=a.$implicit,r=t.oxw(2);t.xp6(1),t.Oqu(r.joinMeddraTerms(i))}}function oe(e,a){1&e&&t._UZ(0,"tr",24)}function re(e,a){1&e&&t._UZ(0,"tr",25)}var se=function(){return[5,10,25,100]};function ce(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",2),t.TgZ(2,"b"),t._uU(3,"Clinical Trials Europe"),t.qZA(),t._uU(4," \xa0\xa0\xa0 "),t.qZA(),t.TgZ(5,"div"),t.YNc(6,Ht,4,0,"span",3),t.qZA(),t.TgZ(7,"div",4),t.YNc(8,Gt,2,0,"div",5),t.TgZ(9,"table",6),t.NdJ("matSortChange",function(n){return t.CHM(i),t.oxw().sortData(n)}),t.ynx(10,7),t.YNc(11,Wt,2,0,"th",8),t.YNc(12,Xt,2,1,"td",9),t.BQk(),t.ynx(13,10),t.YNc(14,Vt,2,0,"th",8),t.YNc(15,te,2,1,"td",9),t.BQk(),t.ynx(16,11),t.YNc(17,ee,2,0,"th",8),t.YNc(18,ne,2,1,"td",9),t.BQk(),t.ynx(19,12),t.YNc(20,ae,2,0,"th",8),t.YNc(21,ie,2,1,"td",9),t.BQk(),t.YNc(22,oe,1,0,"tr",13),t.YNc(23,re,1,0,"tr",14),t.qZA(),t.qZA(),t.TgZ(24,"mat-paginator",15),t.NdJ("page",function(n){return t.CHM(i),t.oxw().getSubstanceClinicalTrialsEurope(n)}),t.qZA(),t.qZA()}if(2&e){var r=t.oxw();t.xp6(6),t.Q6J("ngIf",r.isAdmin),t.xp6(2),t.Q6J("ngIf",r.showSpinner),t.xp6(1),t.Q6J("dataSource",r.paged),t.xp6(13),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("length",r.totalRecords)("pageSize",5)("pageSizeOptions",t.DdM(8,se))}}var ue=function(){var e=function(a){(0,x.Z)(r,a);var i=(0,T.Z)(r);function r(c,n,o,u,p,m,l){var s;return(0,S.Z)(this,r),(s=i.call(this,c,n)).gaService=c,s.clinicalTrialService=n,s.configService=o,s.authService=u,s.loadingService=p,s.router=m,s.dialog=l,s.clinicalTrialEuCount=0,s.showSpinner=!1,s.subscriptions=[],s.privateExport=!1,s.disableExport=!1,s.etag="",s.etagAllExport="",s.loadingStatus="",s.sortValues=F,s.order="$root_trialNumber",s.ascDescDir="desc",s.countClinicalTrialEuOut=new t.vpe,s.displayedColumns=["trialNumber","title","sponsorName","conditionsEU"],s}return(0,C.Z)(r,[{key:"ngOnInit",value:function(){var n=this;this.loadedComponents=this.configService.configData.loadedComponents||null,this.authService.hasAnyRolesAsync("Admin","Updater","SuperUpdater").pipe((0,k.q)(1)).subscribe(function(o){n.isAdmin=o}),this.substanceUuid&&this.getSubstanceClinicalTrialsEurope(null,"initial")}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(n){n.unsubscribe()})}},{key:"getSubstanceClinicalTrialsEurope",value:function(n,o){var u=this;this.setPageEvent(n),this.showSpinner=!0;var p=this.clinicalTrialService.getSubstanceClinicalTrialsEurope(this.substanceUuid,this.page,this.pageSize,this.order).subscribe(function(m){o&&"initial"===o&&(u.etagAllExport=m.etag),u.setResultData(m.content),u.clinicalTrialEuCount=m.total,u.countClinicalTrialEuOut.emit(u.clinicalTrialEuCount),u.showSpinner=!1});this.subscriptions.push(p)}},{key:"export",value:function(){var n=this;if(this.etagAllExport){var o="cteu.xlsx",u=this.getApiExportUrl(this.etagAllExport,o);""!==this.authService.getUser()&&this.dialog.open(w.L,{width:"700px",data:{extension:o,type:"substanceClinicalTrialEU",entity:"clinicaltrialseurope",hideOptionButtons:!0}}).afterClosed().subscribe(function(m){var l=m.name,s=m.id;l&&""!==l&&(n.loadingService.setLoading(!0),n.authService.startUserDownload(u,n.privateExport,l+"."+o,s).subscribe(function(v){n.loadingService.setLoading(!1),n.router.navigate(["/user-downloads/",v.id])},function(v){return n.loadingService.setLoading(!1)}))})}}},{key:"getApiExportUrl",value:function(n,o){return this.clinicalTrialService.getApiEuropeExportUrl(n,o)}},{key:"joinMeddraTerms",value:function(n){if(n)return Bt.map(n.clinicalTrialEuropeMeddraList,"meddraTerm").join("|")}},{key:"sortData",value:function(n){var o=this;if(n.active){var u=this.displayedColumns.indexOf(n.active).toString();this.ascDescDir=n.direction,this.sortValues.forEach(function(p){p.displayedColumns&&p.direction&&o.displayedColumns[u]===p.displayedColumns&&o.ascDescDir===p.direction&&(o.order=p.value)}),this.getSubstanceClinicalTrialsEurope()}}}]),r}(P);return e.\u0275fac=function(i){return new(i||e)(t.Y36(N.$),t.Y36(R.m),t.Y36(M.E),t.Y36(O.e),t.Y36(q.b),t.Y36(h.F0),t.Y36(Y.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-substance-clinical-trials-eu"]],inputs:{substanceUuid:"substanceUuid"},outputs:{countClinicalTrialEuOut:"countClinicalTrialEuOut"},features:[t.qOj],decls:2,vars:2,consts:[["class","padtop5px padleft25px font15px colorblue",4,"ngIf"],[4,"ngIf"],[1,"padtop5px","padleft25px","font15px","colorblue"],["class","export",4,"ngIf"],[1,"responsive","mat-table-style"],["class","spinnerstyle",4,"ngIf"],["mat-table","","matSort","","matSortActive","trialNumber","matSortDirection","desc","matSortDisableClear","",3,"dataSource","matSortChange"],["matColumnDef","trialNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","sponsorName"],["matColumnDef","conditionsEU"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","true",3,"length","pageSize","pageSizeOptions","page"],[1,"export"],["matTooltip","Export Search Results","mat-button","",1,"mat-button","export-button","mat-raised-button",3,"click"],["svgIcon","get_app"],[1,"spinnerstyle"],["diameter","80","color","warn","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"href"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(t.YNc(0,jt,3,0,"div",0),t.YNc(1,ce,25,9,"div",1)),2&i&&(t.Q6J("ngIf",!r.clinicalTrialEuCount),t.xp6(1),t.Q6J("ngIf",r.clinicalTrialEuCount&&r.clinicalTrialEuCount>0))},directives:[b.O5,A.lW,Z.Hw,y.Ou,d.BZ,g.YE,d.w1,d.fO,d.ge,g.nU,d.Dz,d.ev,d.as,d.XQ,d.nj,d.Gk,E.NW],styles:[".mat-column-trialNumber[_ngcontent-%COMP%]{word-wrap:break-word!important;white-space:unset!important;-ms-flex:0 0 20%!important;flex:0 0 20%!important;width:20%!important;white-space:nowrap}.mat-table-style[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{vertical-align:top;font-size:12px}.font10px[_ngcontent-%COMP%]{font-size:10px}.font15px[_ngcontent-%COMP%]{font-size:15px}.colorgray[_ngcontent-%COMP%]{color:var(--regular-grey-color)}.colorred[_ngcontent-%COMP%]{color:var(--regular-red-color)}.padleft25px[_ngcontent-%COMP%]{padding-left:25px}.padtop5px[_ngcontent-%COMP%]{padding-top:5px}.colorblue[_ngcontent-%COMP%]{color:var(--deep-purple-color)}.spinnerstyle[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:var(--spinner-bg-color);z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:top;align-items:top;-ms-flex-pack:center;justify-content:center}"]}),e}(),Q=_(43461),le=_(98969);function pe(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"span",20),t.TgZ(1,"button",21),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).export()}),t._UZ(2,"mat-icon",22),t._uU(3," Export "),t.qZA(),t.qZA()}}function de(e,a){if(1&e&&(t.TgZ(0,"div",18),t.YNc(1,pe,4,0,"span",19),t.qZA()),2&e){var i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.isAdmin&&i.adverseEventCount>0)}}function me(e,a){if(1&e&&(t.TgZ(0,"div",23),t.TgZ(1,"a",24),t.TgZ(2,"button",25),t.TgZ(3,"mat-icon"),t._uU(4,"analytics"),t.qZA(),t.TgZ(5,"span",26),t._uU(6,"Analysis by Substance"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){var i=t.oxw();t.xp6(1),t.s9C("href",i.adverseEventShinySubstanceNameURLWithParam,t.LSH)}}function _e(e,a){1&e&&(t.TgZ(0,"div",27),t._UZ(1,"mat-progress-spinner",28),t.qZA())}function ve(e,a){1&e&&(t.TgZ(0,"th",29),t._uU(1," PT Term "),t.qZA())}function fe(e,a){if(1&e&&(t.TgZ(0,"span",32),t.TgZ(1,"a",33),t.TgZ(2,"mat-icon"),t._uU(3,"analytics"),t.qZA(),t.qZA(),t.qZA()),2&e){var i=t.oxw().$implicit,r=t.oxw();t.xp6(1),t.hYB("href","",r.adverseEventShinyAdverseEventURLWithParam,"",r.getDecodeURL(i.ptTerm),"",t.LSH)}}function ge(e,a){if(1&e&&(t.TgZ(0,"td",30),t._uU(1),t.YNc(2,fe,4,2,"span",31),t.qZA()),2&e){var i=a.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",i.ptTerm," "),t.xp6(1),t.Q6J("ngIf",!0===r.adverseEventShinyAdverseEventDisplay)}}function be(e,a){1&e&&(t.TgZ(0,"th",29),t._uU(1," Prim SOC "),t.qZA())}function he(e,a){if(1&e&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.primSoc," ")}}function Ce(e,a){1&e&&(t.TgZ(0,"th",29),t._uU(1," Case Count "),t.qZA())}function Se(e,a){if(1&e&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.caseCount,"")}}function xe(e,a){1&e&&(t.TgZ(0,"th",29),t._uU(1," PT Count "),t.qZA())}function Te(e,a){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"a",36),t.ALo(2,"titlecase"),t.ALo(3,"titlecase"),t._UZ(4,"div",37),t.qZA(),t.TgZ(5,"span",38),t._uU(6,"FAERS Public Dashboard"),t.qZA(),t.qZA()),2&e){var i=t.oxw().$implicit,r=t.oxw();t.xp6(1),t.FAE("href","",r.FAERSDashboardAdverseEventUrl,"",r.getDecodeURL(t.lcZ(2,5,i.ptTerm)),"",r.FAERSDashboardReactionGroup,"",r.getDecodeURL(t.lcZ(3,7,i.primSoc)),"",t.LSH),t.xp6(3),t.Q6J("innerHTML",i.ptCount,t.oJD)}}function Ae(e,a){if(1&e&&t._UZ(0,"div",37),2&e){var i=t.oxw().$implicit;t.Q6J("innerHTML",i.ptCount,t.oJD)}}function Ze(e,a){if(1&e&&(t.TgZ(0,"td",30),t.YNc(1,Te,7,9,"div",34),t.YNc(2,Ae,1,1,"ng-template",null,35,t.W1O),t.qZA()),2&e){var i=t.MAs(3),r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.FAERSDashboardAdverseEventUrl)("ngIfElse",i)}}function ye(e,a){1&e&&(t.TgZ(0,"th",29),t._uU(1," PRR "),t.qZA())}function Ee(e,a){if(1&e&&(t.TgZ(0,"td",30),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,i.prr,".2-2")," ")}}function De(e,a){1&e&&t._UZ(0,"tr",39)}function Ue(e,a){1&e&&t._UZ(0,"tr",40)}var Ne=function(){return[5,10,25,100]},Pe=function(){var e=function(a){(0,x.Z)(r,a);var i=(0,T.Z)(r);function r(c,n,o,u,p,m,l){var s;return(0,S.Z)(this,r),(s=i.call(this,n,o)).router=c,s.gaService=n,s.adverseEventService=o,s.loadingService=u,s.configService=p,s.authService=m,s.dialog=l,s.countAdvPtOut=new t.vpe,s.adverseEventCount=0,s.order="$root_ptCount",s.ascDescDir="desc",s.showSpinner=!1,s.sortValues=le.g,s.privateExport=!1,s.disableExport=!1,s.etag="",s.loadingStatus="",s.subscriptions=[],s.adverseEventShinySubstanceNameDisplay=!1,s.adverseEventShinyAdverseEventDisplay=!1,s.FAERSDashboardSearchTerm="/select/Search%20Term/",s.FAERSDashboardReactionTerm="/select/Reaction%20Term/",s.FAERSDashboardReactionGroup="/select/Reaction%20Group/",s.displayedColumns=["ptTerm","primSoc","caseCount","ptCount","prr"],s}return(0,C.Z)(r,[{key:"ngOnInit",value:function(){var n=this,o=this.authService.hasAnyRolesAsync("Admin","Updater","SuperUpdater").subscribe(function(u){n.isAdmin=u});this.subscriptions.push(o),this.bdnum&&(this.getAdverseEventPt(),this.getFaersDashboardUrl(),this.getFaersDashboardRecordByName(),this.adverseEventPtListExportUrl(),this.getAdverseEventShinyConfig())}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(n){n.unsubscribe()})}},{key:"getAdverseEventPt",value:function(n){var o=this;this.setPageEvent(n),this.showSpinner=!0;var m=this.adverseEventService.getAdverseEventPt(this.order,this.page*this.pageSize,this.pageSize,"root_substanceKey:"+this.bdnum,this.privateFacetParams).subscribe(function(l){o.adverseEventService.totalRecords=l.total,o.adverseEventCount=l.total,o.setResultData(l.content),o.etag=l.etag,o.countAdvPtOut.emit(o.adverseEventCount)},function(l){o.showSpinner=!1,console.log("error")},function(){o.showSpinner=!1,m.unsubscribe()});this.loadingStatus=""}},{key:"adverseEventPtListExportUrl",value:function(){null!=this.bdnum&&(this.exportUrl=this.adverseEventService.getAdverseEventPtListExportUrl(this.bdnum))}},{key:"sortData",value:function(n){var o=this;if(n.active){var u=this.displayedColumns.indexOf(n.active).toString();this.ascDescDir=n.direction,this.sortValues.forEach(function(p){p.displayedColumns&&p.direction&&o.displayedColumns[u]===p.displayedColumns&&o.ascDescDir===p.direction&&(o.order=p.value)}),this.getAdverseEventPt()}}},{key:"export",value:function(){var n=this;if(this.etag){var o="xlsx",u=this.getApiExportUrl(this.etag,o);""!==this.authService.getUser()&&this.dialog.open(w.L,{width:"700px",data:{extension:o,type:"substanceAdverseEventPt",entity:"adverseeventpt",hideOptionButtons:!0}}).afterClosed().subscribe(function(m){var l=m.name,s=m.id;l&&""!==l&&(n.loadingService.setLoading(!0),n.authService.startUserDownload(u,n.privateExport,l+"."+o,s).subscribe(function(v){n.loadingService.setLoading(!1),n.router.navigate(["/user-downloads/",v.id])},function(v){return n.loadingService.setLoading(!1)}))})}}},{key:"getApiExportUrl",value:function(n,o){return this.adverseEventService.getApiExportUrlPt(n,o)}},{key:"getFaersDashboardRecordByName",value:function(){var n=this,o=this.adverseEventService.getFaersDashboardRecordByName(this.substanceName).subscribe(function(u){u&&u.name&&(n.FAERSDashboardSubstanceName=u.name,n.FAERSDashboardAdverseEventUrl=n.FAERSDashboardAdverseEventUrl+u.name+n.FAERSDashboardReactionTerm)});this.subscriptions.push(o)}},{key:"getFaersDashboardUrl",value:function(){this.configService.configData&&this.configService.configData.FAERSDashboardAdverseEventUrl&&null!==this.configService.configData.FAERSDashboardAdverseEventUrl&&(this.FAERSDashboardAdverseEventUrl=this.configService.configData.FAERSDashboardAdverseEventUrl+this.FAERSDashboardSearchTerm)}},{key:"getAdverseEventShinyConfig",value:function(){this.configService.configData&&(this.configService.configData.adverseEventShinySubstanceNameDisplay&&null!==this.configService.configData.adverseEventShinySubstanceNameDisplay&&(this.adverseEventShinySubstanceNameDisplay=JSON.parse(this.configService.configData.adverseEventShinySubstanceNameDisplay)),this.configService.configData.adverseEventShinySubstanceNameURL&&null!==this.configService.configData.adverseEventShinySubstanceNameURL&&(this.adverseEventShinySubstanceNameURL=this.configService.configData.adverseEventShinySubstanceNameURL,this.adverseEventShinySubstanceNameURLWithParam=this.adverseEventShinySubstanceNameURL+decodeURIComponent(this.substanceName)),this.configService.configData.adverseEventShinyAdverseEventDisplay&&null!==this.configService.configData.adverseEventShinyAdverseEventDisplay&&(this.adverseEventShinyAdverseEventDisplay=JSON.parse(this.configService.configData.adverseEventShinyAdverseEventDisplay)),this.configService.configData.adverseEventShinyAdverseEventURL&&null!==this.configService.configData.adverseEventShinyAdverseEventURL&&(this.adverseEventShinyAdverseEventURL=this.configService.configData.adverseEventShinyAdverseEventURL,this.adverseEventShinyAdverseEventURLWithParam=this.adverseEventShinyAdverseEventURL))}},{key:"getDecodeURL",value:function(n){var o="";return null!==n&&(o=decodeURIComponent(n)),o}}]),r}(P);return e.\u0275fac=function(i){return new(i||e)(t.Y36(h.F0),t.Y36(N.$),t.Y36(Q.a),t.Y36(q.b),t.Y36(M.E),t.Y36(O.e),t.Y36(Y.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-substance-adverseeventpt"]],inputs:{bdnum:"bdnum",substanceName:"substanceName"},outputs:{countAdvPtOut:"countAdvPtOut"},features:[t.qOj],decls:28,vars:10,consts:[[1,"padtop5px","padleft25px","font15px","colorblue"],[1,"divflex"],[1,"padtop10px"],["class","marginleft50px padleft25px padtopneg50px width120px",4,"ngIf"],["class","marginleft50px padleft25px width200px",4,"ngIf"],[1,"responsive","mat-table-style"],["class","spinnerstyle",4,"ngIf"],["mat-table","","matSort","","matSortActive","ptCount","matSortDirection","desc","matSortDisableClear","",3,"dataSource","matSortChange"],["matColumnDef","ptTerm"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","primSoc"],["matColumnDef","caseCount"],["matColumnDef","ptCount"],["matColumnDef","prr"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","true",3,"length","pageSize","pageSizeOptions","page"],[1,"marginleft50px","padleft25px","padtopneg50px","width120px"],["class","export",4,"ngIf"],[1,"export"],["matTooltip","Export Search Results","mat-button","",1,"mat-button","export-button","mat-raised-button",3,"click"],["svgIcon","get_app"],[1,"marginleft50px","padleft25px","width200px"],["target","_blank",3,"href"],["mat-icon-button","","color","accent","aria-label","Analysis by Substance Name on Shiny Server"],[1,"colororange"],[1,"spinnerstyle"],["diameter","80","color","warn","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","",4,"ngIf"],[1,""],["target","_blank","title","Analysis by Adverse Event/PT Term on Shiny Server",3,"href"],[4,"ngIf","ngIfElse"],["noFaersLink",""],["target","_blank","title","FAERS Public Dashboard",3,"href"],[3,"innerHTML"],[1,"colorgray","font10px"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"b"),t._uU(4,"Adverse Event PT"),t.qZA(),t.qZA(),t.YNc(5,de,2,1,"div",3),t.YNc(6,me,7,1,"div",4),t.qZA(),t.TgZ(7,"div",5),t.YNc(8,_e,2,0,"div",6),t.TgZ(9,"table",7),t.NdJ("matSortChange",function(n){return r.sortData(n)}),t.ynx(10,8),t.YNc(11,ve,2,0,"th",9),t.YNc(12,ge,3,2,"td",10),t.BQk(),t.ynx(13,11),t.YNc(14,be,2,0,"th",9),t.YNc(15,he,2,1,"td",10),t.BQk(),t.ynx(16,12),t.YNc(17,Ce,2,0,"th",9),t.YNc(18,Se,2,1,"td",10),t.BQk(),t.ynx(19,13),t.YNc(20,xe,2,0,"th",9),t.YNc(21,Ze,4,2,"td",10),t.BQk(),t.ynx(22,14),t.YNc(23,ye,2,0,"th",9),t.YNc(24,Ee,3,4,"td",10),t.BQk(),t.YNc(25,De,1,0,"tr",15),t.YNc(26,Ue,1,0,"tr",16),t.qZA(),t.qZA(),t.TgZ(27,"mat-paginator",17),t.NdJ("page",function(n){return r.getAdverseEventPt(n)}),t.qZA(),t.qZA()),2&i&&(t.xp6(5),t.Q6J("ngIf",r.totalRecords>0),t.xp6(1),t.Q6J("ngIf",!0===r.adverseEventShinySubstanceNameDisplay),t.xp6(2),t.Q6J("ngIf",r.showSpinner),t.xp6(1),t.Q6J("dataSource",r.paged),t.xp6(16),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("length",r.totalRecords)("pageSize",5)("pageSizeOptions",t.DdM(9,Ne)))},directives:[b.O5,A.lW,Z.Hw,y.Ou,d.BZ,g.YE,d.w1,d.fO,d.ge,g.nU,d.Dz,d.ev,d.as,d.XQ,d.nj,d.Gk,E.NW],pipes:[b.rS,b.JJ],styles:[".mat-table-style[_ngcontent-%COMP%]{position:relative}.mat-table-style[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{vertical-align:top;font-size:12px}.divflex[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.font8px[_ngcontent-%COMP%]{font-size:8px}.font10px[_ngcontent-%COMP%]{font-size:10px}.font15px[_ngcontent-%COMP%]{font-size:15px}.margintop10px[_ngcontent-%COMP%]{margin-top:10px}.margintop90px[_ngcontent-%COMP%]{margin-top:90px}marginleft50px[_ngcontent-%COMP%]{margin-left:50px}.padleft25px[_ngcontent-%COMP%]{padding-left:25px}.padtop5px[_ngcontent-%COMP%]{padding-top:5px}.padtop10px[_ngcontent-%COMP%]{padding-top:10px}.padtopneg50px[_ngcontent-%COMP%]{padding-top:-50px}.colorblue[_ngcontent-%COMP%]{color:var(--deep-purple-color)}.colorgray[_ngcontent-%COMP%]{color:var(--regular-grey-color)}.colorred[_ngcontent-%COMP%]{color:var(--regular-red-color)}.colororange[_ngcontent-%COMP%]{color:var(--orange-color-rgb-2)}.bordergray[_ngcontent-%COMP%]{border:1px solid var(--regular-grey-color)}.width120px[_ngcontent-%COMP%]{width:120px;display:block}.width200px[_ngcontent-%COMP%]{width:200px;display:block}.spinnerstyle[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:var(--spinner-bg-color);z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:top;align-items:top;-ms-flex-pack:center;justify-content:center}"]}),e}(),Oe=_(52395);function we(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"span",16),t.TgZ(1,"button",17),t.NdJ("click",function(){return t.CHM(i),t.oxw().export()}),t._UZ(2,"mat-icon",18),t._uU(3," Export "),t.qZA(),t.qZA()}}function qe(e,a){1&e&&(t.TgZ(0,"div",19),t._UZ(1,"mat-progress-spinner",20),t.qZA())}function Ye(e,a){1&e&&(t.TgZ(0,"th",21),t._uU(1," DME Reactions "),t.qZA())}function Ie(e,a){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.dmeReactions," ")}}function Me(e,a){1&e&&(t.TgZ(0,"th",21),t._uU(1," PT Term Meddra "),t.qZA())}function ke(e,a){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.ptTermMeddra," ")}}function Qe(e,a){1&e&&(t.TgZ(0,"th",21),t._uU(1," Case Count "),t.qZA())}function Le(e,a){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.caseCount," ")}}function Je(e,a){1&e&&(t.TgZ(0,"th",21),t._uU(1," Dme Count "),t.qZA())}function Re(e,a){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.dmeCount," ")}}function Fe(e,a){1&e&&(t.TgZ(0,"th",21),t._uU(1," Dme Count Percent "),t.qZA())}function $e(e,a){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.dmeCountPercent," ")}}function ze(e,a){1&e&&(t.TgZ(0,"th",21),t._uU(1," Weighted Average PRR"),t.qZA())}function Be(e,a){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,i.weightedAvgPrr,".2-2")," ")}}function je(e,a){1&e&&t._UZ(0,"tr",23)}function He(e,a){1&e&&t._UZ(0,"tr",24)}var Ge=function(){return[5,10,25,100]},We=function(){var e=function(a){(0,x.Z)(r,a);var i=(0,T.Z)(r);function r(c,n,o,u,p,m){var l;return(0,S.Z)(this,r),(l=i.call(this,n,o)).router=c,l.gaService=n,l.adverseEventService=o,l.authService=u,l.loadingService=p,l.dialog=m,l.countAdvDmeOut=new t.vpe,l.adverseEventCount=0,l.order="$root_dmeCount",l.ascDescDir="desc",l.showSpinner=!1,l.privateExport=!1,l.disableExport=!1,l.etag="",l.loadingStatus="",l.sortValues=Oe.O,l.subscriptions=[],l.displayedColumns=["dmeReactions","ptTermMeddra","caseCount","dmeCount","dmeCountPercent","weightedAvgPrr"],l}return(0,C.Z)(r,[{key:"ngOnInit",value:function(){var n=this,o=this.authService.hasAnyRolesAsync("Admin","Updater","SuperUpdater").subscribe(function(u){n.isAdmin=u});this.subscriptions.push(o),this.bdnum&&(this.getAdverseEventDme(),this.adverseEventDmeListExportUrl())}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(n){n.unsubscribe()})}},{key:"getAdverseEventDme",value:function(n){var o=this;this.setPageEvent(n),this.showSpinner=!0;var m=this.adverseEventService.getAdverseEventDme(this.order,this.page*this.pageSize,this.pageSize,"root_substanceKey:"+this.bdnum,this.privateFacetParams).subscribe(function(l){o.adverseEventService.totalRecords=l.total,o.adverseEventCount=l.total,o.setResultData(l.content),o.etag=l.etag,o.countAdvDmeOut.emit(o.adverseEventCount)},function(l){o.showSpinner=!1,console.log("error")},function(){o.showSpinner=!1,m.unsubscribe()});this.loadingStatus=""}},{key:"sortData",value:function(n){var o=this;if(n.active){var u=this.displayedColumns.indexOf(n.active).toString();this.ascDescDir=n.direction,this.sortValues.forEach(function(p){p.displayedColumns&&p.direction&&o.displayedColumns[u]===p.displayedColumns&&o.ascDescDir===p.direction&&(o.order=p.value)}),this.getAdverseEventDme()}}},{key:"export",value:function(){var n=this;if(this.etag){var o="xlsx",u=this.getApiExportUrl(this.etag,o);""!==this.authService.getUser()&&this.dialog.open(w.L,{width:"700px",data:{extension:o,type:"substanceAdverseEventDme",entity:"adverseeventdme",hideOptionButtons:!0}}).afterClosed().subscribe(function(m){var l=m.name,s=m.id;l&&""!==l&&(n.loadingService.setLoading(!0),n.authService.startUserDownload(u,n.privateExport,l+"."+o,s).subscribe(function(v){n.loadingService.setLoading(!1),n.router.navigate(["/user-downloads/",v.id])},function(v){return n.loadingService.setLoading(!1)}))})}}},{key:"getApiExportUrl",value:function(n,o){return this.adverseEventService.getApiExportUrlDme(n,o)}},{key:"adverseEventDmeListExportUrl",value:function(){null!=this.bdnum&&(this.exportUrl=this.adverseEventService.getAdverseEventDmeListExportUrl(this.bdnum))}}]),r}(P);return e.\u0275fac=function(i){return new(i||e)(t.Y36(h.F0),t.Y36(N.$),t.Y36(Q.a),t.Y36(O.e),t.Y36(q.b),t.Y36(Y.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-substance-adverseeventdme"]],inputs:{bdnum:"bdnum"},outputs:{countAdvDmeOut:"countAdvDmeOut"},features:[t.qOj],decls:29,vars:9,consts:[[1,"padtop5px","padleft25px","font15px","colorblue"],["class","export",4,"ngIf"],[1,"responsive","mat-table-style"],["class","spinnerstyle",4,"ngIf"],["mat-table","","matSort","","matSortActive","dmeCount","matSortDirection","desc","matSortDisableClear","",3,"dataSource","matSortChange"],["matColumnDef","dmeReactions"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","ptTermMeddra"],["matColumnDef","caseCount"],["matColumnDef","dmeCount"],["matColumnDef","dmeCountPercent"],["matColumnDef","weightedAvgPrr"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","true",3,"length","pageSize","pageSizeOptions","page"],[1,"export"],["matTooltip","Export Search Results","mat-button","",1,"mat-button","export-button","mat-raised-button",3,"click"],["svgIcon","get_app"],[1,"spinnerstyle"],["diameter","80","color","warn","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"b"),t._uU(2,"Adverse Event DME"),t.qZA(),t._uU(3," \xa0\xa0\xa0 "),t.YNc(4,we,4,0,"span",1),t.qZA(),t.TgZ(5,"div",2),t.YNc(6,qe,2,0,"div",3),t.TgZ(7,"table",4),t.NdJ("matSortChange",function(n){return r.sortData(n)}),t.ynx(8,5),t.YNc(9,Ye,2,0,"th",6),t.YNc(10,Ie,2,1,"td",7),t.BQk(),t.ynx(11,8),t.YNc(12,Me,2,0,"th",6),t.YNc(13,ke,2,1,"td",7),t.BQk(),t.ynx(14,9),t.YNc(15,Qe,2,0,"th",6),t.YNc(16,Le,2,1,"td",7),t.BQk(),t.ynx(17,10),t.YNc(18,Je,2,0,"th",6),t.YNc(19,Re,2,1,"td",7),t.BQk(),t.ynx(20,11),t.YNc(21,Fe,2,0,"th",6),t.YNc(22,$e,2,1,"td",7),t.BQk(),t.ynx(23,12),t.YNc(24,ze,2,0,"th",6),t.YNc(25,Be,3,4,"td",7),t.BQk(),t.YNc(26,je,1,0,"tr",13),t.YNc(27,He,1,0,"tr",14),t.qZA(),t.qZA(),t.TgZ(28,"mat-paginator",15),t.NdJ("page",function(n){return r.getAdverseEventDme(n)}),t.qZA()),2&i&&(t.xp6(4),t.Q6J("ngIf",r.isAdmin&&r.adverseEventCount>0),t.xp6(2),t.Q6J("ngIf",r.showSpinner),t.xp6(1),t.Q6J("dataSource",r.paged),t.xp6(19),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("length",r.totalRecords)("pageSize",5)("pageSizeOptions",t.DdM(8,Ge)))},directives:[b.O5,A.lW,Z.Hw,y.Ou,d.BZ,g.YE,d.w1,d.fO,d.ge,g.nU,d.Dz,d.ev,d.as,d.XQ,d.nj,d.Gk,E.NW],pipes:[b.JJ],styles:[".mat-table-style[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{vertical-align:top;font-size:12px}.font15px[_ngcontent-%COMP%]{font-size:15px}.padleft25px[_ngcontent-%COMP%]{padding-left:25px}.padtop5px[_ngcontent-%COMP%]{padding-top:5px}.colorpurple[_ngcontent-%COMP%]{color:var(--deep-purple-color)}.colorgray[_ngcontent-%COMP%]{color:var(--regular-grey-color)}.spinnerstyle[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:var(--spinner-bg-color);z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:top;align-items:top;-ms-flex-pack:center;justify-content:center}"]}),e}(),Ke=_(34009);function Xe(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"span",14),t.TgZ(1,"button",15),t.NdJ("click",function(){return t.CHM(i),t.oxw().export()}),t._UZ(2,"mat-icon",16),t._uU(3," Export "),t.qZA(),t.qZA()}}function Ve(e,a){1&e&&(t.TgZ(0,"div",17),t._UZ(1,"mat-progress-spinner",18),t.qZA())}function tn(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1," Adverse Event "),t.qZA())}function en(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.adverseEvent," ")}}function nn(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1," Species "),t.qZA())}function an(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.species," ")}}function on(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1," Adverse Event Count "),t.qZA())}function rn(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.aeCount," ")}}function sn(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1," Route of Administration "),t.qZA())}function cn(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.routeOfAdmin," ")}}function un(e,a){1&e&&t._UZ(0,"tr",21)}function ln(e,a){1&e&&t._UZ(0,"tr",22)}var pn=function(){return[5,10,25,100]},dn=function(){var e=function(a){(0,x.Z)(r,a);var i=(0,T.Z)(r);function r(c,n,o,u,p,m){var l;return(0,S.Z)(this,r),(l=i.call(this,n,o)).router=c,l.gaService=n,l.adverseEventService=o,l.authService=u,l.loadingService=p,l.dialog=m,l.countAdvCvmOut=new t.vpe,l.adverseEventCount=0,l.order="$root_aeCount",l.ascDescDir="desc",l.showSpinner=!1,l.privateExport=!1,l.disableExport=!1,l.etag="",l.loadingStatus="",l.sortValues=Ke.l,l.subscriptions=[],l.displayedColumns=["adverseEvent","species","adverseEventCount","routeOfAdmin"],l}return(0,C.Z)(r,[{key:"ngOnInit",value:function(){var n=this,o=this.authService.hasAnyRolesAsync("Admin","Updater","SuperUpdater").subscribe(function(u){n.isAdmin=u});this.subscriptions.push(o),this.bdnum&&(this.getAdverseEventCvm(),this.adverseEventCvmListExportUrl())}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(n){n.unsubscribe()})}},{key:"getAdverseEventCvm",value:function(n){var o=this;this.setPageEvent(n),this.showSpinner=!0;var m=this.adverseEventService.getAdverseEventCvm(this.order,this.page*this.pageSize,this.pageSize,"root_substanceKey:"+this.bdnum,this.privateFacetParams).subscribe(function(l){o.adverseEventService.totalRecords=l.total,o.adverseEventCount=l.total,o.setResultData(l.content),o.etag=l.etag,o.countAdvCvmOut.emit(o.adverseEventCount)},function(l){o.showSpinner=!1,console.log("error")},function(){o.showSpinner=!1,m.unsubscribe()});this.loadingStatus=""}},{key:"sortData",value:function(n){var o=this;if(n.active){var u=this.displayedColumns.indexOf(n.active).toString();this.ascDescDir=n.direction,this.sortValues.forEach(function(p){p.displayedColumns&&p.direction&&o.displayedColumns[u]===p.displayedColumns&&o.ascDescDir===p.direction&&(o.order=p.value)}),this.getAdverseEventCvm()}}},{key:"export",value:function(){var n=this;if(this.etag){var o="xlsx",u=this.getApiExportUrl(this.etag,o);""!==this.authService.getUser()&&this.dialog.open(w.L,{width:"700px",data:{extension:o,type:"substanceAdverseEventCvm",entity:"adverseeventcvm",hideOptionButtons:!0}}).afterClosed().subscribe(function(m){var l=m.name,s=m.id;l&&""!==l&&(n.loadingService.setLoading(!0),n.authService.startUserDownload(u,n.privateExport,l+"."+o,s).subscribe(function(v){n.loadingService.setLoading(!1),n.router.navigate(["/user-downloads/",v.id])},function(v){return n.loadingService.setLoading(!1)}))})}}},{key:"getApiExportUrl",value:function(n,o){return this.adverseEventService.getApiExportUrlCvm(n,o)}},{key:"adverseEventCvmListExportUrl",value:function(){null!=this.bdnum&&(this.exportUrl=this.adverseEventService.getAdverseEventCvmListExportUrl(this.bdnum))}}]),r}(P);return e.\u0275fac=function(i){return new(i||e)(t.Y36(h.F0),t.Y36(N.$),t.Y36(Q.a),t.Y36(O.e),t.Y36(q.b),t.Y36(Y.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-substance-adverseeventcvm"]],inputs:{bdnum:"bdnum"},outputs:{countAdvCvmOut:"countAdvCvmOut"},features:[t.qOj],decls:23,vars:9,consts:[[1,"padtop5px","padleft25px","font15px","colorblue"],["class","export",4,"ngIf"],[1,"responsive","mat-table-style"],["class","spinnerstyle",4,"ngIf"],["mat-table","","matSort","","matSortActive","adverseEventCount","matSortDirection","desc","matSortDisableClear","",3,"dataSource","matSortChange"],["matColumnDef","adverseEvent"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","species"],["matColumnDef","adverseEventCount"],["matColumnDef","routeOfAdmin"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","true",3,"length","pageSize","pageSizeOptions","page"],[1,"export"],["matTooltip","Export Search Results","mat-button","",1,"mat-button","export-button","mat-raised-button",3,"click"],["svgIcon","get_app"],[1,"spinnerstyle"],["diameter","80","color","warn","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"b"),t._uU(2,"Adverse Event CVM"),t.qZA(),t._uU(3," \xa0\xa0\xa0 "),t.YNc(4,Xe,4,0,"span",1),t.qZA(),t.TgZ(5,"div",2),t.YNc(6,Ve,2,0,"div",3),t.TgZ(7,"table",4),t.NdJ("matSortChange",function(n){return r.sortData(n)}),t.ynx(8,5),t.YNc(9,tn,2,0,"th",6),t.YNc(10,en,2,1,"td",7),t.BQk(),t.ynx(11,8),t.YNc(12,nn,2,0,"th",6),t.YNc(13,an,2,1,"td",7),t.BQk(),t.ynx(14,9),t.YNc(15,on,2,0,"th",6),t.YNc(16,rn,2,1,"td",7),t.BQk(),t.ynx(17,10),t.YNc(18,sn,2,0,"th",6),t.YNc(19,cn,2,1,"td",7),t.BQk(),t.YNc(20,un,1,0,"tr",11),t.YNc(21,ln,1,0,"tr",12),t.qZA(),t.qZA(),t.TgZ(22,"mat-paginator",13),t.NdJ("page",function(n){return r.getAdverseEventCvm(n)}),t.qZA()),2&i&&(t.xp6(4),t.Q6J("ngIf",r.isAdmin&&r.adverseEventCount>0),t.xp6(2),t.Q6J("ngIf",r.showSpinner),t.xp6(1),t.Q6J("dataSource",r.paged),t.xp6(13),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("length",r.totalRecords)("pageSize",5)("pageSizeOptions",t.DdM(8,pn)))},directives:[b.O5,A.lW,Z.Hw,y.Ou,d.BZ,g.YE,d.w1,d.fO,d.ge,g.nU,d.Dz,d.ev,d.as,d.XQ,d.nj,d.Gk,E.NW],styles:[".mat-table-style[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{vertical-align:top;font-size:12px}.font15px[_ngcontent-%COMP%]{font-size:15px}.padleft25px[_ngcontent-%COMP%]{padding-left:25px}.padtop5px[_ngcontent-%COMP%]{padding-top:5px}.colorpurple[_ngcontent-%COMP%]{color:var(--deep-purple-color)}.colorgray[_ngcontent-%COMP%]{color:var(--regular-grey-color)}.spinnerstyle[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:var(--spinner-bg-color);z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:top;align-items:top;-ms-flex-pack:center;justify-content:center}"]}),e}(),mn=_(91781),_n=(_(52489),[{value:"default",display:"Relevance"},{value:"^root_productSubstanceName",display:"Source Type, Ascending",displayedColumns:"productSubstanceName",direction:"asc"},{value:"$root_productSubstanceName",display:"Source Type, Descending",displayedColumns:"productSubstanceName",direction:"desc"},{value:"^root_sourceType",display:"Source Type, Ascending",displayedColumns:"sourceType",direction:"asc"},{value:"$root_sourceType",display:"Source Type, Descending",displayedColumns:"sourceType",direction:"desc"},{value:"^root_source",display:"Source, Ascending",displayedColumns:"source",direction:"asc"},{value:"$root_source",display:"Source, Descending",displayedColumns:"source",direction:"desc"},{value:"^root_sourceId",display:"Source ID, A-Z",displayedColumns:"sourceId",direction:"asc"},{value:"$root_sourceId",display:"Source ID, Z-A",displayedColumns:"sourceId",direction:"desc"},{value:"^root_type",display:"Type, A-Z",displayedColumns:"type",direction:"asc"},{value:"$root_type",display:"Type, Z-A",displayedColumns:"type",direction:"desc"},{value:"^root_specType",display:"Spec Type, A-Z",displayedColumns:"specType",direction:"asc"},{value:"$root_specType",display:"Spec Type, Z-A",displayedColumns:"specType",direction:"desc"}]);function vn(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"span",19),t.TgZ(1,"button",20),t.NdJ("click",function(){return t.CHM(i),t.oxw().export()}),t._UZ(2,"mat-icon",21),t._uU(3," Export "),t.qZA(),t.qZA()}}function fn(e,a){1&e&&(t.TgZ(0,"div",22),t._UZ(1,"mat-progress-spinner",23),t.qZA())}function gn(e,a){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Product/Substance Name"),t.qZA())}function bn(e,a){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&e){var i=t.oxw(2).$implicit;t.xp6(1),t.Oqu(i.productSubstanceName)}}function hn(e,a){1&e&&t._uU(0," View ")}var Cn=function(a){return["/impurities",a,"edit"]};function Sn(e,a){if(1&e&&(t.TgZ(0,"a",31),t._UZ(1,"mat-icon",32),t.qZA()),2&e){var i=t.oxw(2).$implicit;t.Q6J("routerLink",t.VKq(1,Cn,i.id))}}var xn=function(a){return["/impurities",a]};function Tn(e,a){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"a",27),t.YNc(2,bn,2,1,"div",28),t.YNc(3,hn,1,0,"ng-template",null,29,t.W1O),t.qZA(),t._uU(5," \xa0\xa0 "),t.YNc(6,Sn,2,3,"a",30),t.qZA()),2&e){var i=t.MAs(4),r=t.oxw().$implicit,c=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(4,xn,r.id)),t.xp6(1),t.Q6J("ngIf",r.productSubstanceName)("ngIfElse",i),t.xp6(4),t.Q6J("ngIf",c.isAdmin)}}function An(e,a){if(1&e&&(t.TgZ(0,"td",25),t.YNc(1,Tn,7,6,"div",26),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngIf",i.id)}}function Zn(e,a){1&e&&(t.TgZ(0,"th",24),t._uU(1," Source Type"),t.qZA())}function yn(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.sourceType," ")}}function En(e,a){1&e&&(t.TgZ(0,"th",24),t._uU(1," Source "),t.qZA())}function Dn(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.source," ")}}function Un(e,a){1&e&&(t.TgZ(0,"th",24),t._uU(1," Source ID"),t.qZA())}function Nn(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.sourceId," ")}}function Pn(e,a){1&e&&(t.TgZ(0,"th",24),t._uU(1," Type "),t.qZA())}function On(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.type," ")}}function wn(e,a){1&e&&(t.TgZ(0,"th",24),t._uU(1," Spec Type "),t.qZA())}function qn(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.specType," ")}}function Yn(e,a){1&e&&(t.TgZ(0,"th",33),t._uU(1," Parent Substance "),t.qZA())}var In=function(a){return["/substances",a]};function Mn(e,a){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"a",27),t.TgZ(2,"span",35),t._uU(3),t.qZA(),t.qZA(),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(2,In,i._parentSubstanceUuid)),t.xp6(2),t.Oqu(i._parentSubstanceName)}}function kn(e,a){if(1&e&&(t.TgZ(0,"td",25),t.YNc(1,Mn,4,4,"div",34),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngForOf",i.impuritiesSubstanceList)}}function Qn(e,a){1&e&&(t.TgZ(0,"th",33),t._uU(1," Impurities Related Substance"),t.qZA())}function Ln(e,a){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var i=t.oxw(2).$implicit;t.xp6(1),t.hij("\xa0\xa0\xa0\xa0",i.limitType,"\xa0")}}function Jn(e,a){if(1&e&&(t.TgZ(0,"span",40),t._UZ(1,"br"),t._uU(2),t.qZA()),2&e){var i=t.oxw(2).$implicit;t.xp6(2),t.hij("\xa0\xa0\xa0\xa0",i.impurityType," ")}}function Rn(e,a){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"span",38),t.YNc(2,Ln,2,1,"span",26),t._uU(3),t.qZA(),t.YNc(4,Jn,3,1,"span",39),t.qZA()),2&e){var i=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",i.limitType),t.xp6(1),t.AsE(" ",i.limitValue,"\xa0",i.unit," "),t.xp6(1),t.Q6J("ngIf",i.impurityType)}}function Fn(e,a){if(1&e&&(t.TgZ(0,"div",37),t.YNc(1,Rn,5,4,"div",26),t.qZA()),2&e){var i=a.$implicit,r=t.oxw(4);t.xp6(1),t.Q6J("ngIf",i.relatedSubstanceUuid===r.substanceUuid)}}function $n(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,Fn,2,1,"div",36),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngForOf",i.impuritiesDetailsList)}}function zn(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,$n,2,1,"div",34),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngForOf",i.impuritiesTestList)}}function Bn(e,a){if(1&e&&(t.TgZ(0,"td",25),t.YNc(1,zn,2,1,"div",34),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngForOf",i.impuritiesSubstanceList)}}function jn(e,a){1&e&&t._UZ(0,"tr",41)}function Hn(e,a){1&e&&t._UZ(0,"tr",42)}var Gn=function(){return[5,10,25,100]},Wn=function(){var e=function(a){(0,x.Z)(r,a);var i=(0,T.Z)(r);function r(c,n,o,u,p,m,l){var s;return(0,S.Z)(this,r),(s=i.call(this,n,o)).router=c,s.gaService=n,s.impuritiesService=o,s.generalService=u,s.authService=p,s.loadingService=m,s.dialog=l,s.countImpuritiesOut=new t.vpe,s.subscriptions=[],s.showSpinner=!1,s.totalImpurities=0,s.impuritiesCount=0,s.impuritiesTestTotal=0,s.pageIndex=0,s.pageSize=5,s.privateExport=!1,s.disableExport=!1,s.etag="",s.sortValues=_n,s.order="$root_productSubstanceName",s.ascDescDir="desc",s.displayedColumns=["productSubstanceName","sourceType","source","sourceid","type","specType","parentSubstance","relatedSubstance"],s}return(0,C.Z)(r,[{key:"ngOnInit",value:function(){var n=this,o=this.authService.hasAnyRolesAsync("Admin","Updater","SuperUpdater").subscribe(function(u){n.isAdmin=u});this.subscriptions.push(o),this.substanceUuid&&(this.getImpuritiesBySubstanceUuid(),this.impuritiesListExportUrl())}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(n){n&&n.unsubscribe()})}},{key:"searchImpurities",value:function(){var n=this;this.privateSearchTerm=this.substanceUuid;var u=this.impuritiesService.searchImpurities(this.pageIndex*this.pageSize,this.pageSize,this.privateSearchTerm,this.privateFacetParams).subscribe(function(p){n.setResultData(p.content),n.impurities=p.content,n.impuritiesCount=p.total,n.countImpuritiesOut.emit(n.impuritiesCount),n.etag=p.etag},function(p){},function(){u.unsubscribe()})}},{key:"getImpuritiesBySubstanceUuid",value:function(n){var o=this;this.showSpinner=!0,this.setPageEvent(n),this.impuritiesService.getImpuritiesBySubstanceUuid(this.order,this.page*this.pageSize,this.pageSize,this.substanceUuid,this.privateFacetParams).subscribe(function(p){o.impuritiesService.totalRecords=p.total,o.impurities=p.content,o.loadImpuritiesTestDetails(),o.setResultData(o.impurities),o.totalImpurities=p.total,o.etag=p.etag,o.countImpuritiesOut.emit(o.totalImpurities)}),this.showSpinner=!1}},{key:"loadImpuritiesTestDetails",value:function(){var n=this;this.impurities.forEach(function(o,u){o.impuritiesSubstanceList.forEach(function(p,m){p.substanceUuid&&p.substanceUuid===n.substanceUuid&&(p._parentSubstanceName=n.substanceName,p._parentSubstanceUuid=p.substanceUuid),p.impuritiesTestList.forEach(function(l,s){l.impuritiesDetailsList.forEach(function(f,v){if(null!=f.relatedSubstanceUuid&&f.relatedSubstanceUuid===n.substanceUuid){var D=n.generalService.getSubstanceNamesBySubstanceUuid(p.substanceUuid).subscribe(function(U){U.forEach(function(z,Va){!0===z.displayName&&(p._parentSubstanceName=z.name,p._parentSubstanceUuid=p.substanceUuid)})});n.subscriptions.push(D)}})})})})}},{key:"getSubstanceNames",value:function(n){var o;if(n){var u=this.generalService.getSubstanceNamesBySubstanceUuid(n).subscribe(function(p){p.forEach(function(l,s){!0===l.displayName&&(o=l.name)})});return this.subscriptions.push(u),o}}},{key:"export",value:function(){var n=this;if(this.etag){var o="xlsx",u=this.getApiExportUrl(this.etag,o);""!==this.authService.getUser()&&this.dialog.open(w.L,{width:"700px",data:{extension:o,type:"substanceImpurities",entity:"impurities",hideOptionButtons:!0}}).afterClosed().subscribe(function(m){var l=m.name,s=m.id;l&&""!==l&&(n.loadingService.setLoading(!0),n.authService.startUserDownload(u,n.privateExport,l+"."+o,s).subscribe(function(v){n.loadingService.setLoading(!1),n.router.navigate(["/user-downloads/",v.id])},function(v){return n.loadingService.setLoading(!1)}))})}}},{key:"getApiExportUrl",value:function(n,o){return this.impuritiesService.getApiExportUrl(n,o)}},{key:"impuritiesListExportUrl",value:function(){null!=this.substanceUuid&&(this.exportUrl=this.impuritiesService.getImpuritiesListExportUrl(this.substanceUuid))}},{key:"sortData",value:function(n){var o=this;if(n.active){var u=this.displayedColumns.indexOf(n.active).toString();this.ascDescDir=n.direction,this.sortValues.forEach(function(p){p.displayedColumns&&p.direction&&o.displayedColumns[u]===p.displayedColumns&&o.ascDescDir===p.direction&&(o.order=p.value)}),this.getImpuritiesBySubstanceUuid()}}}]),r}(P);return e.\u0275fac=function(i){return new(i||e)(t.Y36(h.F0),t.Y36(N.$),t.Y36(mn.q),t.Y36(J.m),t.Y36(O.e),t.Y36(q.b),t.Y36(Y.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-substance-impurities"]],inputs:{substanceUuid:"substanceUuid",substanceName:"substanceName"},outputs:{countImpuritiesOut:"countImpuritiesOut"},features:[t.qOj],decls:35,vars:9,consts:[[1,"padtop5px","padleft25px","font15px","colorblue"],["class","export",4,"ngIf"],[1,"responsive","mat-table-style"],["class","spinnerstyle",4,"ngIf"],["mat-table","","matSort","","matSortActive","id","matSortDirection","desc","matSortDisableClear","",3,"dataSource","matSortChange"],["matColumnDef","productSubstanceName"],["mat-header-cell","","mat-sort-header","","class","width100px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sourceType"],["matColumnDef","source"],["matColumnDef","sourceid"],["matColumnDef","type"],["matColumnDef","specType"],["matColumnDef","parentSubstance"],["mat-header-cell","","class","width100px",4,"matHeaderCellDef"],["matColumnDef","relatedSubstance"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","true",3,"length","pageSize","pageSizeOptions","page"],[1,"export"],["matTooltip","Export Search Results","mat-button","",1,"mat-button","export-button","mat-raised-button",3,"click"],["svgIcon","get_app"],[1,"spinnerstyle"],["diameter","80","color","warn","mode","indeterminate"],["mat-header-cell","","mat-sort-header","",1,"width100px"],["mat-cell",""],[4,"ngIf"],["target","_blank",3,"routerLink"],[4,"ngIf","ngIfElse"],["noProdName",""],["target","_blank","matTooltip","Edit Impurities Record",3,"routerLink",4,"ngIf"],["target","_blank","matTooltip","Edit Impurities Record",3,"routerLink"],["svgIcon","edit"],["mat-header-cell","",1,"width100px"],[4,"ngFor","ngForOf"],[1,"colorblue"],["class","font12px",4,"ngFor","ngForOf"],[1,"font12px"],[1,"colorgreen"],["class","colorpurple",4,"ngIf"],[1,"colorpurple"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"b"),t._uU(2,"Impurities Specs"),t.qZA(),t._uU(3," \xa0\xa0\xa0 "),t.YNc(4,vn,4,0,"span",1),t.qZA(),t.TgZ(5,"div",2),t.YNc(6,fn,2,0,"div",3),t.TgZ(7,"table",4),t.NdJ("matSortChange",function(n){return r.sortData(n)}),t.ynx(8,5),t.YNc(9,gn,2,0,"th",6),t.YNc(10,An,2,1,"td",7),t.BQk(),t.ynx(11,8),t.YNc(12,Zn,2,0,"th",6),t.YNc(13,yn,2,1,"td",7),t.BQk(),t.ynx(14,9),t.YNc(15,En,2,0,"th",6),t.YNc(16,Dn,2,1,"td",7),t.BQk(),t.ynx(17,10),t.YNc(18,Un,2,0,"th",6),t.YNc(19,Nn,2,1,"td",7),t.BQk(),t.ynx(20,11),t.YNc(21,Pn,2,0,"th",6),t.YNc(22,On,2,1,"td",7),t.BQk(),t.ynx(23,12),t.YNc(24,wn,2,0,"th",6),t.YNc(25,qn,2,1,"td",7),t.BQk(),t.ynx(26,13),t.YNc(27,Yn,2,0,"th",14),t.YNc(28,kn,2,1,"td",7),t.BQk(),t.ynx(29,15),t.YNc(30,Qn,2,0,"th",14),t.YNc(31,Bn,2,1,"td",7),t.BQk(),t.YNc(32,jn,1,0,"tr",16),t.YNc(33,Hn,1,0,"tr",17),t.qZA(),t.qZA(),t.TgZ(34,"mat-paginator",18),t.NdJ("page",function(n){return r.getImpuritiesBySubstanceUuid(n)}),t.qZA()),2&i&&(t.xp6(4),t.Q6J("ngIf",r.isAdmin&&r.totalRecords>0),t.xp6(2),t.Q6J("ngIf",r.showSpinner),t.xp6(1),t.Q6J("dataSource",r.paged),t.xp6(25),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("length",r.totalRecords)("pageSize",5)("pageSizeOptions",t.DdM(8,Gn)))},directives:[b.O5,A.lW,Z.Hw,y.Ou,d.BZ,g.YE,d.w1,d.fO,d.ge,g.nU,d.Dz,d.ev,h.yS,b.sg,d.as,d.XQ,d.nj,d.Gk,E.NW],styles:['@charset "UTF-8";.mat-table-style[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{vertical-align:top;font-size:12px}.bordergray[_ngcontent-%COMP%]{border:1px solid var(--regular-grey-color)}.font10px[_ngcontent-%COMP%]{font-size:10px}.font12px[_ngcontent-%COMP%]{font-size:12px}.font15px[_ngcontent-%COMP%]{font-size:15px}.colorgray[_ngcontent-%COMP%]{color:var(--regular-grey-color)}.colorred[_ngcontent-%COMP%]{color:var(--regular-red-color)}.colorgreen[_ngcontent-%COMP%]{color:var(--regular-green-color)}.colorpurple[_ngcontent-%COMP%]{color:var(--regular-purple-color)}.colorblue[_ngcontent-%COMP%]{color:var(--deep-purple-color)}.padleft25px[_ngcontent-%COMP%]{padding-left:25px}.padtop5px[_ngcontent-%COMP%]{padding-top:5px}.marginbottom10px[_ngcontent-%COMP%]{margin-bottom:10px}.width100px[_ngcontent-%COMP%]{width:100px}ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{margin-left:0;padding-left:0}\\200b[_ngcontent-%COMP%]   .spinnerstyle[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:var(--spinner-bg-color);z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:top;align-items:top;-ms-flex-pack:center;justify-content:center}']}),e}();function Kn(e,a){if(1&e&&t._UZ(0,"a",5),2&e){var i=t.oxw();t.Q6J("href",i.baseDomain+"/ginas/app/substance/"+i.substance.uuid+"#fdadetails",t.LSH)}}function Xn(e,a){1&e&&(t.TgZ(0,"div"),t._UZ(1,"br"),t.TgZ(2,"div",9),t.TgZ(3,"b"),t._uU(4,"No Product Found"),t.qZA(),t.qZA(),t._UZ(5,"br"),t.qZA())}function Vn(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"span",29),t.TgZ(1,"button",30),t.NdJ("click",function(){return t.CHM(i),t.oxw(3).export()}),t._UZ(2,"mat-icon",31),t._uU(3," Export All Products "),t.qZA(),t.qZA()}}function ta(e,a){1&e&&(t.TgZ(0,"div",32),t._UZ(1,"mat-progress-spinner",33),t.qZA())}function ea(e,a){1&e&&(t.TgZ(0,"th",34),t._uU(1," Product ID "),t.qZA())}function na(e,a){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var i=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",i.productNDC," ")}}function aa(e,a){1&e&&t._uU(0," (NO NDC) ")}var ia=function(a){return["/product",a,"edit"]};function oa(e,a){if(1&e&&(t.TgZ(0,"a",40),t._UZ(1,"mat-icon",41),t.qZA()),2&e){var i=t.oxw(2).$implicit;t.Q6J("routerLink",t.VKq(1,ia,i.productId))}}var ra=function(a){return["/product",a]};function sa(e,a){if(1&e&&(t.TgZ(0,"span"),t.TgZ(1,"a",36),t.YNc(2,na,2,1,"span",37),t.YNc(3,aa,1,0,"ng-template",null,38,t.W1O),t.qZA(),t._uU(5," \xa0\xa0 "),t.YNc(6,oa,2,3,"a",39),t.qZA()),2&e){var i=t.MAs(4),r=t.oxw().$implicit,c=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,ra,r.productId)),t.xp6(1),t.Q6J("ngIf",r.productNDC)("ngIfElse",i),t.xp6(4),t.Q6J("ngIf",c.isAdmin)}}function ca(e,a){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){var i=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",i.productNDC," ")}}function ua(e,a){1&e&&t._uU(0," (NO NDC) ")}var la=function(a){return["/product-elist",a]};function pa(e,a){if(1&e&&(t.TgZ(0,"span"),t.TgZ(1,"a",36),t.YNc(2,ca,2,1,"span",37),t.YNc(3,ua,1,0,"ng-template",null,42,t.W1O),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"span",43),t._uU(7),t.qZA(),t.qZA()),2&e){var i=t.MAs(4),r=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(4,la,r.productId)),t.xp6(1),t.Q6J("ngIf",r.productNDC)("ngIfElse",i),t.xp6(5),t.hij("(",r.fromtable,")")}}function da(e,a){if(1&e&&(t.TgZ(0,"td",35),t.YNc(1,sa,7,6,"span",4),t.YNc(2,pa,8,6,"span",4),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngIf","GSRS"===i.fromtable),t.xp6(1),t.Q6J("ngIf","GSRS"!=i.fromtable)}}function ma(e,a){1&e&&(t.TgZ(0,"th",34),t._uU(1," Product Name "),t.qZA())}function _a(e,a){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.productName," ")}}function va(e,a){if(1&e&&(t.TgZ(0,"td",35),t.YNc(1,_a,2,1,"div",44),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngForOf",i.productNameAllList)}}function fa(e,a){1&e&&(t.TgZ(0,"th",34),t._uU(1," Labeler Name "),t.qZA())}function ga(e,a){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.labelerName," ")}}function ba(e,a){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.YNc(2,ga,2,1,"div",44),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.labelerName," "),t.xp6(1),t.Q6J("ngForOf",i.productCompanyAllList)}}function ha(e,a){1&e&&(t.TgZ(0,"th",34),t._uU(1," Country "),t.qZA())}function Ca(e,a){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.countryWithoutCode," ")}}function Sa(e,a){if(1&e&&(t.TgZ(0,"td",35),t.YNc(1,Ca,2,1,"div",44),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngForOf",i.productCompanyAllList)}}function xa(e,a){1&e&&(t.TgZ(0,"th",34),t._uU(1," Status "),t.qZA())}function Ta(e,a){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.status," ")}}function Aa(e,a){1&e&&(t.TgZ(0,"th",34),t._uU(1," Product Type "),t.qZA())}function Za(e,a){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.productType," ")}}function ya(e,a){1&e&&(t.TgZ(0,"th",34),t._uU(1," Ingredient Type "),t.qZA())}function Ea(e,a){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&e){var i=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",i.ingredientType," ")}}function Da(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,Ea,2,1,"div",4),t.qZA()),2&e){var i=t.oxw().$implicit,r=t.oxw(4);t.xp6(1),t.Q6J("ngIf",r.substance.uuid===i.substanceUuid)}}function Ua(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,Da,2,1,"div",4),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngIf",i.substanceUuid)}}function Na(e,a){if(1&e&&(t.TgZ(0,"td",35),t.YNc(1,Ua,2,1,"div",44),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.Q6J("ngForOf",i.productIngredientAllList)}}function Pa(e,a){1&e&&(t.TgZ(0,"th",34),t._uU(1," Application Number "),t.qZA())}function Oa(e,a){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){var i=a.$implicit;t.xp6(1),t.hij(" ",i.appTypeNumber," ")}}function wa(e,a){1&e&&t._UZ(0,"tr",45)}function qa(e,a){1&e&&t._UZ(0,"tr",46)}var Ya=function(){return[5,10,25,100]};function Ia(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"mat-tab",6),t.TgZ(1,"div",10),t.TgZ(2,"b"),t._uU(3),t.qZA(),t._uU(4," \xa0\xa0\xa0 "),t.TgZ(5,"span",11),t._uU(6),t.qZA(),t._uU(7," \xa0\xa0\xa0 "),t.YNc(8,Vn,4,0,"span",12),t.qZA(),t.TgZ(9,"div",13),t.YNc(10,ta,2,0,"div",14),t.TgZ(11,"table",15),t.NdJ("matSortChange",function(o){return t.CHM(i),t.oxw(2).sortData(o)}),t.ynx(12,16),t.YNc(13,ea,2,0,"th",17),t.YNc(14,da,3,2,"td",18),t.BQk(),t.ynx(15,19),t.YNc(16,ma,2,0,"th",17),t.YNc(17,va,2,1,"td",18),t.BQk(),t.ynx(18,20),t.YNc(19,fa,2,0,"th",17),t.YNc(20,ba,3,2,"td",18),t.BQk(),t.ynx(21,21),t.YNc(22,ha,2,0,"th",17),t.YNc(23,Sa,2,1,"td",18),t.BQk(),t.ynx(24,22),t.YNc(25,xa,2,0,"th",17),t.YNc(26,Ta,2,1,"td",18),t.BQk(),t.ynx(27,23),t.YNc(28,Aa,2,0,"th",17),t.YNc(29,Za,2,1,"td",18),t.BQk(),t.ynx(30,24),t.YNc(31,ya,2,0,"th",17),t.YNc(32,Na,2,1,"td",18),t.BQk(),t.ynx(33,25),t.YNc(34,Pa,2,0,"th",17),t.YNc(35,Oa,2,1,"td",18),t.BQk(),t.YNc(36,wa,1,0,"tr",26),t.YNc(37,qa,1,0,"tr",27),t.qZA(),t.qZA(),t.TgZ(38,"mat-paginator",28),t.NdJ("page",function(o){return t.CHM(i),t.oxw(2).getSubstanceProducts(o)}),t.qZA(),t.qZA()}if(2&e){var r=a.$implicit,c=t.oxw(2);t.s9C("label",r),t.xp6(3),t.hij(" ",r,""),t.xp6(3),t.Oqu(c.loadingStatus),t.xp6(2),t.Q6J("ngIf",c.isAdmin&&c.totalRecords>0),t.xp6(2),t.Q6J("ngIf",c.showSpinner),t.xp6(1),t.Q6J("dataSource",c.paged),t.xp6(25),t.Q6J("matHeaderRowDef",c.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",c.displayedColumns),t.xp6(1),t.Q6J("length",c.totalRecords)("pageSize",5)("pageSizeOptions",t.DdM(11,Ya))}}function Ma(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"mat-tab",6),t.YNc(1,Xn,6,0,"div",4),t.TgZ(2,"mat-tab-group",7),t.NdJ("selectedTabChange",function(n){return t.CHM(i),t.oxw().tabSelected(n)}),t.YNc(3,Ia,39,12,"mat-tab",8),t.qZA(),t.qZA()}if(2&e){var r=t.oxw();t.MGl("label","Product (",r.productCount,")"),t.xp6(1),t.Q6J("ngIf",!0===r.loadingComplete&&!1===r.foundProvenanceList&&0===r.productCount),t.xp6(2),t.Q6J("ngForOf",r.provenanceList)}}function ka(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"mat-tab",6),t.TgZ(1,"app-substance-application",47),t.NdJ("countApplicationOut",function(n){return t.CHM(i),t.oxw().getApplicationCount(n)}),t.qZA(),t.qZA()}if(2&e){var r=t.oxw();t.MGl("label","Application (",r.applicationCount,")"),t.xp6(1),t.Q6J("bdnum",r.bdnum)}}function Qa(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"mat-tab",6),t.TgZ(2,"app-substance-clinical-trials",48),t.NdJ("countClinicalTrialOut",function(n){return t.CHM(i),t.oxw().getClinicalTrialCount(n)}),t.qZA(),t.qZA(),t.qZA()}if(2&e){var r=t.oxw();t.xp6(1),t.MGl("label","Clinical Trial (",r.clinicalTrialCount,")"),t.xp6(1),t.Q6J("bdnum",r.bdnum)("substanceUuid",r.substance.uuid)}}function La(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"mat-tab",6),t.TgZ(1,"app-substance-clinical-trials-eu",49),t.NdJ("countClinicalTrialEuOut",function(n){return t.CHM(i),t.oxw().getClinicalTrialEuCount(n)}),t.qZA(),t.qZA()}if(2&e){var r=t.oxw();t.MGl("label","Clinical Trial Europe (",r.clinicalTrialEuCount,")"),t.xp6(1),t.Q6J("bdnum",r.bdnum)("substanceUuid",r.substance.uuid)}}function Ja(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"mat-tab",6),t.TgZ(1,"app-substance-adverseeventpt",50),t.NdJ("countAdvPtOut",function(n){return t.CHM(i),t.oxw().getAdvPtCount(n)}),t.qZA(),t.qZA()}if(2&e){var r=t.oxw();t.MGl("label","Adverse Event PT (",r.advPtCount,")"),t.xp6(1),t.Q6J("bdnum",r.bdnum)("substanceName",r.substanceName)}}function Ra(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"mat-tab",6),t.TgZ(1,"app-substance-adverseeventdme",51),t.NdJ("countAdvDmeOut",function(n){return t.CHM(i),t.oxw().getAdvDmeCount(n)}),t.qZA(),t.qZA()}if(2&e){var r=t.oxw();t.MGl("label","Adverse Event DME (",r.advDmeCount,")"),t.xp6(1),t.Q6J("bdnum",r.bdnum)}}function Fa(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"mat-tab",6),t.TgZ(1,"app-substance-adverseeventcvm",52),t.NdJ("countAdvCvmOut",function(n){return t.CHM(i),t.oxw().getAdvCvmCount(n)}),t.qZA(),t.qZA()}if(2&e){var r=t.oxw();t.MGl("label","Adverse Event CVM (",r.advCvmCount,")"),t.xp6(1),t.Q6J("bdnum",r.bdnum)}}function $a(e,a){if(1&e){var i=t.EpF();t.TgZ(0,"mat-tab",6),t.TgZ(1,"app-substance-impurities",53),t.NdJ("countImpuritiesOut",function(n){return t.CHM(i),t.oxw().getImpuritiesCount(n)}),t.qZA(),t.qZA()}if(2&e){var r=t.oxw();t.MGl("label","Impurities Specs (",r.impuritiesCount,")"),t.xp6(1),t.Q6J("substanceUuid",r.substance.uuid)("substanceName",r.substanceName)}}var za=function(){var e=function(a){(0,x.Z)(r,a);var i=(0,T.Z)(r);function r(c,n,o,u,p,m,l){var s;return(0,S.Z)(this,r),(s=i.call(this,n,o)).router=c,s.gaService=n,s.productService=o,s.configService=u,s.authService=p,s.loadingService=m,s.dialog=l,s.productCount=0,s.applicationCount=0,s.clinicalTrialCount=0,s.clinicalTrialEuCount=0,s.advPtCount=0,s.advDmeCount=0,s.advCvmCount=0,s.impuritiesCount=0,s.provenance="",s.provenanceList="",s.datasourceList="",s.loadingStatus="",s.showSpinner=!1,s.foundProvenanceList=!1,s.loadingComplete=!1,s.substanceName="",s.privateExport=!1,s.disableExport=!1,s.etag="",s.etagAllExport="",s.sortValues=G.R,s.order="$root_productNDC",s.ascDescDir="desc",s.displayedColumns=["productNDC","productName","labelerName","country","status","productNameType","ingredientType","applicationNumber"],s}return(0,C.Z)(r,[{key:"ngOnInit",value:function(){var n=this;this.loadedComponents=this.configService.configData.loadedComponents||null,this.authService.hasAnyRolesAsync("Admin","Updater","SuperUpdater").pipe((0,k.q)(1)).subscribe(function(o){n.isAdmin=o}),this.substance&&this.substance.uuid&&(this.getSubstanceKey(),this.getProductProvenanceList(),this.privateSearch='root_productIngredientAllList_substanceUuid:"'+this.substance.uuid+'"',this.getSubstanceProducts(null,"initial")),this.baseDomain=this.configService.configData.apiUrlDomain}},{key:"ngAfterViewInit",value:function(){}},{key:"getApplicationCount",value:function(n){this.applicationCount=n}},{key:"getClinicalTrialCount",value:function(n){this.clinicalTrialCount=n}},{key:"getClinicalTrialEuCount",value:function(n){this.clinicalTrialEuCount=n}},{key:"getAdvPtCount",value:function(n){this.advPtCount=n}},{key:"getAdvDmeCount",value:function(n){this.advDmeCount=n}},{key:"getAdvCvmCount",value:function(n){this.advCvmCount=n}},{key:"getImpuritiesCount",value:function(n){this.impuritiesCount=n}},{key:"getSubstanceKey",value:function(){var n=this;this.substance&&(this.substanceName=this.substance._name,this.substance.codes.length>0&&this.substance.codes.forEach(function(o){o.codeSystem&&"BDNUM"===o.codeSystem&&o.type&&"PRIMARY"===o.type&&(n.bdnum=o.code)}))}},{key:"getProductProvenanceList",value:function(){var n=this;this.productService.getProductProvenanceList(this.substance.uuid).subscribe(function(o){n.provenanceList=o,n.provenanceList&&n.provenanceList.length>0&&(n.foundProvenanceList=!0),n.loadingComplete=!0})}},{key:"getSubstanceProducts",value:function(n,o){var u=this;this.setPageEvent(n),this.showSpinner=!0;var m=this.productService.getProducts(this.order,this.page*this.pageSize,this.pageSize,this.privateSearch,this.privateFacetParams).subscribe(function(l){o&&"initial"===o?u.etagAllExport=l.etag:(u.productService.totalRecords=l.total,u.setResultData(l.content),u.productCount=l.total,u.etag=l.etag)},function(l){u.showSpinner=!1,console.log("error")},function(){u.showSpinner=!1,m.unsubscribe()});this.loadingStatus=""}},{key:"export",value:function(){var n=this;if(this.etagAllExport){var o="xlsx",u=this.getApiExportUrl(this.etagAllExport,o);""!==this.authService.getUser()&&this.dialog.open(w.L,{width:"700px",data:{extension:o,type:"substanceProduct",entity:"products",hideOptionButtons:!0}}).afterClosed().subscribe(function(m){var l=m.name,s=m.id;l&&""!==l&&(n.loadingService.setLoading(!0),n.authService.startUserDownload(u,n.privateExport,l+"."+o,s).subscribe(function(v){n.loadingService.setLoading(!1),n.router.navigate(["/user-downloads/",v.id])},function(v){return n.loadingService.setLoading(!1)}))})}}},{key:"getApiExportUrl",value:function(n,o){return this.productService.getApiExportUrl(n,o)}},{key:"tabSelected",value:function(n){if(n){var u=n.tab.textLabel;null!=u&&(this.loadingStatus="Loading data...",this.provenance=u,this.paged=[],this.privateSearch='root_productIngredientAllList_substanceUuid:"'+this.substance.uuid+'" AND root_provenance:'+this.provenance,this.getSubstanceProducts())}}},{key:"sortData",value:function(n){var o=this;if(n.active){var u=this.displayedColumns.indexOf(n.active).toString();this.ascDescDir=n.direction,this.sortValues.forEach(function(p){p.displayedColumns&&p.direction&&o.displayedColumns[u]===p.displayedColumns&&o.ascDescDir===p.direction&&(o.order=p.value)}),this.getSubstanceProducts()}}}]),r}(P);return e.\u0275fac=function(i){return new(i||e)(t.Y36(h.F0),t.Y36(N.$),t.Y36(j.M),t.Y36(M.E),t.Y36(O.e),t.Y36(q.b),t.Y36(Y.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-substance-products"]],features:[t.qOj],decls:12,vars:9,consts:[[1,"info-container"],["aria-label","FDA details","target","_blank",3,"href",4,"ngIf"],[1,"bordergray","mat-tab-style"],[3,"label",4,"ngIf"],[4,"ngIf"],["aria-label","FDA details","target","_blank",3,"href"],[3,"label"],[3,"selectedTabChange"],[3,"label",4,"ngFor","ngForOf"],[1,"padleft25px","colorblue"],[1,"divflex","padtop5px","padleft25px","font15px","colorblue"],[1,"colorred"],["class","export",4,"ngIf"],[1,"responsive","mat-table-style"],["class","spinnerstyle",4,"ngIf"],["mat-table","","matSort","","matSortActive","productNDC","matSortDirection","desc","matSortDisableClear","",1,"font12px",3,"dataSource","matSortChange"],["matColumnDef","productNDC"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","productName"],["matColumnDef","labelerName"],["matColumnDef","country"],["matColumnDef","status"],["matColumnDef","productNameType"],["matColumnDef","ingredientType"],["matColumnDef","applicationNumber"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","true",3,"length","pageSize","pageSizeOptions","page"],[1,"export"],["matTooltip","Export Search Results","mat-button","",1,"mat-button","export-button","mat-raised-button",3,"click"],["svgIcon","get_app"],[1,"spinnerstyle"],["diameter","80","color","warn","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["target","_blank",3,"routerLink"],[4,"ngIf","ngIfElse"],["noProdNDCGSRS",""],["target","_blank","matTooltip","Edit GSRS Product Record",3,"routerLink",4,"ngIf"],["target","_blank","matTooltip","Edit GSRS Product Record",3,"routerLink"],["svgIcon","edit"],["noProdNDC",""],[1,"font10px","colorgray"],[4,"ngFor","ngForOf"],["mat-header-row",""],["mat-row",""],[3,"bdnum","countApplicationOut"],[3,"bdnum","substanceUuid","countClinicalTrialOut"],[3,"bdnum","substanceUuid","countClinicalTrialEuOut"],[3,"bdnum","substanceName","countAdvPtOut"],[3,"bdnum","countAdvDmeOut"],[3,"bdnum","countAdvCvmOut"],[3,"substanceUuid","substanceName","countImpuritiesOut"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0),t.YNc(1,Kn,1,1,"a",1),t.qZA(),t.TgZ(2,"div",2),t.TgZ(3,"mat-tab-group"),t.YNc(4,Ma,4,3,"mat-tab",3),t.YNc(5,ka,2,2,"mat-tab",3),t.YNc(6,Qa,3,3,"div",4),t.YNc(7,La,2,3,"mat-tab",3),t.YNc(8,Ja,2,3,"mat-tab",3),t.YNc(9,Ra,2,2,"mat-tab",3),t.YNc(10,Fa,2,2,"mat-tab",3),t.YNc(11,$a,2,3,"mat-tab",3),t.qZA(),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngIf",r.substance&&r.substance.uuid),t.xp6(3),t.Q6J("ngIf",r.loadedComponents&&r.loadedComponents.products),t.xp6(1),t.Q6J("ngIf",r.loadedComponents&&r.loadedComponents.applications),t.xp6(1),t.Q6J("ngIf",r.loadedComponents&&r.loadedComponents.clinicaltrials),t.xp6(1),t.Q6J("ngIf",r.loadedComponents&&r.loadedComponents.clinicaltrials),t.xp6(1),t.Q6J("ngIf",r.loadedComponents&&r.loadedComponents.adverseevents),t.xp6(1),t.Q6J("ngIf",r.loadedComponents&&r.loadedComponents.adverseevents),t.xp6(1),t.Q6J("ngIf",r.loadedComponents&&r.loadedComponents.adverseevents),t.xp6(1),t.Q6J("ngIf",r.loadedComponents&&r.loadedComponents.impurities))},directives:[b.O5,I.SP,I.uX,b.sg,A.lW,Z.Hw,y.Ou,d.BZ,g.YE,d.w1,d.fO,d.ge,g.nU,d.Dz,d.ev,h.yS,d.as,d.XQ,d.nj,d.Gk,E.NW,Zt,zt,ue,Pe,We,dn,Wn],styles:[".mat-table-style[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{vertical-align:top;font-size:12px}.mat-tab-style[_ngcontent-%COMP%]   .mat-tab-labels[_ngcontent-%COMP%], .mat-tab-style[_ngcontent-%COMP%]   .mat-tab-label[_ngcontent-%COMP%], .mat-tab-style[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{color:var(--regular-blue-color)}.bordergray[_ngcontent-%COMP%]{border:1px solid var(--regular-grey-color)}.font10px[_ngcontent-%COMP%]{font-size:10px}.font15px[_ngcontent-%COMP%]{font-size:15px}.colorgray[_ngcontent-%COMP%]{color:var(--regular-grey-color)}.padleft15px[_ngcontent-%COMP%]{padding-left:15px}.padleft25px[_ngcontent-%COMP%]{padding-left:25px}.padtop5px[_ngcontent-%COMP%]{padding-top:5px}.colorblue[_ngcontent-%COMP%]{color:var(--deep-purple-color)}.colorred[_ngcontent-%COMP%]{color:var(--regular-red-color)}.info-container[_ngcontent-%COMP%]{margin-bottom:15px}.info-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--deep-blue-color-rgb-2);text-decoration:none}.spinnerstyle[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:var(--spinner-bg-color);z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:top;align-items:top;-ms-flex-pack:center;justify-content:center}.divflex[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.middle-fill[_ngcontent-%COMP%]{-ms-flex:1 1 auto;flex:1 1 auto}"]}),e}(),Ba=_(33865),ja=_(43365),$=_(90587),Ha=(_(64061),function(){var e=(0,C.Z)(function a(){(0,S.Z)(this,a)});return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[b.ez,B.o0.forChild(za),d.p0,Ba.HT,E.TU,g.JX,ja.c,I.Nh,A.ot,Z.Ps,y.Cq,$.UX,$.u5,h.Bz]]}),e}())}}]);
//# sourceMappingURL=1421.9f98b15e8097e932.js.map