{"version":3,"mappings":"wUAaaA,EAAb,eAAaA,EAAb,0CAIE,WACUC,GAA0C,6BAElDC,gBAFQD,uBAJVC,sBAAsB,IAAIC,KAC1BD,gBAAqC,GAGeA,EALtD,uCAUE,WAAQ,WACNE,KAAKC,gBAAgBC,KAAK,iBAC1BF,KAAKH,qBAAqBM,QAAQC,UAAU,WAC1CN,EAAKO,mBAEP,IAAMC,EAA2BN,KAAKH,qBAAqBU,aAAaH,UAAU,YAChFN,EAAKU,oBAAoBC,SAASF,KAEpCP,KAAKU,cAAcC,KAAKL,GACxB,IAAMM,EAAoBZ,KAAKQ,oBAAoBK,aAAaC,QAC9DC,KAAa,MACbC,UACAZ,UAAU,YACVN,EAAKD,qBAAqBoB,mBAAmBV,KAE/CP,KAAKU,cAAcC,KAAKC,KAzB5B,yBA4BE,WACEZ,KAAKU,cAAcQ,QAAQ,YACzBC,EAAaC,kBA9BnB,4BAkCE,WAGc,MAFCpB,KAAKH,qBAAqBwB,WAGrCrB,KAAKsB,kBAAkBpB,MAAK,OAtClCqB,GAAwDC,kDAA3C5B,GAAkC6B,qCAAlC7B,EAAkC8B,mMCb/CD,0BACIA,mBAEJA,eADIA,6JDWS7B,EAAb,wBEWa+B,EAAb,eAAaA,KAAbC,iFAAaD,4DAVF,CACPE,KACAC,aAAsClC,GACtCmC,IACAC,KACAC,KACAC,KACAC,QAGSR,EAAb","names":["SubstanceFormChangeReasonComponent","substanceFormService","e","FormControl","this","menuLabelUpdate","emit","ready","subscribe","setHiddenState","changeReasonSubscription","changeReason","changeReasonControl","setValue","subscriptions","push","valueSubscription","valueChanges","pipe","debounceTime","distinctUntilChanged","updateChangeReason","forEach","subscription","unsubscribe","getUuid","hiddenStateUpdate","r","SubstanceFormBase","i0","selectors","SubstanceFormChangeReasonModule","h","CommonModule","DynamicComponentLoaderModule","SubstanceFormModule","MatFormFieldModule","ReactiveFormsModule","FormsModule","MatInputModule"],"sources":["./src/app/core/substance-form/substance-form-change-reason/substance-form-change-reason.component.ts","./src/app/core/substance-form/substance-form-change-reason/substance-form-change-reason.component.html","./src/app/core/substance-form/substance-form-change-reason/substance-form-change-reason.module.ts"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { SubstanceFormBase } from '../base-classes/substance-form-base';\nimport { SubstanceFormService } from '../substance-form.service';\nimport { GoogleAnalyticsService } from '@gsrs-core/google-analytics';\nimport { FormControl } from '@angular/forms';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-substance-form-change-reason',\n  templateUrl: './substance-form-change-reason.component.html',\n  styleUrls: ['./substance-form-change-reason.component.scss']\n})\nexport class SubstanceFormChangeReasonComponent extends SubstanceFormBase implements OnInit, OnDestroy {\n  changeReasonControl = new FormControl();\n  subscriptions: Array<Subscription> = [];\n\n  constructor(\n    private substanceFormService: SubstanceFormService\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n    this.menuLabelUpdate.emit('Change Reason');\n    this.substanceFormService.ready().subscribe(() => {\n      this.setHiddenState();\n    });\n    const changeReasonSubscription = this.substanceFormService.changeReason.subscribe(changeReason => {\n      this.changeReasonControl.setValue(changeReason);\n    });\n    this.subscriptions.push(changeReasonSubscription);\n    const valueSubscription = this.changeReasonControl.valueChanges.pipe(\n      debounceTime(1000),\n      distinctUntilChanged(),\n    ).subscribe(changeReason => {\n      this.substanceFormService.updateChangeReason(changeReason);\n    });\n    this.subscriptions.push(valueSubscription);\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(subscription => {\n      subscription.unsubscribe();\n    });\n  }\n\n  setHiddenState(): void {\n    const uuid = this.substanceFormService.getUuid();\n\n    if (uuid == null) {\n      this.hiddenStateUpdate.emit(true);\n    }\n  }\n}\n","<mat-form-field>\n    <input matInput placeholder=\"Change reason\"\n    [formControl]=\"changeReasonControl\" required />\n</mat-form-field>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SubstanceFormChangeReasonComponent } from './substance-form-change-reason.component';\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\nimport { SubstanceFormModule } from '../substance-form.module';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\n\n\n@NgModule({\n  declarations: [\n    SubstanceFormChangeReasonComponent\n  ],\n  imports: [\n    CommonModule,\n    DynamicComponentLoaderModule.forChild(SubstanceFormChangeReasonComponent),\n    SubstanceFormModule,\n    MatFormFieldModule,\n    ReactiveFormsModule,\n    FormsModule,\n    MatInputModule\n  ]\n})\nexport class SubstanceFormChangeReasonModule { }\n"],"sourceRoot":"webpack:///","file":"8603.f912120fe06f7b1b.js"}