"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[8592],{99146:function(P,A,a){a.d(A,{a:function(){return M}});var D=a(39117),E=a(1884),t=a(95758),r=a(24874),n=a(86613),e=a(10837),d=a(87317),M=function(){var p=function(){function v(f,Z,b){(0,D.Z)(this,v),this.dialogRef=f,this.gaService=Z,this.data=b}return(0,E.Z)(v,[{key:"ngOnInit",value:function(){this.data.name&&(this.name=this.data.name)}},{key:"nameResolved",value:function(Z){this.dialogRef.close(Z)}},{key:"dismissDialog",value:function(){this.gaService.sendEvent("nameResolverDialog","button:close","cancel resolver"),this.dialogRef.close()}}]),v}();return p.\u0275fac=function(f){return new(f||p)(n.Y36(t.so),n.Y36(r.$),n.Y36(t.WI))},p.\u0275cmp=n.Xpm({type:p,selectors:[["app-name-resolver-dialog"]],decls:8,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"startingName","structureSelected"],["mat-dialog-actions","",1,"flex-row"],[1,"middle-fill"],["mat-button","",3,"click"]],template:function(f,Z){1&f&&(n.TgZ(0,"h1",0),n._uU(1," Get Structure From Name\n"),n.qZA(),n.TgZ(2,"div",1),n.TgZ(3,"app-name-resolver",2),n.NdJ("structureSelected",function(R){return Z.nameResolved(R)}),n.qZA(),n.qZA(),n.TgZ(4,"div",3),n._UZ(5,"span",4),n.TgZ(6,"button",5),n.NdJ("click",function(){return Z.dismissDialog()}),n._uU(7,"Close"),n.qZA(),n.qZA()),2&f&&(n.xp6(3),n.Q6J("startingName",Z.name))},directives:[e.W,d.lW],styles:[""]}),p}()},11920:function(P,A,a){a.d(A,{V:function(){return E.V}}),a(73430);var E=a(38277)},73430:function(P,A,a){a.d(A,{C:function(){return H}});var D=a(39117),E=a(1884),t=a(12570),r=a(36362),n=a(59295),e=a(86613),d=a(97217),M=a(65590),p=a(40089);function v(o,l){1&o&&(e.TgZ(0,"th",13),e._uU(1," Index "),e.qZA())}function f(o,l){if(1&o&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&o){var i=l.$implicit,C=e.oxw();e.xp6(1),e.hij("",C.getParentIndex(i)," ")}}function Z(o,l){1&o&&(e.TgZ(0,"th",13),e._uU(1," Source Text / Citation "),e.qZA())}function b(o,l){if(1&o&&(e.TgZ(0,"a",17),e._uU(1),e.qZA()),2&o){var i=e.oxw().$implicit;e.Q6J("href",i.url,e.LSH),e.xp6(1),e.Oqu(i.citation)}}function R(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){var i=e.oxw().$implicit;e.xp6(1),e.Oqu(i.citation)}}function I(o,l){if(1&o&&(e.TgZ(0,"td",14),e.YNc(1,b,2,2,"a",15),e.YNc(2,R,2,1,"span",16),e.qZA()),2&o){var i=l.$implicit;e.xp6(1),e.Q6J("ngIf",i.url),e.xp6(1),e.Q6J("ngIf",!i.url)}}function S(o,l){1&o&&(e.TgZ(0,"th",13),e._uU(1," Source Type "),e.qZA())}function U(o,l){if(1&o&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&o){var i=l.$implicit;e.xp6(1),e.hij(" ",i.docType," ")}}function N(o,l){1&o&&(e.TgZ(0,"th",13),e._uU(1," Tags "),e.qZA())}function h(o,l){if(1&o&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&o){var i=l.$implicit;e.xp6(1),e.hij(" ",i," ")}}function T(o,l){if(1&o){var i=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){e.CHM(i);var O=e.oxw(3);return O.showmore=!O.showmore}),e._uU(1,"hide"),e.qZA()}}function m(o,l){if(1&o&&(e.TgZ(0,"span"),e.YNc(1,h,2,1,"span",18),e.YNc(2,T,2,0,"a",19),e.qZA()),2&o){var i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",i.tags),e.xp6(1),e.Q6J("ngIf",i.tags.length>1)}}function c(o,l){if(1&o){var i=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){e.CHM(i);var O=e.oxw(3);return O.showmore=!O.showmore}),e._uU(1,"more..."),e.qZA()}}function s(o,l){if(1&o&&(e.TgZ(0,"span"),e.TgZ(1,"span",20),e._uU(2),e.qZA(),e.YNc(3,c,2,0,"a",19),e.qZA()),2&o){var i=e.oxw().$implicit;e.xp6(2),e.hij(" ",i.tags.length>0?i.tags[0]:null,""),e.xp6(1),e.Q6J("ngIf",i.tags.length>1)}}function u(o,l){if(1&o&&(e.TgZ(0,"td",14),e.YNc(1,m,3,2,"span",16),e.YNc(2,s,4,2,"span",16),e.qZA()),2&o){var i=l.$implicit,C=e.oxw();e.xp6(1),e.Q6J("ngIf",C.showmore&&i.tags&&i.tags.length>0),e.xp6(1),e.Q6J("ngIf",!C.showmore&&i.tags&&i.tags.length>0)}}function _(o,l){1&o&&(e.TgZ(0,"th",22),e._uU(1," File "),e.qZA())}function g(o,l){if(1&o&&(e.TgZ(0,"a",24),e._UZ(1,"mat-icon",25),e.qZA()),2&o){var i=e.oxw().$implicit;e.Q6J("href",i.uploadedFile,e.LSH)}}function x(o,l){if(1&o&&(e.TgZ(0,"td",14),e.YNc(1,g,2,1,"a",23),e.qZA()),2&o){var i=l.$implicit;e.xp6(1),e.Q6J("ngIf",i.uploadedFile)}}function y(o,l){1&o&&(e.TgZ(0,"th",13),e._uU(1," Date Accessed "),e.qZA())}function J(o,l){if(1&o&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&o){var i=l.$implicit,C=e.oxw();e.xp6(1),e.hij(" ",C.convertTimestamp(i.lastEdited)," ")}}function Y(o,l){1&o&&(e.TgZ(0,"th",22),e._uU(1," Access "),e.qZA())}function F(o,l){1&o&&e._UZ(0,"mat-icon",30)}function k(o,l){if(1&o&&(e.TgZ(0,"span",28),e.YNc(1,F,1,0,"mat-icon",29),e.qZA()),2&o){var i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",i.access.length)}}function W(o,l){1&o&&e._UZ(0,"mat-icon",33)}function B(o,l){if(1&o&&(e.TgZ(0,"span",31),e.YNc(1,W,1,0,"mat-icon",32),e.qZA()),2&o){var i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",0===i.access.length)}}function Q(o,l){if(1&o&&(e.TgZ(0,"td",14),e.YNc(1,k,2,1,"span",26),e.YNc(2,B,2,1,"span",27),e.qZA()),2&o){var i=l.$implicit;e.xp6(1),e.Q6J("ngIf",i.access.length),e.xp6(1),e.Q6J("ngIf",!i.access.length)}}function K(o,l){1&o&&e._UZ(0,"tr",34)}function q(o,l){1&o&&e._UZ(0,"tr",35)}var H=function(){var o=function(){function l(i){(0,D.Z)(this,l),this.substanceService=i,this.matchedRef=[],this.showmore=!1,this.displayedColumns=["index","citation","docType","tags","files","lastEdited","access"]}return(0,E.Z)(l,[{key:"ngOnInit",value:function(){var C=this;if(this.substance)this.subRef=this.substance.references;else if(this.subUUID)var O=this.substanceService.getSubstanceDetails(this.subUUID).pipe((0,n.q)(1)).subscribe(function(L){L&&(C.substance=L,C.subRef=C.substance.references),O.unsubscribe()},function(L){O.unsubscribe()});this.subRef&&this.compileReferences()}},{key:"compileReferences",value:function(){var C=this;this.substance.references&&this.substance.references.forEach(function(O){C.references.indexOf(O.uuid)>-1&&C.matchedRef.push(O)})}},{key:"convertTimestamp",value:function(C){return new r.uU("en-US").transform(C,"MMM dd, yyyy")}},{key:"getParentIndex",value:function(C){return this.subRef.indexOf(C)+1}}]),l}();return o.\u0275fac=function(i){return new(i||o)(e.Y36(t.d))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-references-manager"]],inputs:{substance:"substance",subUUID:"subUUID",references:"references"},decls:24,vars:3,consts:[["mat-table","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","citation"],["matColumnDef","docType"],["matColumnDef","tags"],["matColumnDef","files"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","lastEdited"],["matColumnDef","access"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["target","_blank","appTrackLinkEvent","","evCategory","substanceOverview",3,"href",4,"ngIf"],[4,"ngIf"],["target","_blank","appTrackLinkEvent","","evCategory","substanceOverview",3,"href"],["class","badge",4,"ngFor","ngForOf"],["class","morelink",3,"click",4,"ngIf"],[1,"badge"],[1,"morelink",3,"click"],["mat-header-cell","","mat-sort-header",""],[3,"href",4,"ngIf"],[3,"href"],["color","primary","svgIcon","cloud_download",1,"blue"],["matTooltip","Not Public",4,"ngIf"],["matTooltip","Public",4,"ngIf"],["matTooltip","Not Public"],["svgIcon","lock","class","icon-align blue-font",4,"ngIf"],["svgIcon","lock",1,"icon-align","blue-font"],["matTooltip","Public"],["svgIcon","lock_open","class","icon-align blue-font",4,"ngIf"],["svgIcon","lock_open",1,"icon-align","blue-font"],["mat-header-row",""],["mat-row",""]],template:function(i,C){1&i&&(e.TgZ(0,"table",0),e.ynx(1,1),e.YNc(2,v,2,0,"th",2),e.YNc(3,f,2,1,"td",3),e.BQk(),e.ynx(4,4),e.YNc(5,Z,2,0,"th",2),e.YNc(6,I,3,2,"td",3),e.BQk(),e.ynx(7,5),e.YNc(8,S,2,0,"th",2),e.YNc(9,U,2,1,"td",3),e.BQk(),e.ynx(10,6),e.YNc(11,N,2,0,"th",2),e.YNc(12,u,3,2,"td",3),e.BQk(),e.ynx(13,7),e.YNc(14,_,2,0,"th",8),e.YNc(15,x,2,1,"td",3),e.BQk(),e.ynx(16,9),e.YNc(17,y,2,0,"th",2),e.YNc(18,J,2,1,"td",3),e.BQk(),e.ynx(19,10),e.YNc(20,Y,2,0,"th",8),e.YNc(21,Q,3,2,"td",3),e.BQk(),e.YNc(22,K,1,0,"tr",11),e.YNc(23,q,1,0,"tr",12),e.qZA()),2&i&&(e.Q6J("dataSource",C.matchedRef),e.xp6(22),e.Q6J("matHeaderRowDef",C.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",C.displayedColumns))},directives:[d.BZ,d.w1,d.fO,d.ge,d.Dz,d.ev,r.O5,r.sg,M.Hw,p.gM,d.as,d.XQ,d.nj,d.Gk],styles:[".mat-row[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--ref-manager-mat-row-nth-child-color)}.morelink[_ngcontent-%COMP%]{color:var(--link-color);padding-left:10px}"]}),o}()},38277:function(P,A,a){a.d(A,{V:function(){return M}});var D=a(1884),E=a(39117),t=a(36362),r=a(40089),n=a(65590),e=a(97217),d=a(86613),M=function(){var p=(0,D.Z)(function v(){(0,E.Z)(this,v)});return p.\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({imports:[[t.ez,e.p0,n.Ps,r.AV]]}),p}()},27164:function(P,A,a){a.d(A,{O:function(){return d}});var D=a(39117),E=a(1884),t=a(95758),r=a(86613),n=a(33662),e=a(87317),d=function(){var M=function(){function p(v,f){(0,D.Z)(this,p),this.dialogRef=v,this.data=f,this.isNew=Object.keys(f.subsAmount).length<2}return(0,E.Z)(p,[{key:"ngOnInit",value:function(){var f=this;this.subsAmount=this.data.subsAmount,this.data=this.data.subsAmount,this.backup=JSON.parse(JSON.stringify(this.data)),this.dialogRef.beforeClosed().subscribe(function(){return f.dialogRef.close(f.data)})}},{key:"save",value:function(){this.dialogRef.close(this.data)}},{key:"cancel",value:function(){this.data.cancel=!0,this.data=this.backup,this.dialogRef.close(this.data)}}]),p}();return M.\u0275fac=function(v){return new(v||M)(r.Y36(t.so),r.Y36(t.WI))},M.\u0275cmp=r.Xpm({type:M,selectors:[["app-amount-form-dialog"]],decls:12,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"substanceAmount"],["amountForm",""],[1,"actions"],[1,"middle-fill"],["mat-button","",3,"click"],["mat-button","",3,"disabled","click"]],template:function(v,f){if(1&v&&(r.TgZ(0,"h1",0),r._uU(1),r.qZA(),r.TgZ(2,"div",1),r.TgZ(3,"div"),r._UZ(4,"app-amount-form",2,3),r.TgZ(6,"div",4),r._UZ(7,"span",5),r.TgZ(8,"button",6),r.NdJ("click",function(){return f.cancel()}),r._uU(9,"Cancel"),r.qZA(),r.TgZ(10,"button",7),r.NdJ("click",function(){return f.save()}),r._uU(11," Save "),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&v){var Z=r.MAs(5);r.xp6(1),r.hij("",f.isNew?"Add":"Edit"," Parameter"),r.xp6(3),r.Q6J("substanceAmount",f.subsAmount),r.xp6(6),r.Q6J("disabled",!Z)}},directives:[t.uh,t.xY,n.f,e.lW],styles:[""]}),M}()},17537:function(P,A,a){a.d(A,{h:function(){return N}});var D=a(39117),E=a(1884),t=a(86613),r=a(42827),n=a(54244),e=a(36362),d=a(90587),M=a(44770),p=a(43365),v=a(91434),f=a(1130),Z=a(14900);function b(h,T){if(1&h&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&h){var m=T.$implicit;t.Q6J("value",m.value),t.xp6(1),t.hij(" ",m.display," ")}}function R(h,T){if(1&h&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&h){var m=T.$implicit;t.Q6J("value",m.value),t.xp6(1),t.hij(" ",m.display," ")}}function I(h,T){if(1&h&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&h){var m=T.$implicit;t.Q6J("value",m.value),t.xp6(1),t.hij(" ",m.display," ")}}function S(h,T){1&h&&t._UZ(0,"div")}function U(h,T){if(1&h){var m=t.EpF();t.TgZ(0,"form",1),t.TgZ(1,"div",2),t.TgZ(2,"mat-form-field",3),t.TgZ(3,"input",4),t.NdJ("ngModelChange",function(u){return t.CHM(m),t.oxw().structure.formula=u}),t.qZA(),t.qZA(),t.TgZ(4,"mat-form-field",5),t.TgZ(5,"mat-label"),t._uU(6,"Stereochemistry"),t.qZA(),t.TgZ(7,"mat-select",6),t.NdJ("ngModelChange",function(u){return t.CHM(m),t.oxw().structure.stereochemistry=u}),t.YNc(8,b,2,2,"mat-option",7),t.qZA(),t.qZA(),t.TgZ(9,"mat-form-field",8),t.TgZ(10,"mat-label"),t._uU(11,"Optical Activity"),t.qZA(),t.TgZ(12,"mat-select",9),t.NdJ("ngModelChange",function(u){return t.CHM(m),t.oxw().structure.opticalActivity=u}),t.YNc(13,R,2,2,"mat-option",7),t.qZA(),t.qZA(),t.TgZ(14,"mat-form-field",10),t.TgZ(15,"mat-label"),t._uU(16,"Additional Stereochemistry"),t.qZA(),t.TgZ(17,"mat-select",11),t.NdJ("ngModelChange",function(u){return t.CHM(m),t.oxw().structure.atropisomerism=u}),t.YNc(18,I,2,2,"mat-option",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",2),t.TgZ(20,"div",12),t.TgZ(21,"div",13),t._uU(22," Molecular Weight "),t.qZA(),t.TgZ(23,"div",14),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"div",12),t.TgZ(26,"div",13),t._uU(27," Defined Stereocenters "),t.qZA(),t.TgZ(28,"div",14),t._uU(29),t.qZA(),t.qZA(),t.TgZ(30,"div",12),t.TgZ(31,"div",13),t._uU(32," EZ Centers "),t.qZA(),t.TgZ(33,"div",14),t._uU(34),t.qZA(),t.qZA(),t.TgZ(35,"div",12),t.TgZ(36,"div",13),t._uU(37," Structure Charge "),t.qZA(),t.TgZ(38,"div",14),t._uU(39),t.qZA(),t.qZA(),t.YNc(40,S,1,0,"div",15),t.qZA(),t.TgZ(41,"div",2),t.TgZ(42,"div",16),t.TgZ(43,"div",17),t._uU(44,"Stereo Comments"),t.qZA(),t.TgZ(45,"textarea",18),t.NdJ("ngModelChange",function(u){return t.CHM(m),t.oxw().structure.stereoComments=u}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"div",2),t._UZ(47,"app-audit-info",19),t.qZA(),t.qZA()}if(2&h){var c=t.oxw();t.xp6(3),t.Q6J("ngModel",c.structure.formula),t.xp6(4),t.Q6J("ngModel",c.structure.stereochemistry),t.xp6(1),t.Q6J("ngForOf",c.stereoChemistryTypeList),t.xp6(4),t.Q6J("ngModel",c.structure.opticalActivity),t.xp6(1),t.Q6J("ngForOf",c.opticalActivityList),t.xp6(4),t.Q6J("ngModel",c.structure.atropisomerism),t.xp6(1),t.Q6J("ngForOf",c.atropisomerismList),t.xp6(6),t.hij(" ",c.structure.mwt," "),t.xp6(5),t.AsE(" ",c.structure.definedStereo," / ",c.structure.stereoCenters," "),t.xp6(5),t.hij(" ",c.structure.ezCenters," "),t.xp6(5),t.hij(" ",c.structure.charge," "),t.xp6(1),t.Q6J("ngIf",!c.hideAccess),t.xp6(5),t.Q6J("ngModel",c.structure.stereoComments),t.xp6(2),t.Q6J("source",c.structure)}}var N=function(){var h=function(){function T(m,c){(0,D.Z)(this,T),this.cvService=m,this.overlayContainerService=c,this.privateStructure={},this.stereoChemistryTypeList=[],this.opticalActivityList=[],this.atropisomerismList=[],this.hideAccess=!0,this.showSettings=!1,this.structureImported=new t.vpe,this.subscriptions=[]}return(0,E.Z)(T,[{key:"ngOnInit",value:function(){this.getVocabularies(),this.optical=this.privateStructure.opticalActivity}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(c){c.unsubscribe()})}},{key:"structure",get:function(){return"NONE"===this.privateStructure.opticalActivity&&!this.inCV(this.opticalActivityList,this.privateStructure.opticalActivity)&&(this.privateStructure.opticalActivity="none"),this.privateStructure},set:function(c){null!=c&&(this.privateStructure=c,"NONE"===this.privateStructure.opticalActivity&&!this.inCV(this.opticalActivityList,this.privateStructure.opticalActivity)&&(this.privateStructure.opticalActivity="none"))}},{key:"getVocabularies",value:function(){var c=this;this.cvService.getDomainVocabulary("STEREOCHEMISTRY_TYPE","OPTICAL_ACTIVITY","ATROPISOMERISM").subscribe(function(s){c.stereoChemistryTypeList=s.STEREOCHEMISTRY_TYPE.list,c.opticalActivityList=s.OPTICAL_ACTIVITY.list,c.atropisomerismList=s.ATROPISOMERISM.list})}},{key:"updateAccess",value:function(c){this.privateStructure.access=c}},{key:"inCV",value:function(c,s){return!c||c.some(function(u){return s===u.value})}}]),T}();return h.\u0275fac=function(m){return new(m||h)(t.Y36(r.I),t.Y36(n.Xj))},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-structure-form"]],inputs:{hideAccess:"hideAccess",showSettings:"showSettings",type:"type",structure:"structure"},outputs:{structureImported:"structureImported"},decls:1,vars:1,consts:[["class","structure-form",4,"ngIf"],[1,"structure-form"],[1,"form-row"],[1,"mol-formula"],["matInput","","placeholder","Molecular Formula","name","formula","required","",3,"ngModel","ngModelChange"],[1,"stereochemistry"],["name","stereochemistry",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"optical-activity"],["name","opticalActivity",3,"ngModel","ngModelChange"],[1,"atropisomerism"],["name","additionalStereochemistry",3,"ngModel","ngModelChange"],[1,"key-value-pair"],[1,"key"],[1,"value"],[4,"ngIf"],[1,"stereo-comments"],[1,"textarea-label"],["placeholder","Enter text here","name","stereoComments",3,"ngModel","ngModelChange"],[3,"source"],[3,"value"]],template:function(m,c){1&m&&t.YNc(0,U,48,15,"form",0),2&m&&t.Q6J("ngIf",c.structure&&"structure"===c.type)},directives:[e.O5,d._Y,d.JL,d.F,M.KE,p.Nt,d.Fj,d.Q7,d.JJ,d.On,M.hX,v.gD,e.sg,f.ey,Z.n],styles:[".structure-form[_ngcontent-%COMP%]{padding:15px 7px}.form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .mol-formula[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .stereochemistry[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .optical-activity[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .atropisomerism[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}.polymer-form[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.key-value-pair[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.key-value-pair[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{font-size:11px;padding-bottom:4px}.stereo-comments[_ngcontent-%COMP%]{width:100%;padding-top:10px}.settings_container[_ngcontent-%COMP%]{padding-left:7px}.settings_container[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:45px;height:45px}.settings_container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:35px;height:35px}.WARNING[_ngcontent-%COMP%]{color:var(--warning-dialog-color);background-color:var(--warning-dialog-bg-color)}.ERROR[_ngcontent-%COMP%]{color:var(--error-dialog-color);background-color:var(--error-dialog-bg-color)}.dupe-check[_ngcontent-%COMP%]{margin-bottom:5px}.internal-link[_ngcontent-%COMP%]{color:var(--link-primary-color)}"]}),h}()},22544:function(P,A,a){a.d(A,{h:function(){return c}});var D=a(39117),E=a(1884),t=a(12570),r=a(95758),n=a(86613),e=a(93392),d=a(36362),M=a(87317);function p(s,u){if(1&s&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&s){var _=n.oxw();n.xp6(1),n.hij(" Are you sure you'd like to restore version ",_.version,"? ")}}function v(s,u){1&s&&(n.TgZ(0,"div"),n._uU(1," Restoring... "),n.qZA())}function f(s,u){1&s&&(n.TgZ(0,"div"),n._uU(1," Record restored successfullly. Close this dialog to redirect to the new version. "),n.qZA())}function Z(s,u){if(1&s){var _=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"div"),n._uU(2," There was a problem restoring this version. "),n.qZA(),n.TgZ(3,"div"),n._uU(4,"Would you like to see the error details?"),n.qZA(),n.TgZ(5,"a",9),n.NdJ("click",function(){return n.CHM(_),n.oxw().status="error"}),n._uU(6,"Show errors"),n.qZA(),n.qZA()}}function b(s,u){if(1&s&&(n.TgZ(0,"div",13),n._uU(1),n.qZA()),2&s){var _=u.$implicit;n.xp6(1),n.hij(" ",_.message.message?_.message.message:_.message," ")}}function R(s,u){if(1&s&&(n.TgZ(0,"span"),n.YNc(1,b,2,1,"div",12),n.qZA()),2&s){var _=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",_.validationMessages)}}function I(s,u){if(1&s&&(n.TgZ(0,"div"),n.YNc(1,R,2,1,"span",3),n.qZA()),2&s){var _=n.oxw(2);n.xp6(1),n.Q6J("ngIf",_.validationMessages.length>0)}}function S(s,u){if(1&s&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&s){var _=n.oxw(2);n.xp6(1),n.hij(" ",_.serverError," ")}}function U(s,u){1&s&&(n.TgZ(0,"div"),n.TgZ(1,"i"),n._uU(2,"No error information returned from the server"),n.qZA(),n.qZA())}function N(s,u){if(1&s&&(n.TgZ(0,"div",10),n.TgZ(1,"div",11),n._uU(2," Error restoring record. Here is some information on the error to share with a system admin / developers. "),n.qZA(),n.YNc(3,I,2,1,"div",3),n.YNc(4,S,2,1,"div",3),n.YNc(5,U,3,0,"div",3),n.qZA()),2&s){var _=n.oxw();n.xp6(3),n.Q6J("ngIf",_.validationMessages),n.xp6(1),n.Q6J("ngIf",_.serverError),n.xp6(1),n.Q6J("ngIf",!_.validationMessages&&!_.serverError)}}function h(s,u){1&s&&(n.TgZ(0,"button",14),n._uU(1,"Cancel"),n.qZA())}function T(s,u){if(1&s){var _=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){return n.CHM(_),n.oxw().accept()}),n._uU(1,"Accept"),n.qZA()}}function m(s,u){if(1&s){var _=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){return n.CHM(_),n.oxw().close()}),n._uU(1,"Close"),n.qZA()}}var c=function(){var s=function(){function u(_,g,x,y){(0,D.Z)(this,u),this.loadingService=_,this.substanceService=g,this.dialogRef=x,this.data=y}return(0,E.Z)(u,[{key:"ngOnInit",value:function(){this.substance=this.data.substance,this.latest=this.data.latest,this.version=this.data.version,this.status="start"}},{key:"close",value:function(){this.dialogRef.close("success")}},{key:"accept",value:function(){var g=this;this.status="running",this.loadingService.setLoading(!0),this.substanceService.getSubstanceDetails(this.substance.uuid,this.version).subscribe(function(x){g.substance.changeReason="reverted to version "+g.version,g.substance.version=g.latest,g.substanceService.saveSubstance(g.substance).subscribe(function(y){g.substance=y,g.status="complete",g.loadingService.setLoading(!1)},function(y){g.status="failed",g.loadingService.setLoading(!1),y&&y.error&&y.error.validationMessages?g.validationMessages=y.error.validationMessages:g.serverError=y})},function(x){g.status="failed",g.loadingService.setLoading(!1),console.log(x)})}}]),u}();return s.\u0275fac=function(_){return new(_||s)(n.Y36(e.b),n.Y36(t.d),n.Y36(r.so),n.Y36(r.WI))},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-substance-history-dialog"]],decls:15,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"main-text"],[4,"ngIf"],["class","errors",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","","color","primary","matDialogClose","",4,"ngIf"],[1,"middle-fill"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[1,"primary-color",3,"click"],[1,"errors"],[1,"error-title"],["class","validation-message",4,"ngFor","ngForOf"],[1,"validation-message"],["mat-flat-button","","color","primary","matDialogClose",""],["mat-flat-button","","color","primary",3,"click"]],template:function(_,g){1&_&&(n.TgZ(0,"div",0),n.TgZ(1,"h3"),n._uU(2,"Version Control"),n.qZA(),n.qZA(),n.TgZ(3,"div",1),n.TgZ(4,"div",2),n.YNc(5,p,2,1,"div",3),n.YNc(6,v,2,0,"div",3),n.YNc(7,f,2,0,"div",3),n.YNc(8,Z,7,0,"div",3),n.qZA(),n.YNc(9,N,6,3,"div",4),n.qZA(),n.TgZ(10,"div",5),n.YNc(11,h,2,0,"button",6),n._UZ(12,"span",7),n.YNc(13,T,2,0,"button",8),n.YNc(14,m,2,0,"button",8),n.qZA()),2&_&&(n.xp6(5),n.Q6J("ngIf","start"===g.status),n.xp6(1),n.Q6J("ngIf","running"===g.status),n.xp6(1),n.Q6J("ngIf","complete"===g.status),n.xp6(1),n.Q6J("ngIf","failed"===g.status),n.xp6(1),n.Q6J("ngIf","error"===g.status),n.xp6(2),n.Q6J("ngIf","complete"!==g.status),n.xp6(2),n.Q6J("ngIf","start"===g.status),n.xp6(1),n.Q6J("ngIf","complete"===g.status))},directives:[r.uh,r.xY,d.O5,d.sg,r.H8,M.lW,r.ZT],styles:[".main-text[_ngcontent-%COMP%]{font-size:18px;display:-ms-flexbox;display:flex;width:100%;margin-bottom:20px;min-height:50px}.validation-message[_ngcontent-%COMP%]{padding-bottom:12px}.primary-color[_ngcontent-%COMP%]{color:var(--link-primary-color)}.error-title[_ngcontent-%COMP%]{padding-bottom:20px}"]}),s}()}}]);
//# sourceMappingURL=common.682ff1266dccee11.js.map